sap.ui.define(["sap/ui/model/json/JSONModel","sap/base/Log"],function(e,t){"use strict";var r=window.location.href,n=r.includes("hana.ondemand.com/")?true:false,s=jQuery.sap.storage(jQuery.sap.storage.Type.local),o=function(){if(n){try{var r=jQuery.sap.storage(jQuery.sap.storage.Type.session);var s=jQuery.sap.getModulePath("com.mjzsoft.UserSurveys","/conf/token.json");var o=new e(s);o.attachRequestCompleted(null,function(){var e=o.getData();var t={accessToken:e.accessToken,refreshToken:e.refreshToken,tokenType:e.tokenType,expireAt:(new Date).getTime()+e.expiryDuration};r.put("CurrentToken",JSON.stringify(t))})}catch(e){t.error(e)}}};var a;if(n){a="http://localhost"}else{a=window.location.href;a=a.substring(0,a.indexOf("?"));a=a.substring(0,a.lastIndexOf("/"))}s.put("JwtServerUrl",a+"/");s.put("JwtUserEndpoint","api/user/me");o();return{isDebugModeActivated:function(){return n}}});