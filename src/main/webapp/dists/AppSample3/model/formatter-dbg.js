sap.ui.define([],function(){"use strict";return{currencyValue:function(e){if(!e){return""}return parseFloat(e).toFixed(2)},icon:function(e){return e&&e!==""?e:jQuery.sap.getModulePath("com/mjzsoft/UserSurveys/images")+"/Person.png"},userSurveyTableMode:function(){var e=this.getOwnerComponent().getCurrentUser();return e&&e.admin?"MultiSelect":"None"},userSurveyTableItemType:function(e){var t=this.getOwnerComponent().getCurrentUser();return t&&t.admin&&t.id!==parseInt(e,10)?"Inactive":"Navigation"},userSurveyTableButtonVisible:function(){var e=this.getOwnerComponent().getCurrentUser();return e&&e.admin}}});jQuery.sap.declare("com.mjzsoft.UserSurveys.model.Formatter");com.mjzsoft.UserSurveys.model.Formatter={successValue:function(e){this.addStyleClass("successDate");return e},doneValue:function(e,t,s,r){this.removeStyleClass("doneDate");this.removeStyleClass("openDate");this.removeStyleClass("closedDate");var n;if(e!==""){n=e;this.addStyleClass("doneDate")}else{if(new Date>s){n=this.getModel("i18n").getResourceBundle().getText("stateClosed");this.addStyleClass("closedDate")}else if(new Date<t){n=this.getModel("i18n").getResourceBundle().getText("stateNotOpenYet");this.addStyleClass("closedDate")}else{if(this.getBindingContext().getObject()===undefined){n=this.getModel("i18n").getResourceBundle().getText("stateUnknown");this.addStyleClass("doneDate")}else{var a=this.getBindingContext().getObject().Form.__ref;var o=this.getModel().getProperty("/"+a);var i=false;for(var l=0;l<o.Questions.__list.length;l++){var u=o.Questions.__list[l];var d=this.getModel().getProperty("/"+u);var g=this.getModel().bindList("/"+u+"/Answers",null,null,[new sap.ui.model.Filter({path:"UserId",operator:sap.ui.model.FilterOperator.EQ,value1:r}),new sap.ui.model.Filter({path:"QuestionId",operator:sap.ui.model.FilterOperator.EQ,value1:d.Id})]);if(g.getLength()>0){i=true;break}}if(i){n=this.getModel("i18n").getResourceBundle().getText("stateUnknown");this.addStyleClass("doneDate")}else{n=this.getModel("i18n").getResourceBundle().getText("stateOpen");this.addStyleClass("openDate")}}}}return n}};