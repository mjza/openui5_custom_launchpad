jQuery.sap.registerPreloadedModules({version:"2.0",modules:{"com/mjzsoft/QuestionnaireStatistics/Component.js":function(){sap.ui.define(["sap/ui/core/UIComponent","sap/ui/Device","./model/models","./conf/env","./js/jwtAuthApp","./controller/ErrorHandler","sap/m/MessageBox"],function(e,t,n,i,o,s,r){"use strict";return e.extend("com.mjzsoft.QuestionnaireStatistics.Component",{metadata:{manifest:"json"},init:function(){this._oErrorHandler=new s(this);this.setModel(n.createDeviceModel(),"device");this.setModel(n.createFLPModel(),"FLP");e.prototype.init.apply(this,arguments);o.addModel(this.getModel());this.getRouter().initialize()},getCurrentUser:function(){return o.getCurrentUser()},getContentDensityClass:function(){if(this._sContentDensityClass===undefined){if(document.body.classList.contains("sapUiSizeCozy")||document.body.classList.contains("sapUiSizeCompact")){this._sContentDensityClass=""}else if(!t.support.touch){this._sContentDensityClass="sapUiSizeCompact"}else{this._sContentDensityClass="sapUiSizeCozy"}}return this._sContentDensityClass}})})},"com/mjzsoft/QuestionnaireStatistics/conf/env.js":function(){sap.ui.define(["sap/ui/model/json/JSONModel","sap/base/Log"],function(e,t){"use strict";var n=window.location.href,i=n.includes("hana.ondemand.com/")?true:false,o=jQuery.sap.storage(jQuery.sap.storage.Type.local),s=function(){if(i){try{var n=jQuery.sap.storage(jQuery.sap.storage.Type.session);var o=jQuery.sap.getModulePath("com.mjzsoft.QuestionnaireStatistics","/conf/token.json");var s=new e(o);s.attachRequestCompleted(null,function(){var e=s.getData();var t={accessToken:e.accessToken,refreshToken:e.refreshToken,tokenType:e.tokenType,expireAt:(new Date).getTime()+e.expiryDuration};n.put("CurrentToken",JSON.stringify(t))})}catch(e){t.error(e)}}};var r;if(i){r="http://localhost:9090"}else{r=window.location.href;r=r.substring(0,r.indexOf("?"));r=r.substring(0,r.lastIndexOf("/"))}o.put("JwtServerUrl",r+"/");o.put("JwtUserEndpoint","api/user/me");s();return{isDebugModeActivated:function(){return i}}})},"com/mjzsoft/QuestionnaireStatistics/controller/App.controller.js":function(){sap.ui.define(["com/mjzsoft/QuestionnaireStatistics/controller/BaseController","com/mjzsoft/QuestionnaireStatistics/model/models"],function(e,t){"use strict";return e.extend("com.mjzsoft.QuestionnaireStatistics.controller.App",{onInit:function(){var e,n,i=this.getView().getBusyIndicatorDelay();e=t.initAppViewModel();this.setModel(e,"appView");n=function(){e.setProperty("/busy",false);e.setProperty("/delay",i)};this.getOwnerComponent().getModel().metadataLoaded().then(n);this.getOwnerComponent().getModel().attachMetadataFailed(n);this.getView().addStyleClass(this.getOwnerComponent().getContentDensityClass())},onStateChangedFlexibleColumnLayout:function(e){var t=this.getModel("appView"),n;if(t){n=t.getProperty("/layout");if(n==="TwoColumnsBeginExpanded"||n==="ThreeColumnsBeginExpandedEndHidden"||n==="OneColumn"){t.setProperty("/FlexBoxDirection","Row")}else{t.setProperty("/FlexBoxDirection","Column")}}}})})},"com/mjzsoft/QuestionnaireStatistics/controller/BaseController.js":function(){sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/routing/History"],function(e,t){"use strict";return e.extend("com.mjzsoft.QuestionnaireStatistics.controller.BaseController",{getRouter:function(){return this.getOwnerComponent().getRouter()},getModel:function(e){return this.getView().getModel(e)},getAppViewModel:function(){return this.getModel("appView")},setModel:function(e,t){return this.getView().setModel(e,t)},getResourceBundle:function(){return this.getOwnerComponent().getModel("i18n").getResourceBundle()},onNavBack:function(){var e=t.getInstance().getPreviousHash(),n=sap.ushell.Container.getService("CrossApplicationNavigation");if(e!==undefined||!n.isInitialNavigation()){history.go(-1)}else{this.getRouter().navTo("master",{},true)}}})})},"com/mjzsoft/QuestionnaireStatistics/controller/Detail.controller.js":function(){sap.ui.define(["com/mjzsoft/QuestionnaireStatistics/controller/BaseController","sap/ui/model/json/JSONModel","sap/ui/model/Filter","sap/ui/model/FilterOperator","com/mjzsoft/QuestionnaireStatistics/model/formatter"],function(e,t,n,i,o){"use strict";return e.extend("com.mjzsoft.QuestionnaireStatistics.controller.Detail",{formatter:o,aContent:[],aSurveys:[],aAnswers:[],aOptions:[],onInit:function(){var e=new t({busy:false,delay:0,atLeastSellectOneItemToAction:this.getResourceBundle().getText("atLeastSellectOneItemToAction")});this.getRouter().getRoute("object").attachPatternMatched(this._onObjectMatched,this);this.setModel(e,"detailView");this.getOwnerComponent().getModel().metadataLoaded().then(this._onMetadataLoaded.bind(this))},readWithFilter:function(e,t,n){var i=jQuery.Deferred();if(!Array.isArray(t)){t=[t]}this.getOwnerComponent().getModel().read(e,{urlParameters:n,filters:t,success:i.resolve,error:i.reject});return i},setContentInitial:function(){this.aContent=[]},_onObjectMatched:function(e){if(!this.getOwnerComponent().getCurrentUser()||!this.getOwnerComponent().getCurrentUser().admin){this.getRouter().navTo("notAllowed",{},true);this.getModel("appView").setProperty("/layout","OneColumn")}else{var t=e.getParameter("arguments").objectId;this.getModel("appView").setProperty("/layout","TwoColumnsMidExpanded");this.getModel().metadataLoaded().then(function(){var e=this.getModel().createKey("FormSet",{Id:t});this._bindView("/"+e)}.bind(this));this.getView().getModel("detailView").setProperty("/busy",true);var o=[];o.push(new n("FormId",i.EQ,t));this.readWithFilter("/SurveySet",o,{}).then(e=>{this.setContentInitial();this.aSurveys=e.results.filter(e=>e.DoneAt!==null);this.getModel("detailView").setProperty("/UserCount",this.aSurveys.length);if(this.aSurveys.length===0){if(this.getView().byId("StatContainer").getItems().length>0){this.getView().byId("StatContainer").removeAllItems()}var o=new sap.m.Title({text:this.getResourceBundle().getText("noStatisticData"),wrapping:true}).addStyleClass("sapUiResponsiveMargin").addStyleClass("boldText");this.getView().byId("StatContainer").addItem(o);this.getView().getModel("detailView").setProperty("/busy",false);return}var s=[];s.push(new n("FormId",i.EQ,t));s.push(new n("Deleted",i.EQ,false));var r={$expand:"Qtype"};this.readWithFilter("/QuestionSet",s,r).then(e=>{var t=e.results;var o=[];t.forEach(function(e){o.push(new n("QuestionId",i.EQ,e.Id))});var s=[];this.aSurveys.forEach(function(e){s.push(new n("UserId",i.EQ,e.UserId))});if(o.length===0||s.length===0){return}var r=new n({filters:[new n({filters:o,and:false}),new n({filters:s,and:false})],and:true});this.readWithFilter("/AnswerSet",r,{$expand:"Question,Option"}).then(e=>{this.aAnswers=e.results;this.readWithFilter("/OptionSet",[],{$expand:"Question"}).then(e=>{this.aOptions=e.results;this.constructContent(t)}).fail(()=>{})}).fail(()=>{})}).fail(()=>{})}).fail(()=>{});sap.ui.getCore().getEventBus().publish("_refreshMasterSelection","formId",{formId:t})}},getOptionsForQuestionId:function(e){var t=[];for(var n=0;n<this.aOptions.length;n++){if(this.aOptions[n].QuestionId===e&&this.aOptions[n].Deleted===false){t.push(this.aOptions[n])}}return t},getAnswersForQuestionId:function(e){var t=[];for(var n=0;n<this.aAnswers.length;n++){if(this.aAnswers[n].Question.Id===e){t.push(this.aAnswers[n])}}return t},handleTypes:function(e,t,n,i){var o=n.Qtype.Id;var s={};var r=false;switch(o){case"QT1":s=this.constructRatingIndicator(e);break;case"QT2":s=this.constructDonutChart(e);if(s){r=true}break;case"QT3":s=this.constructBarChart(e,t);break;case"QT4":s=this.constructBarChart(e,t);break;case"QT5":s=this.constructFreeTextList(e);break;case"QT6":s=this.constructFreeTextList(e);break;case"QT7":s=this.constructBarChart(e,t);break;default:break}this.addToViewArray(n,s,r,i)},constructContent:function(e){e.sort(function(e,t){return e.Sequence-t.Sequence});if(this.getView().byId("StatContainer").getItems().length>0){this.getView().byId("StatContainer").removeAllItems()}var t=new sap.m.Title({text:this.getResourceBundle().getText("labelUserStatistic"),wrapping:true}).addStyleClass("sapUiResponsiveMargin").addStyleClass("boldText");this.aContent.push(t);t=new sap.m.Title({text:this.getResourceBundle().getText("labelUsersComplete",[this.getModel("detailView").getProperty("/UserCount")]),wrapping:true}).addStyleClass("sapUiResponsiveMargin");this.aContent.push(t);this.aContent.push(this.getDoneStatistic());t=new sap.m.Title({text:this.getResourceBundle().getText("labelAnswerStatistic"),wrapping:true}).addStyleClass("sapUiResponsiveMargin").addStyleClass("boldText");this.aContent.push(t);for(var n=0;n<e.length;n++){var i=e[n].Id;var o=this.getAnswersForQuestionId(i);if(o[0]&&o[0].Answer===""){this.handleTypes(o,this.getOptionsForQuestionId(i),e[n],n)}else{this.handleTypes(o,undefined,e[n],n)}}this.aContent.forEach(e=>this.getView().byId("StatContainer").addItem(e));this.getModel("detailView").setProperty("/busy",false)},getDoneStatistic:function(){this.aSurveys=this.aSurveys.sort((e,t)=>new Date(e.DoneAt)-new Date(t.DoneAt));var e=[];for(var t=0;t<this.aSurveys.length;t++){var n=new Date(this.aSurveys[t].DoneAt).toLocaleDateString();var i=e.filter(e=>e.DoneDate===n);if(i.length>0){i[0].count++}else{e.push({DoneDate:n,count:1})}}var o={config:{height:"400px",width:"100%",uiConfig:{applicationSet:"fiori"},vizProperties:{title:{text:this.getResourceBundle().getText("labelUserCompletion")}}},userCompletion:{icon:"sap-icon://vertical-bar-chart",title:"Bar Chart",dataset:{dimensions:[{name:this.getResourceBundle().getText("labelReadyOn"),value:"{DoneDate}"}],measures:[{name:this.getResourceBundle().getText("labelUserCount"),value:"{count}"}],data:{path:"/"}},feedItems:[{uid:"valueAxis",type:"Measure",values:[this.getResourceBundle().getText("labelUserCount")]},{uid:"categoryAxis",type:"Dimension",values:[this.getResourceBundle().getText("labelReadyOn")]}],vizType:"column"}};var s=o.userCompletion;var r=new sap.suite.ui.commons.ChartContainerContent({icon:s.icon,title:s.title,content:this._createVizFrame(s,o,e)});var a=new sap.suite.ui.commons.ChartContainer;a.addStyleClass("vizFrameBackground");a.addContent(r);return a},_createVizFrame:function(e,n,i){var o=new sap.viz.ui5.controls.VizFrame(n.config);var s=new t;s.setData(i);var r=new sap.viz.ui5.data.FlattenedDataset(e.dataset);o.setDataset(r);o.setModel(s);this._addFeedItems(o,e.feedItems);o.setVizType(e.vizType);return o},_addFeedItems:function(e,t){for(var n=0;n<t.length;n++){e.addFeed(new sap.viz.ui5.controls.common.feeds.FeedItem(t[n]))}},addToViewArray:function(e,t,n=false,i){var o=new sap.m.FlexBox({height:n?"10rem":"auto",alignItems:"Center",justifyContent:"Start",items:[t]}).addStyleClass("sapUiResponsiveMargin");var s=new sap.m.Title({text:i+1+". "+e.Question+(e.Mandatory?"*":""),wrapping:true}).addStyleClass("sapUiResponsiveMargin").addStyleClass("boldText");this.aContent.push(s);this.aContent.push(o)},constructFreeTextList:function(e){var n=[];var i={};for(var o=0;o<e.length;o++){n.push(e[o].Answer)}n.forEach(function(e){i[e]=(i[e]||0)+1});i=Object.entries(i);var s=[new sap.m.Column({header:new sap.m.ObjectIdentifier({title:this.getResourceBundle().getText("colComment")}),width:"auto",visible:true}),new sap.m.Column({header:new sap.m.ObjectIdentifier({title:this.getResourceBundle().getText("colCount")}),width:"100px",visible:true})];var r=new t;r.setData({columns:s,rows:i});var a=new sap.m.Table;a.setModel(r);a.bindAggregation("columns","/columns",function(e,t){var n=t.getObject().getAggregation("header").getProperty("title");return new sap.m.Column({header:new sap.m.Label({text:n}),width:t.getObject().getProperty("width")})});a.bindItems("/rows",function(e,t){var n=t.getObject();var i=new sap.m.ColumnListItem;var o=new sap.m.TextArea({width:"100%",value:n[0],editable:false,enabled:false});o.addStyleClass("transparentBackground");i.addCell(o);i.addCell(new sap.m.Label({text:n[1],design:"Bold"}));return i});var l=new sap.m.VBox;l.addStyleClass("lightGrayBorder");l.addItem(a);return l},constructBarChart:function(e=[],t=[]){var n=t.filter(e=>e.Deleted===false).map(e=>e.Id);e=e.filter(e=>n.includes(e.OptionId));var i=new sap.suite.ui.microchart.InteractiveBarChart({displayedBars:t.length,selectionEnabled:false});var o;for(var s=0;s<t.length;s++){o=0;for(var r=0;r<e.length;r++){if(e[r].SelectedAnswer.Id===t[s].Id){o++}}t[s].count=o}for(var a=0;a<t.length;a++){t[a].percentage=t[a].count/e.length*100}for(var l=0;l<t.length;l++){var u=new sap.suite.ui.microchart.InteractiveBarChartBar({color:sap.m.ValueColor.Neutral,label:t[l].Answer,value:t[l].count,displayedValue:this.formatNumber(t[l].percentage)+"%"});i.addBar(u)}i.addStyleClass("greenBar");return i},formatNumber:function(e){return(Math.round(e*100)/100).toFixed(2)},constructDonutChart:function(e){if(!e||e.length<=0){return null}var t=new sap.suite.ui.microchart.InteractiveDonutChart({selectionEnabled:false});t.setDisplayedSegments(2);var n=0;var i=0;for(var o=0;o<e.length;o++){if(e[o].Answer==="1"){n++}else if(e[o].Answer==="0"){i++}}var s=n/e.length*100;var r=i/e.length*100;var a=new sap.suite.ui.microchart.InteractiveDonutChartSegment({color:sap.m.ValueColor.Good,label:this.getResourceBundle().getText("yesCount",[n]),value:n,displayedValue:this.formatNumber(s)+"%"});t.addSegment(a);a=new sap.suite.ui.microchart.InteractiveDonutChartSegment({color:sap.m.ValueColor.Error,label:this.getResourceBundle().getText("noCount",[i]),value:i,displayedValue:this.formatNumber(r)+"%"});t.addSegment(a);return t},constructRatingIndicator:function(e){var t=[];for(var n=1;n<6;n++){var i=e.filter(e=>e.Answer===n.toString());var o=new sap.m.Label({text:i.length,design:"Bold"});var s=new sap.m.RatingIndicator({maxValue:5,value:n,displayOnly:false,enabled:false}).addStyleClass("sapUiTinyMarginEnd");if(n===1){s.addStyleClass("redStar")}else if(n===2){s.addStyleClass("orangeStar")}else if(n===3){s.addStyleClass("yellowStar")}else if(n===4){s.addStyleClass("lightGreenStar")}else if(n===5){s.addStyleClass("darkGreenStar")}t.push(new sap.m.HBox({items:[s,o]}).addStyleClass("sapUiTinyMarginBottom"))}var r=new sap.m.VBox({items:[t]});return r},_bindView:function(e){var t=this.getModel("detailView");this.getModel("appView").setProperty("/FlexBoxDirection","Column");this.getView().bindElement({path:e,events:{change:this._onBindingChange.bind(this),dataRequested:function(){t.setProperty("/busy",true)},dataReceived:function(){}}})},_onBindingChange:function(){var e=this.getView(),t=e.getElementBinding();if(!t.getBoundContext()){this.getRouter().getTargets().display("detailObjectNotFound");return}},_onMetadataLoaded:function(){var e=this.getModel("detailView");e.setProperty("/delay",0);e.setProperty("/busy",true)},onCloseDetailPress:function(){sap.ui.getCore().getEventBus().publish("_deselectMasterSelection","detailClose",{});this.getModel("appView").setProperty("/actionButtonsInfo/midColumn/fullScreen",false);this.getRouter().navTo("master")},toggleFullScreen:function(){var e=this.getModel("appView").getProperty("/actionButtonsInfo/midColumn/fullScreen");this.getModel("appView").setProperty("/actionButtonsInfo/midColumn/fullScreen",!e);if(e){this.getModel("appView").setProperty("/layout",this.getModel("appView").getProperty("/previousLayout"))}else{this.getModel("appView").setProperty("/previousLayout",this.getModel("appView").getProperty("/layout"));this.getModel("appView").setProperty("/layout","MidColumnFullScreen")}}})})},"com/mjzsoft/QuestionnaireStatistics/controller/DetailObjectNotFound.controller.js":function(){sap.ui.define(["./BaseController"],function(e){"use strict";return e.extend("com.mjzsoft.QuestionnaireStatistics.controller.DetailObjectNotFound",{})})},"com/mjzsoft/QuestionnaireStatistics/controller/DetailObjectNotFound.js":function(){sap.ui.define(["./BaseController"],function(e){"use strict";return e.extend("com.mjzsoft.QuestionnaireStatistics.controller.DetailObjectNotFound",{})})},"com/mjzsoft/QuestionnaireStatistics/controller/ErrorHandler.js":function(){sap.ui.define(["sap/ui/base/Object","sap/m/MessageBox","../js/XML2JSON"],function(e,t,n){"use strict";return e.extend("com.mjzsoft.QuestionnaireStatistics.controller.ErrorHandler",{constructor:function(e){this._oResourceBundle=e.getModel("i18n").getResourceBundle();this._oComponent=e;this._oModel=e.getModel();this._bMessageOpen=false;this._sErrorText=this._oResourceBundle.getText("errorText");this._oModel.attachMetadataFailed(function(e){var t=e.getParameters();this._showServiceError(t.response)},this);this._oModel.attachRequestFailed(function(e){var t=e.getParameters();if(t.response.statusCode!=="404"||t.response.statusCode===404&&t.response.responseText.indexOf("Cannot POST")===0){this._showServiceError(t.response)}},this)},_showServiceError:function(e){if(this._bMessageOpen){return}try{var i=JSON.parse(e.responseText);try{var o=i.error.innererror.errordetails,s=e.statusText+" ("+e.statusCode+") <br/>";for(var r=0;r<o.length;r++){s+="<br/> Code("+o[r].code+") : "+o[r].message}if(o.length===0){s+=i.error.message.value}var a=i.error.innererror.Error_Resolution;if(a&&a.SAP_Transaction){s+="<br/>"+a.SAP_Transaction}}catch(t){s=e.statusText+" ("+e.statusCode+") <br/>"+i.error.message.value}}catch(t){var l=new n.X2JS;i=l.xml_str2json(e.responseText);try{s=e.statusText+" ("+e.statusCode+") \n\n"+i.error.message.__text;s+="<br/><br/>"+i.error.innererror.Error_Resolution.SAP_Transaction}catch(t){s=e.statusText+" ("+e.statusCode+") \n\n"+e.responseText}}this._bMessageOpen=true;var u=parseInt(e.statusCode,10);if(u<500&&u>=400){t.error(this._oResourceBundle.getText("error400TypeResponse"),{id:"serviceErrorMessageBox",details:s?s:e,icon:t.Icon.WARNING,styleClass:this._oComponent.getContentDensityClass(),actions:[t.Action.CLOSE],onClose:function(){this._bMessageOpen=false}.bind(this)})}else{t.error(this._oResourceBundle.getText("errorResponse"),{id:"serviceErrorMessageBox",details:s?s:e,icon:t.Icon.WARNING,styleClass:this._oComponent.getContentDensityClass(),actions:[t.Action.CLOSE],onClose:function(){this._bMessageOpen=false}.bind(this)})}}})})},"com/mjzsoft/QuestionnaireStatistics/controller/ListSelector.js":function(){sap.ui.define(["sap/ui/base/Object","sap/base/Log"],function(e,t){"use strict";return e.extend("com.mjzsoft.QuestionnaireStatistics.controller.ListSelector",{constructor:function(){this._oWhenListHasBeenSet=new Promise(function(e){this._fnResolveListHasBeenSet=e}.bind(this));this.oWhenListLoadingIsDone=new Promise(function(e,t){this._oWhenListHasBeenSet.then(function(n){n.getBinding("items").attachEventOnce("dataReceived",function(){if(this._oList.getItems().length){e({list:n})}else{t({list:n})}}.bind(this))}.bind(this))}.bind(this))},setBoundMasterList:function(e){this._oList=e;this._fnResolveListHasBeenSet(e)},selectAListItem:function(e){this.oWhenListLoadingIsDone.then(function(){var t=this._oList,n;if(t.getMode()==="None"){return}n=t.getSelectedItem();if(n&&n.getBindingContext().getPath()===e){return}t.getItems().some(function(n){if(n.getBindingContext()&&n.getBindingContext().getPath()===e){t.setSelectedItem(n);return true}})}.bind(this),function(){t.warning("Could not select the list item with the path"+e+" because the list encountered an error or had no items")})},clearMasterListSelection:function(){this._oWhenListHasBeenSet.then(function(){this._oList.removeSelections(true)}.bind(this))}})})},"com/mjzsoft/QuestionnaireStatistics/controller/Master.controller.js":function(){sap.ui.define(["com/mjzsoft/QuestionnaireStatistics/controller/BaseController","com/mjzsoft/QuestionnaireStatistics/model/models","com/mjzsoft/QuestionnaireStatistics/model/formatter","sap/ui/core/routing/History","sap/ui/Device","com/mjzsoft/QuestionnaireStatistics/model/individualFormatter"],function(e,t,n,i,o){"use strict";return e.extend("com.mjzsoft.QuestionnaireStatistics.controller.Master",{formatter:n,onInit:function(){var e=t.initMasterViewModel(this);this.setModel(e,"masterView");this.getRouter().getRoute("master").attachMatched(this._onMasterMatched,this);var n=sap.ui.getCore().getEventBus();n.subscribe("_refreshMasterSelection","formId",this._refreshMasterSelection,this);n.subscribe("_deselectMasterSelection","detailClose",this._deselectMasterSelection,this)},onExit:function(){var e=sap.ui.getCore().getEventBus();e.unsubscribe("_refreshMasterSelection","formId",this._refreshMasterSelection,this);e.unsubscribe("_deselectMasterSelection","detailClose",this._deselectMasterSelection,this)},onFormsReceived:function(e){var t=e.getSource(),n=this.getModel("masterView");n.setProperty("/masterCounterTitle",this.getResourceBundle().getText("TxtNumberResources",[t.getLength()]));if(t.getLength()===0){n.setProperty("/showNoDataMessage",true)}else{n.setProperty("/showNoDataMessage",false)}},handleSearch:function(e){this.onSearch(e,"query")},liveSearch:function(e){if(e.getParameters().newValue.length===0){this.onSearch(e,"newValue")}},onSearch:function(e,t){if(e.getParameters().refreshButtonPressed){this.getView().byId("flexboxId").getBinding("items").refresh();return}var n=e.getParameter(t);var i=[];if(n){i=[new sap.ui.model.Filter("Name",sap.ui.model.FilterOperator.Contains,n)]}var o=this.getView().byId("flexboxId");o.getBinding("items").filter(i)},onNavBack:function(){var e=i.getInstance().getPreviousHash(),t=sap.ushell.Container.getService("CrossApplicationNavigation");if(e!==undefined||!t.isInitialNavigation()){history.go(-1)}else{t.toExternal({target:{shellHash:"#Shell-home"}})}},onPressItem:function(e){var t=!o.system.phone,n=e.getSource().getBindingContext();var i=this.getModel().getProperty(n.sPath);this.getRouter().navTo("object",{objectId:i.Id},t);var s=e.getSource().getParent().getItems();s.forEach(function(e){e.removeStyleClass("selectedTileItem")});e.getSource().addStyleClass("selectedTileItem");this.getModel("appView").setProperty("/flexBoxDirection","Column");this.getModel("appView").setProperty("/layout","TwoColumnsMidExpanded")},_onMasterMatched:function(){if(!this.getOwnerComponent().getCurrentUser()||!this.getOwnerComponent().getCurrentUser().admin){this.getRouter().navTo("notAllowed",{},true);this.getModel("appView").setProperty("/layout","OneColumn")}else{this.getModel().refresh(true);this.getModel("appView").setProperty("/flexBoxDirection","Row");this.getModel("appView").setProperty("/layout","OneColumn")}},_refreshMasterSelection:function(e,t,n){var i=this.getView().byId("flexboxId");var o=i.getItems();if(o.length===0){i.getBinding("items").attachEventOnce("dataReceived",function(){o=i.getItems();this._setSelectedItem(o,n.formId)}.bind(this))}else{this._setSelectedItem(o,n.formId)}sap.ui.getCore().getEventBus().unsubscribe("_refreshMasterSelection","formId",this._refreshMasterSelection,this)},_setSelectedItem:function(e,t){t=parseInt(t,10);var n=e.find(function(e){var n=e.getBindingContext().sPath;var i=this.getView().getModel().getProperty(n);return i.Id===t}.bind(this));var i=this.getAppViewModel();if(n){n.addStyleClass("selectedTileItem");i.setProperty("/flexBoxDirection","Column")}else{i.setProperty("/flexBoxDirection","Row");i.setProperty("/layout","OneColumn");i.setProperty("/datesChanged",false)}},_deselectMasterSelection:function(){var e=this.getView().byId("flexboxId");var t=e.getItems();t.forEach(function(e){e.removeStyleClass("selectedTileItem")})}})})},"com/mjzsoft/QuestionnaireStatistics/controller/NotAllowed.controller.js":function(){sap.ui.define(["./BaseController"],function(e){"use strict";return e.extend("com.mjzsoft.QuestionnaireStatistics.controller.NotAllowed",{onInit:function(){if(this.getOwnerComponent().getCurrentUser()!==null&&this.getOwnerComponent().getCurrentUser().admin){this.getRouter().navTo("master",{},true)}},onLinkPressed:function(){var e=sap.ushell.Container.getService("CrossApplicationNavigation");e.toExternal({target:{shellHash:"#Shell-home"}})}})})},"com/mjzsoft/QuestionnaireStatistics/controller/NotFound.controller.js":function(){sap.ui.define(["./BaseController"],function(e){"use strict";return e.extend("com.mjzsoft.QuestionnaireStatistics.controller.NotFound",{onInit:function(){this.getRouter().getTarget("notFound").attachDisplay(this._onNotFoundDisplayed,this)},_onNotFoundDisplayed:function(){this.getModel("appView").setProperty("/layout","OneColumn")}})})},"com/mjzsoft/QuestionnaireStatistics/i18n/i18n.properties":"# This is the resource bundle for Questionnaire Statistics\n\n#XTIT: Application name\nappTitle=Questionnaire Statistics\n\n#YDES: Application description\nappDescription=Statistic of surveys\n\n#~~~ Master View ~~~~~~~~~~~~~~~~~~~~~~~~~~\n\n#XTIT: Master view title with placeholder for the number of items\nmasterTitleCount=Surveys\n\n#XTOL: Tooltip for the search field\nmasterSearchTooltip=Enter an Survey name or a part of it.\n\n#XBLI: text for a list with no data\nmasterListNoDataText=No Surveys are currently available\n\n#XBLI: text for a list with no data with filter or search\nmasterListNoDataWithFilterOrSearchText=No matching Surveys found\n\n#XFLD: Question count text\nquestionsCount=Questions\n\n#XFLD: available surveys count\nTxtNumberResources={0} Surveys are available to manage\n\n#~~~ Detail View ~~~~~~~~~~~~~~~~~~~~~~~~~~\n\n#XTOL: Tooltip text for close column button\ncloseColumn=Close\n\n#XBLI: text for selecting items for delete \natLeastSellectOneItemToAction=Please select at least one item to perform the operation.\n\n#XBLI: Title of Error dialog\nerrorHeader=Error\n\n#XFLD: no count\nnoCount=No ({0})\n\n#XFLD: yes count\nyesCount=Yes ({0})\n\n#XCOL: table column 'comment'\ncolComment=Comment\n\n#XCOL: table column 'count'\ncolCount=Count\n\n#XFLD: validation from of survey\nlabelValidFrom=Valid from\n\n#XFLD: validation to of survey\nlabelValidTo=Valid to\n\n#XFLD: form icon label\nformIcon=form icon\n\n#XFLD: count of users maked survey\nlabelUsersComplete=Users completed survey: {0}\n\n#XFLD: user count\nlabelUserCount=user count\n\n#XFLD: survey complited on\nlabelReadyOn=Completed on\n\n#XTIT: chart title for user complition by data\nlabelUserCompletion=Ready user surveys by date\n\n#XTIT: user statistic part\nlabelUserStatistic=user statistic:\n\n#XTIT: answer statistic part\nlabelAnswerStatistic=answers statistic:\n\n#XTIT: no statistics\nnoStatisticData=no surveys currently complete\n\n#XFLD: Label for public state of form\nstatePublic=public\n\n#XFLD: Label for private state of form\nstatePrivate=private\n\n#~~~ Not Found View ~~~~~~~~~~~~~~~~~~~~~~~\n\n#XTIT: Not found view title\nnotFoundTitle=Not Found\n\n#YMSG: The FormsSet not found text is displayed when there is no FormsSet with this id\nnoObjectFoundText=This Survey is not available\n\n#YMSG: The not found text is displayed when there was an error loading the resource (404 error)\nnotFoundText=The requested resource was not found\n\n#~~~ Not Allowed View ~~~~~~~~~~~~~~~~~~~~~~~\n\n#XTIT: Not found view title\nnotAdminTitle=Not admin\n\n#YMSG: The FormSet not found text is displayed when there is no FormSet with this id\nnoAdminText=You are not allowed to visit this application\n\n#YMSG: The not found text is displayed when there was an error loading the resource (404 error)\nbackToMain=Back to main view\n\n#~~~ Not Available View ~~~~~~~~~~~~~~~~~~~~~~~\n\n#XTIT: Master view title\nnotAvailableViewTitle=Survey\n\n#~~~ Error Handling ~~~~~~~~~~~~~~~~~~~~~~~\n\n#XTIT: Header for error message box \nerror400TypeResponse=Bad request\n\n#XTIT: Header for error message box \nerrorResponse=Connection problems with the server\n\n#YMSG: Error dialog description\nerrorText=Sorry, a technical error occurred! Please try again later.\n\n#XMSG: error message, user has no rights to visit app\nMsgErrorNotAllowVisitApp=You are not allowed to visit this application\n","com/mjzsoft/QuestionnaireStatistics/i18n/i18n_de.properties":"# This is the resource bundle for Questionnaire Statistics\n\n#XTIT: Application name\nappTitle=Fragebogen\n\n#YDES: Application description\nappDescription=Statistik der Umfragen\n\n#~~~ Master View ~~~~~~~~~~~~~~~~~~~~~~~~~~\n\n#XTIT: Master view title with placeholder for the number of items\nmasterTitleCount=Umfragen\n\n#XTOL: Tooltip for the search field\nmasterSearchTooltip=Geben Sie den Umfragentitel oder einen Teil davon ein\n\n#XBLI: text for a list with no data\nmasterListNoDataText=Keine Umfragen derzeit verf\\u00fcgbar\n\n#XBLI: text for a list with no data with filter or search\nmasterListNoDataWithFilterOrSearchText=Keine Treffer gefunden\n\n#XFLD: Question count text\nquestionsCount=Fragen\n\n#XFLD: available surveys count\nTxtNumberResources={0} Umfragen sind verf\\u00fcgbar zur Verwaltung\n\n#~~~ Detail View ~~~~~~~~~~~~~~~~~~~~~~~~~~\n\n#XTOL: Tooltip text for close column button\ncloseColumn=Schlie\\u00dfen\n\n#XBLI: text for selecting items for delete \natLeastSellectOneItemToAction=W\\u00e4hlen Sie bitte mindestend einen Item um den Vorgang fortzusetzen\n\n#XBLI: Title of Error dialog\nerrorHeader=Fehler\n\n#XFLD: no count\nnoCount=Nein ({0})\n\n#XFLD: yes count\nyesCount=Ja ({0})\n\n#XCOL: table column 'comment'\ncolComment=Kommentar\n\n#XCOL: table column 'count'\ncolCount=Anzahl\n\n#XFLD: validation from of survey\nlabelValidFrom=G\\u00fcltig von\n\n#XFLD: validation to of survey\nlabelValidTo=G\\u00fcltig bis\n\n#XFLD: form icon label\nformIcon=Umfrage icon\n\n#XFLD: count of users maked survey\nlabelUsersComplete=Nutzer, die Umfrage beendet haben: {0}\n\n#XFLD: user count\nlabelUserCount=Anzahl Nutzer\n\n#XFLD: survey complited on\nlabelReadyOn=Abgeschlossen am\n\n#XTIT: chart title for user complition by data\nlabelUserCompletion=Abgeschlossene Nutzerumfragen nach Datum\n\n#XTIT: user statistic part\nlabelUserStatistic=Statistik der Nurzer:\n\n#XTIT: answer statistic part\nlabelAnswerStatistic=Statistik der Antworten:\n\n#XTIT: no statistics\nnoStatisticData=Keine vollendete Umfragen derzeit\n\n#XFLD: Label for public state of form\nstatePublic=\\u00f6ffentlich\n\n#XFLD: Label for private state of form\nstatePrivate=privat\n\n#~~~ Not Found View ~~~~~~~~~~~~~~~~~~~~~~~\n\n#XTIT: Not found view title\nnotFoundTitle=Nicht gefunden\n\n#YMSG: The User_SurveysSet not found text is displayed when there is no User_SurveysSet with this id\nnoObjectFoundText=Diese Nutzerumfrage ist nicht verf\\u00fcgbar\n\n#YMSG: The not found text is displayed when there was an error loading the resource (404 error)\nnotFoundText=Die angeforderte Ressource wurde nicht gefunden\n\n#~~~ Not Allowed View ~~~~~~~~~~~~~~~~~~~~~~~\n\n#XTIT: Not found view title\nnotAdminTitle=Kein Admin\n\n#YMSG: The FormSet not found text is displayed when there is no FormSet with this id\nnoAdminText=Sie sind nicht berechtigt diese Seite zu besuchen\n\n#YMSG: The not found text is displayed when there was an error loading the resource (404 error)\nbackToMain=Zur\\u00fcck zur Hauptseite\n\n#~~~ Not Available View ~~~~~~~~~~~~~~~~~~~~~~~\n\n#XTIT: Master view title\nnotAvailableViewTitle=Umfrage\n\n#~~~ Error Handling ~~~~~~~~~~~~~~~~~~~~~~~\n\n#XTIT: Header for error message box \nerror400TypeResponse=Ung\\u00fcltige Anforderung\n\n#XTIT: Header for error message box \nerrorResponse=Verbindungsprobleme mit dem Server\n\n#YMSG: Error dialog description\nerrorText=Entschuldigung, es ist ein technisches Fehler aufgetretten. Bitte versuchen Sie sp\\u00e4ter erneut\n\n#XMSG: error message, user has no rights to visit app\nMsgErrorNotAllowVisitApp=Sie haben keine Rechte um dieses App zu sehen\n","com/mjzsoft/QuestionnaireStatistics/i18n/i18n_en.properties":"# This is the resource bundle for Questionnaire Statistics\n\n#XTIT: Application name\nappTitle=Questionnaire Statistics\n\n#YDES: Application description\nappDescription=Statistic of surveys\n\n#~~~ Master View ~~~~~~~~~~~~~~~~~~~~~~~~~~\n\n#XTIT: Master view title with placeholder for the number of items\nmasterTitleCount=Surveys\n\n#XTOL: Tooltip for the search field\nmasterSearchTooltip=Enter an Survey name or a part of it.\n\n#XBLI: text for a list with no data\nmasterListNoDataText=No Surveys are currently available\n\n#XBLI: text for a list with no data with filter or search\nmasterListNoDataWithFilterOrSearchText=No matching Surveys found\n\n#XFLD: Question count text\nquestionsCount=Questions\n\n#XFLD: available surveys count\nTxtNumberResources={0} Surveys are available to manage\n\n#~~~ Detail View ~~~~~~~~~~~~~~~~~~~~~~~~~~\n\n#XTOL: Tooltip text for close column button\ncloseColumn=Close\n\n#XBLI: text for selecting items for delete \natLeastSellectOneItemToAction=Please select at least one item to perform the operation.\n\n#XBLI: Title of Error dialog\nerrorHeader=Error\n\n#XFLD: no count\nnoCount=No ({0})\n\n#XFLD: yes count\nyesCount=Yes ({0})\n\n#XCOL: table column 'comment'\ncolComment=Comment\n\n#XCOL: table column 'count'\ncolCount=Count\n\n#XFLD: validation from of survey\nlabelValidFrom=Valid from\n\n#XFLD: validation to of survey\nlabelValidTo=Valid to\n\n#XFLD: form icon label\nformIcon= form icon\n\n#XFLD: count of users maked survey\nlabelUsersComplete=Users completed survey: {0}\n\n#XFLD: user count\nlabelUserCount=user count\n\n#XFLD: survey complited on\nlabelReadyOn=Completed on\n\n#XTIT: chart title for user complition by data\nlabelUserCompletion=Ready user surveys by date\n\n#XTIT: user statistic part\nlabelUserStatistic=user statistic:\n\n#XTIT: answer statistic part\nlabelAnswerStatistic=answers statistic:\n\n#XTIT: no statistics\nnoStatisticData=no surveys currently complete\n\n#XFLD: Label for public state of form\nstatePublic=public\n\n#XFLD: Label for private state of form\nstatePrivate=private\n\n#~~~ Not Found View ~~~~~~~~~~~~~~~~~~~~~~~\n\n#XTIT: Not found view title\nnotFoundTitle=Not Found\n\n#YMSG: The FormsSet not found text is displayed when there is no FormsSet with this id\nnoObjectFoundText=This Survey is not available\n\n#YMSG: The not found text is displayed when there was an error loading the resource (404 error)\nnotFoundText=The requested resource was not found\n\n#~~~ Not Allowed View ~~~~~~~~~~~~~~~~~~~~~~~\n\n#XTIT: Not found view title\nnotAdminTitle=Not admin\n\n#YMSG: The FormSet not found text is displayed when there is no FormSet with this id\nnoAdminText=You are not allowed to visit this application\n\n#YMSG: The not found text is displayed when there was an error loading the resource (404 error)\nbackToMain=Back to main view\n\n#~~~ Not Available View ~~~~~~~~~~~~~~~~~~~~~~~\n\n#XTIT: Master view title\nnotAvailableViewTitle=Survey\n\n#~~~ Error Handling ~~~~~~~~~~~~~~~~~~~~~~~\n\n#XTIT: Header for error message box \nerror400TypeResponse=Bad request\n\n#XTIT: Header for error message box \nerrorResponse=Connection problems with the server\n\n#YMSG: Error dialog description\nerrorText=Sorry, a technical error occurred! Please try again later.\n\n#XMSG: error message, user has no rights to visit app\nMsgErrorNotAllowVisitApp=You are not allowed to visit this application\n","com/mjzsoft/QuestionnaireStatistics/js/XML2JSON.js":function(){sap.ui.define([],function(){"use strict";return{X2JS:function(e){
/*
			 Copyright 2011-2013 Abdulla Abdurakhmanov
			 Original sources are available at https://code.google.com/p/x2js/
			
			 Licensed under the Apache License, Version 2.0 (the "License");
			 you may not use this file except in compliance with the License.
			 You may obtain a copy of the License at
			
			 http://www.apache.org/licenses/LICENSE-2.0
			
			 Unless required by applicable law or agreed to in writing, software
			 distributed under the License is distributed on an "AS IS" BASIS,
			 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
			 See the License for the specific language governing permissions and
			 limitations under the License.
			 */
var t="1.2.0";e=e||{};n();o();function n(){if(e.escapeMode===undefined){e.escapeMode=true}e.attributePrefix=e.attributePrefix||"_";e.arrayAccessForm=e.arrayAccessForm||"none";e.emptyNodeForm=e.emptyNodeForm||"text";if(e.enableToStringFunc===undefined){e.enableToStringFunc=true}e.arrayAccessFormPaths=e.arrayAccessFormPaths||[];if(e.skipEmptyTextNodesForObj===undefined){e.skipEmptyTextNodesForObj=true}if(e.stripWhitespaces===undefined){e.stripWhitespaces=true}e.datetimeAccessFormPaths=e.datetimeAccessFormPaths||[];if(e.useDoubleQuotes===undefined){e.useDoubleQuotes=false}e.xmlElementsFilter=e.xmlElementsFilter||[];e.jsonPropertiesFilter=e.jsonPropertiesFilter||[];if(e.keepCData===undefined){e.keepCData=false}}var i={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};function o(){}function s(e){var t=e.localName;if(t==null){t=e.baseName}if(t==null||t==""){t=e.nodeName}return t}function r(e){return e.prefix}function a(e){if(typeof e=="string"){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}else{return e}}function l(e){return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'").replace(/&amp;/g,"&")}function u(e,t,n,i){var o=0;for(;o<e.length;o++){var s=e[o];if(typeof s==="string"){if(s==i){break}}else if(s instanceof RegExp){if(s.test(i)){break}}else if(typeof s==="function"){if(s(t,n,i)){break}}}return o!=e.length}function c(t,n,i){switch(e.arrayAccessForm){case"property":if(!(t[n]instanceof Array)){t[n+"_asArray"]=[t[n]]}else{t[n+"_asArray"]=t[n]}break}if(!(t[n]instanceof Array)&&e.arrayAccessFormPaths.length>0){if(u(e.arrayAccessFormPaths,t,n,i)){t[n]=[t[n]]}}}function d(e){var t=e.split(/[-T:+Z]/g);var n=new Date(t[0],t[1]-1,t[2]);var i=t[5].split(".");n.setHours(t[3],t[4],i[0]);if(i.length>1){n.setMilliseconds(i[1])}if(t[6]&&t[7]){var o=t[6]*60+Number(t[7]);var s=/\d\d-\d\d:\d\d$/.test(e)?"-":"+";o=0+(s=="-"?-1*o:o);n.setMinutes(n.getMinutes()-o-n.getTimezoneOffset())}else if(e.indexOf("Z",e.length-1)!==-1){n=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()))}return n}function m(t,n,i){if(e.datetimeAccessFormPaths.length>0){var o=i.split(".#")[0];if(u(e.datetimeAccessFormPaths,t,n,o)){return d(t)}else{return t}}else{return t}}function f(t,n,o,s){if(n==i.ELEMENT_NODE&&e.xmlElementsFilter.length>0){return u(e.xmlElementsFilter,t,o,s)}else{return true}}function p(t,n){if(t.nodeType==i.DOCUMENT_NODE){var o={};var a=t.childNodes;for(var l=0;l<a.length;l++){var u=a.item(l);if(u.nodeType==i.ELEMENT_NODE){var d=s(u);o[d]=p(u,d)}}return o}else if(t.nodeType==i.ELEMENT_NODE){var o={};o.__cnt=0;var a=t.childNodes;for(var l=0;l<a.length;l++){var u=a.item(l);var d=s(u);if(u.nodeType!=i.COMMENT_NODE){var h=n+"."+d;if(f(o,u.nodeType,d,h)){o.__cnt++;if(o[d]==null){o[d]=p(u,h);c(o,d,h)}else{if(o[d]!=null){if(!(o[d]instanceof Array)){o[d]=[o[d]];c(o,d,h)}}o[d][o[d].length]=p(u,h)}}}}for(var g=0;g<t.attributes.length;g++){var v=t.attributes.item(g);o.__cnt++;o[e.attributePrefix+v.name]=v.value}var y=r(t);if(y!=null&&y!=""){o.__cnt++;o.__prefix=y}if(o["#text"]!=null){o.__text=o["#text"];if(o.__text instanceof Array){o.__text=o.__text.join("\n")}if(e.stripWhitespaces){o.__text=o.__text.trim()}delete o["#text"];if(e.arrayAccessForm=="property"){delete o["#text_asArray"]}o.__text=m(o.__text,d,n+"."+d)}if(o["#cdata-section"]!=null){o.__cdata=o["#cdata-section"];delete o["#cdata-section"];if(e.arrayAccessForm=="property"){delete o["#cdata-section_asArray"]}}if(o.__cnt==0&&e.emptyNodeForm=="text"){o=""}else if(o.__cnt==1&&o.__text!=null){o=o.__text}else if(o.__cnt==1&&o.__cdata!=null&&!e.keepCData){o=o.__cdata}else if(o.__cnt>1&&o.__text!=null&&e.skipEmptyTextNodesForObj){if(e.stripWhitespaces&&o.__text==""||o.__text.trim()==""){delete o.__text}}delete o.__cnt;if(e.enableToStringFunc&&(o.__text!=null||o.__cdata!=null)){o.toString=function(){return(this.__text!=null?this.__text:"")+(this.__cdata!=null?this.__cdata:"")}}return o}else if(t.nodeType==i.TEXT_NODE||t.nodeType==i.CDATA_SECTION_NODE){return t.nodeValue}}function h(t,n,i,o){var s="<"+(t!=null&&t.__prefix!=null?t.__prefix+":":"")+n;if(i!=null){for(var r=0;r<i.length;r++){var l=i[r];var u=t[l];if(e.escapeMode){u=a(u)}s+=" "+l.substr(e.attributePrefix.length)+"=";if(e.useDoubleQuotes){s+='"'+u+'"'}else{s+="'"+u+"'"}}}if(o){s+="/>"}else{s+=">"}return s}function g(e,t){return"</"+(e.__prefix!=null?e.__prefix+":":"")+t+">"}function v(e,t){return e.indexOf(t,e.length-t.length)!==-1}function y(t,n){if(e.arrayAccessForm=="property"&&v(n.toString(),"_asArray")||n.toString().indexOf(e.attributePrefix)==0||n.toString().indexOf("__")==0||t[n]instanceof Function){return true}else{return false}}function w(e){var t=0;if(e instanceof Object){for(var n in e){if(y(e,n)){continue}t++}}return t}function S(t,n,i){return e.jsonPropertiesFilter.length==0||i==""||u(e.jsonPropertiesFilter,t,n,i)}function T(t){var n=[];if(t instanceof Object){for(var i in t){if(i.toString().indexOf("__")==-1&&i.toString().indexOf(e.attributePrefix)==0){n.push(i)}}}return n}function b(t){var n="";if(t.__cdata!=null){n+="<![CDATA["+t.__cdata+"]]>"}if(t.__text!=null){if(e.escapeMode){n+=a(t.__text)}else{n+=t.__text}}return n}function x(t){var n="";if(t instanceof Object){n+=b(t)}else if(t!=null){if(e.escapeMode){n+=a(t)}else{n+=t}}return n}function C(e,t){if(e===""){return t}else{return e+"."+t}}function M(e,t,n,i){var o="";if(e.length==0){o+=h(e,t,n,true)}else{for(var s=0;s<e.length;s++){o+=h(e[s],t,T(e[s]),false);o+=F(e[s],C(i,t));o+=g(e[s],t)}}return o}function F(e,t){var n="";var i=w(e);if(i>0){for(var o in e){if(y(e,o)||t!=""&&!S(e,o,C(t,o))){continue}var s=e[o];var r=T(s);if(s==null||s==undefined){n+=h(s,o,r,true)}else if(s instanceof Object){if(s instanceof Array){n+=M(s,o,r,t)}else if(s instanceof Date){n+=h(s,o,r,false);n+=s.toISOString();n+=g(s,o)}else{var a=w(s);if(a>0||s.__text!=null||s.__cdata!=null){n+=h(s,o,r,false);n+=F(s,C(t,o));n+=g(s,o)}else{n+=h(s,o,r,true)}}}else{n+=h(s,o,r,false);n+=x(s);n+=g(s,o)}}}n+=x(e);return n}this.parseXmlString=function(e){var t=window.ActiveXObject||"ActiveXObject"in window;if(e===undefined){return null}var n;if(window.DOMParser){var i=new window.DOMParser;var o=null;if(!t){try{o=i.parseFromString("INVALID","text/xml").getElementsByTagName("parsererror")[0].namespaceURI}catch(e){o=null}}try{n=i.parseFromString(e,"text/xml");if(o!=null&&n.getElementsByTagNameNS(o,"parsererror").length>0){n=null}}catch(e){n=null}}else{if(e.indexOf("<?")==0){e=e.substr(e.indexOf("?>")+2)}n=new ActiveXObject("Microsoft.XMLDOM");n.async="false";n.loadXML(e)}return n};this.asArray=function(e){if(e===undefined||e==null){return[]}else{if(e instanceof Array){return e}else{return[e]}}};this.toXmlDateTime=function(e){if(e instanceof Date){return e.toISOString()}else{if(typeof e==="number"){return new Date(e).toISOString()}else{return null}}};this.asDateTime=function(e){if(typeof e=="string"){return d(e)}else{return e}};this.xml2json=function(e){return p(e)};this.xml_str2json=function(e){var t=this.parseXmlString(e);if(t!=null){return this.xml2json(t)}else{return null}};this.json2xml_str=function(e){return F(e,"")};this.json2xml=function(e){var t=this.json2xml_str(e);return this.parseXmlString(t)};this.getVersion=function(){return t}}}})},"com/mjzsoft/QuestionnaireStatistics/js/jwtAuthApp.js":function(){sap.ui.define([],function(){"use strict";var e=null,t=[],n=jQuery.sap.storage(jQuery.sap.storage.Type.session),i=jQuery.sap.storage(jQuery.sap.storage.Type.local),o=function(t,n,o,s,r){var a=e;sap.ui.core.BusyIndicator.show(1e3);jQuery.ajax({type:t,contentType:"application/json; charset=utf-8",pathInfo:null,data:t==="POST"?JSON.stringify(o):o,url:i.get("JwtServerUrl")+n,headers:{Authorization:a},cache:false,async:false,success:function(e,t,n){sap.ui.core.BusyIndicator.hide();if(typeof s==="function"){s(e,t,n)}},error:function(e,t,n){sap.ui.core.BusyIndicator.hide();if(typeof r==="function"){r(e,t,n)}}})},s=function(e,t,n,i){o("GET",e,t,n,i)},r=function(){var e=n.get("CurrentToken");return e!==null?JSON.parse(e):null},a=function(n){var i=t[n];i.setHeaders({Authorization:e})},l=function(){for(var e in t){a(e)}},u=function(e){var n=t[e];n.setHeaders({Authorization:null})},c=function(){var t=r();if(t!==null&&t.expireAt>(new Date).getTime()){var i=t.tokenType+t.accessToken;if(i!==e){e=i}}else{n.clear();e=null}l()};c();sap.ui.getCore().getEventBus().subscribe("JWT","jwtChanged",c,this);var d={hasSession:function(t){var i=r();if(i!==null&&i.expireAt>(new Date).getTime()){e=i.tokenType+i.accessToken;if(typeof t==="function"){t(true)}return true}else{n.clear();e=null;if(typeof t==="function"){t(false)}return false}},addModel:function(e,n){t[n]=e;a(n)},removeModel:function(e){if(t[e]!==undefined){u(e);delete t[e]}},getCurrentUser:function(){var e=null;if(this.hasSession()){var t=n.get("CurrentUser");if(t===null){s(i.get("JwtUserEndpoint"),null,function(t,i,o){n.put("CurrentUser",JSON.stringify(t));e=t})}else{e=JSON.parse(t)}}return e}};return d})},"com/mjzsoft/QuestionnaireStatistics/manifest.json":'{"_version":"1.12.0","sap.app":{"id":"com.mjzsoft.QuestionnaireStatistics","type":"application","i18n":"i18n/i18n.properties","title":"{{appTitle}}","description":"{{appDescription}}","applicationVersion":{"version":"1.0.0"},"resources":"resources.json","dataSources":{"mainService":{"uri":"../../odata.svc/","type":"OData","settings":{"odataVersion":"2.0","localUri":"localService/metadata.xml"}}},"sourceTemplate":{"id":"sap.ui.ui5-template-plugin.2masterdetail","version":"1.71.6"}},"sap.ui":{"technology":"UI5","icons":{"icon":"sap-icon://detail-view","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"rootView":{"viewName":"com.mjzsoft.QuestionnaireStatistics.view.App","type":"XML","async":true,"id":"app"},"dependencies":{"minUI5Version":"1.71.0","libs":{"sap.collaboration":{"lazy":true},"sap.f":{},"sap.m":{},"sap.ui.core":{},"sap.ushell":{},"sap.suite.ui.commons":{},"sap.suite.ui.microchart":{},"sap.ui.commons":{},"sap.viz":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"com.mjzsoft.QuestionnaireStatistics.i18n.i18n"}},"":{"dataSource":"mainService","preload":true},"QuestionsSet":{"dataSource":"mainService","preload":true}},"resources":{"css":[{"uri":"css/style.css"}]},"routing":{"config":{"routerClass":"sap.f.routing.Router","viewType":"XML","viewPath":"com.mjzsoft.QuestionnaireStatistics.view","controlId":"layout","controlAggregation":"beginColumnPages","bypassed":{"target":"notFound"},"async":true},"routes":[{"pattern":"","name":"master","target":"master"},{"pattern":"NotAllowed","name":"notAllowed","target":"notAllowed"},{"pattern":"FormsSet/{objectId}","name":"object","target":["master","object"]}],"targets":{"master":{"viewName":"Master","viewLevel":1,"viewId":"master"},"object":{"viewName":"Detail","viewId":"detail","viewLevel":1,"controlAggregation":"midColumnPages"},"detailObjectNotFound":{"viewName":"DetailObjectNotFound","viewId":"detailObjectNotFound","controlAggregation":"midColumnPages"},"notFound":{"viewName":"NotFound","viewId":"notFound"},"notAllowed":{"viewName":"NotAllowed","viewId":"notAllowed"}}}},"sap.platform.hcp":{"uri":"webapp","_version":"1.1.0"}}',"com/mjzsoft/QuestionnaireStatistics/model/formatter.js":function(){sap.ui.define([],function(){"use strict";return{currencyValue:function(e){if(!e){return""}return parseFloat(e).toFixed(2)},customFlexBoxTooltip:function(e,t,n){return e+"\n"+t+"\n"+n}}})},"com/mjzsoft/QuestionnaireStatistics/model/individualFormatter.js":function(){sap.ui.define(["sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,t){"use strict";return{formQuestionsCounter:function(n){var i=this.getParent();var o=i.getBindingContext().getPath()+"/Questions";var s=i.getModel().bindList(o,null,null,[new e({path:"Deleted",operator:t.EQ,value1:false})]);return s.getLength()},formQuestionsCounterTooltip:function(n){var i=this.getContext().getPath()+"/Questions";var o=this.getModel().bindList(i,null,null,[new e({path:"Deleted",operator:t.EQ,value1:false})]);return o.getLength()}}},true)},"com/mjzsoft/QuestionnaireStatistics/model/models.js":function(){sap.ui.define(["sap/ui/model/json/JSONModel","sap/ui/Device"],function(e,t){"use strict";return{initEmptyJSONModel:function(){return new e},createDeviceModel:function(){var n=new e(t);n.setDefaultBindingMode("OneWay");return n},createFLPModel:function(){var t=jQuery.sap.getObject("sap.ushell.Container.getUser"),n=t?t().isJamActive():false,i=new e({isShareInJamActive:n});i.setDefaultBindingMode("OneWay");return i},initAppViewModel:function(){return new e({busy:true,FlexBoxDirection:"Row",delay:0,layout:"OneColumn",previousLayout:"",actionButtonsInfo:{midColumn:{fullScreen:false}}})},initMasterViewModel:function(t){return new e({isFilterBarVisible:false,filterBarLabel:"",delay:0,title:t.getResourceBundle().getText("masterTitleCount",[0]),noDataText:t.getResourceBundle().getText("masterListNoDataText"),groupBy:"None",busy:false,FlexBoxDirection:"Row",allResources:""})},initDetailViewModel:function(){return new e({busy:false,delay:0,deleteBtnEnabled:false,tableBusy:false,filterBtnEnabled:true,groupBtnEnabled:true,sortBtnEnabled:true,bLocatioinTableVisible:false,bUserTableVisible:false,sFilter:"#Car",bUserTableBusy:false,title:"",LocationSearch:"",UserSearch:""})},initObjectViewModel:function(){return new e({titleDisplay:"",editBtnVisible:false,saveBtnVisible:false,cancelBtnVisible:false,viewMode:true,busy:false,EditMode:false,showFooter:true,showAdd:false,title:"",fullscreen:false,validMailState:sap.ui.core.ValueState.None,validDisplayNameState:sap.ui.core.ValueState.None,image:""})},initUserObjectViewModel:function(){return new e({title:"",viewMode:true,busy:false,icon:"",addMode:false,image:"",selectedKey:"1"})}}})},"com/mjzsoft/QuestionnaireStatistics/view/App.view.xml":'<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE xml><mvc:View controllerName="com.mjzsoft.QuestionnaireStatistics.controller.App" displayBlock="true" height="100%" xmlns="sap.m" xmlns:f="sap.f"\n\txmlns:mvc="sap.ui.core.mvc"><App id="app" busy="{appView>/busy}" busyIndicatorDelay="{appView>/delay}"><f:FlexibleColumnLayout id="layout" layout="{appView>/layout}" backgroundDesign="Translucent"/></App></mvc:View>',"com/mjzsoft/QuestionnaireStatistics/view/Detail.view.xml":'<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE xml><mvc:View controllerName="com.mjzsoft.QuestionnaireStatistics.controller.Detail" xmlns="sap.m" xmlns:semantic="sap.f.semantic"\n\txmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc"><semantic:SemanticPage id="detailPage" busy="{detailView>/busy}" busyIndicatorDelay="{detailView>/delay}" toggleHeaderOnTitleClick="false"\n\t\tclass="sapUiNoContentPadding"><semantic:titleHeading><VBox><HBox><core:Icon src="{path: \'Icon/Source\'}" size="2em" class="sapUiSmallMarginEnd" tooltip="{i18n>formIcon}"/><VBox alignItems="Start" alignContent="SpaceAround"><Title text="{Name}" level="H2"/><ObjectStatus text="{= (${Universal} ? ${i18n>statePublic} : ${i18n>statePrivate}) }" state="{= (${Universal} ? \'Success\' : \'Warning\') }"/></VBox></HBox><Text text="{i18n>labelValidFrom} { path:\'ValidFrom\', type: \'sap.ui.model.type.DateTime\', formatOptions: { style: \'medium\' }}"/><Text text="{i18n>labelValidTo} { path:\'ValidTo\', type: \'sap.ui.model.type.DateTime\', formatOptions: { style: \'medium\' }}"/></VBox></semantic:titleHeading><semantic:content><VBox id="StatContainer"/></semantic:content><semantic:closeAction><semantic:CloseAction id="closeColumn" press=".onCloseDetailPress"/></semantic:closeAction><semantic:fullScreenAction><semantic:FullScreenAction id="enterFullScreen" press=".toggleFullScreen"\n\t\t\t\tvisible="{= !${device>/system/phone} &amp;&amp; !${appView>/actionButtonsInfo/midColumn/fullScreen}}"/></semantic:fullScreenAction><semantic:exitFullScreenAction><semantic:ExitFullScreenAction id="exitFullScreen" press=".toggleFullScreen"\n\t\t\t\tvisible="{= !${device>/system/phone} &amp;&amp; ${appView>/actionButtonsInfo/midColumn/fullScreen}}"/></semantic:exitFullScreenAction></semantic:SemanticPage></mvc:View>',"com/mjzsoft/QuestionnaireStatistics/view/DetailObjectNotFound.view.xml":'<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE xml><mvc:View controllerName="com.mjzsoft.QuestionnaireStatistics.controller.DetailObjectNotFound" xmlns="sap.m" xmlns:mvc="sap.ui.core.mvc"><MessagePage id="page" title="{i18n>detailTitle}" text="{i18n>noObjectFoundText}" icon="sap-icon://product" description=""/></mvc:View>',"com/mjzsoft/QuestionnaireStatistics/view/Master.view.xml":'<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE xml><mvc:View controllerName="com.mjzsoft.QuestionnaireStatistics.controller.Master" xmlns="sap.m" xmlns:semantic="sap.f.semantic"\n\txmlns:mvc="sap.ui.core.mvc"><semantic:SemanticPage id="masterPage" preserveHeaderStateOnScroll="true" toggleHeaderOnTitleClick="false" class="sapUiNoContentPadding"><semantic:titleHeading><Title id="masterPageTitle" text="{masterView>/title}" level="H2"/></semantic:titleHeading><semantic:content><ScrollContainer id="scrollBar" class="myContainer" height="100%" width="100%" horizontal="true" vertical="true" focusable="true"><VBox justifyContent="Center"><MessageStrip busy="{masterView>/busy}" customIcon="sap-icon://survey" text="{masterView>/masterCounterTitle}" showIcon="true"\n\t\t\t\t\t\ttype="Information"/><SearchField id="searchField" showRefreshButton="true" tooltip="{i18n>masterSearchTooltip}" search="handleSearch" liveChange="liveSearch"\n\t\t\t\t\t\twidth="auto"/><FlexBox id="flexboxId" busy="{masterView>/busy}" class="sapFDynamicPageAlignContent sapUiTinyMarginLeft sapUiNoMarginTop" wrap="Wrap"\n\t\t\t\t\t\tjustifyContent="Center" direction="{appView>/flexBoxDirection}" alignItems="Center"\n\t\t\t\t\t\titems="{ path: \'/FormSet\', parameters: {expand: \'Questions,Icon\'}, sorter: { path: \'Name\', descending: false }, filters: [ {path : \'Deleted\', operator : \'EQ\', value1 : false}], events: { dataReceived: \'.onFormsReceived\' } }"><GenericTile header="{ path:\'Name\'}" headerImage="{path: \'Icon/Source\'}"\n\t\t\t\t\t\t\ttooltip="{parts: [{path: \'Name\'}, {path: \'Questions\', formatter:\'com.mjzsoft.QuestionnaireStatistics.model.individualFormatter.formQuestionsCounterTooltip\'}, {path: \'i18n>questionsCount\'}], formatter: \'.formatter.customFlexBoxTooltip\'}"\n\t\t\t\t\t\t\tclass="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout" press="onPressItem"><TileContent unit="{i18n>questionsCount}" footerColor="Critical"><content><NumericContent value="{ path:\'Questions\', formatter:\'com.mjzsoft.QuestionnaireStatistics.model.individualFormatter.formQuestionsCounter\' }"\n\t\t\t\t\t\t\t\t\t\twithMargin="false"/></content></TileContent></GenericTile></FlexBox></VBox></ScrollContainer></semantic:content></semantic:SemanticPage></mvc:View>',"com/mjzsoft/QuestionnaireStatistics/view/NotAllowed.view.xml":'<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE xml><mvc:View controllerName="com.mjzsoft.QuestionnaireStatistics.controller.NotAllowed" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m"><MessagePage id="page" title="{i18n>notAdminTitle}" text="{i18n>noAdminText}" icon="sap-icon://product" description=""><customDescription><Link id="link" text="{i18n>backToMain}" press="onLinkPressed"/></customDescription></MessagePage></mvc:View>',"com/mjzsoft/QuestionnaireStatistics/view/NotFound.view.xml":'<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE xml><mvc:View controllerName="com.mjzsoft.QuestionnaireStatistics.controller.NotFound" xmlns="sap.m" xmlns:mvc="sap.ui.core.mvc"><MessagePage id="page" title="{i18n>notFoundTitle}" text="{i18n>notFoundText}" icon="sap-icon://document"/></mvc:View>'}});