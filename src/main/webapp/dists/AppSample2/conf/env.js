sap.ui.define(["sap/ui/model/json/JSONModel","sap/base/Log"],function(e,t){"use strict";var r=window.location.href,n=r.includes("hana.ondemand.com/")?true:false,s=jQuery.sap.storage(jQuery.sap.storage.Type.local),a=function(){if(n){try{var r=jQuery.sap.storage(jQuery.sap.storage.Type.session);var s=jQuery.sap.getModulePath("com.mjzsoft.QuestionnaireStatistics","/conf/token.json");var a=new e(s);a.attachRequestCompleted(null,function(){var e=a.getData();var t={accessToken:e.accessToken,refreshToken:e.refreshToken,tokenType:e.tokenType,expireAt:(new Date).getTime()+e.expiryDuration};r.put("CurrentToken",JSON.stringify(t))})}catch(e){t.error(e)}}};var o;if(n){o="http://localhost:9090"}else{o=window.location.href;o=o.substring(0,o.indexOf("?"));o=o.substring(0,o.lastIndexOf("/"))}s.put("JwtServerUrl",o+"/");s.put("JwtUserEndpoint","api/user/me");a();return{isDebugModeActivated:function(){return n}}});