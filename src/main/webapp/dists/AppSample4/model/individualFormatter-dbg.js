sap.ui.define(["sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,t){"use strict";var r=function(r,n,i){var o=r.getObject().Form.__ref,s=n.getProperty("/"+o),a=false;for(var u=0;u<s.Questions.__list.length;u++){var l=s.Questions.__list[u],g=n.getProperty("/"+l);var f=n.bindList("/"+l+"/Answers",null,null,[new e({path:"UserId",operator:t.EQ,value1:i}),new e({path:"QuestionId",operator:t.EQ,value1:g.Id})]);if(f.getLength()>0){a=true;break}}return a};return{formatTileClosed:function(e,t,n,i){var o=this.getModel("i18n").getResourceBundle(),s="",a=n.toLocaleDateString(),u=n.toLocaleTimeString(),l=t.toLocaleDateString(),g=t.toLocaleTimeString();var f=new Date;if(f>n){return s+o.getText("txtClosedAt")+" "+a+", "+u}else if(t>f){return s+o.getText("txtOpensAt")+" "+l+", "+g}else{if(r(this.getBindingContext(),this.getModel(),i)){return o.getText("stateUnknown")}else{return s+o.getText("txtValidTo")+" "+a+", "+u}}},formatTileFooter:function(e,t,n,i){var o=this.getModel("i18n").getResourceBundle();if(e){return o.getText("statusFinish")}else{if(r(this.getBindingContext(),this.getModel(),i)){return o.getText("statusFinish")}}var s=new Date;if(s>n){return o.getText("statusInvalid")}else if(s<t){return o.getText("statusNotOpenYet")}else{return o.getText("statusOpen")}},formatTileState:function(e,t,n,i){if(e){return"Good"}else{if(r(this.getBindingContext(),this.getModel(),i)){return"Good"}}var o=new Date;if(o<t||o>n){return"Error"}else if(o>t){return"Critical"}return""}}},true);