sap.ui.define(["sap/ui/model/json/JSONModel","sap/base/Log"],function(e,t){"use strict";var r=window.location.href,n=r.includes("hana.ondemand.com/")?true:false,o=jQuery.sap.storage(jQuery.sap.storage.Type.local),a=function(){if(n){try{var r=jQuery.sap.storage(jQuery.sap.storage.Type.session);var o=jQuery.sap.getModulePath("com.mjzsoft.Survey","/config/token.json");var a=new e(o);a.attachRequestCompleted(null,function(){var e=a.getData();var t={accessToken:e.accessToken,refreshToken:e.refreshToken,tokenType:e.tokenType,expireAt:(new Date).getTime()+e.expiryDuration};r.put("CurrentToken",JSON.stringify(t))})}catch(e){t.error(e)}}};var s;if(n){s="http://localhost"}else{s=window.location.href;s=s.substring(0,s.indexOf("?"));s=s.substring(0,s.lastIndexOf("/"))}o.put("JwtServerUrl",s+"/");o.put("JwtUserEndpoint","api/user/me");a();return{isDebugModeActivated:function(){return n}}});