jQuery.sap.registerPreloadedModules({version:"2.0",modules:{"com/mjzsoft/QuestionnaireBuilder/Component.js":function(){sap.ui.define(["sap/ui/core/UIComponent","sap/ui/Device","com/mjzsoft/QuestionnaireBuilder/model/models","com/mjzsoft/QuestionnaireBuilder/conf/env","com/mjzsoft/QuestionnaireBuilder/js/jwtAuthApp","com/mjzsoft/QuestionnaireBuilder/controller/ErrorHandler","sap/m/MessageBox"],function(e,t,n,i,o,s,r){"use strict";return e.extend("com.mjzsoft.QuestionnaireBuilder.Component",{metadata:{manifest:"json"},init:function(){this._oErrorHandler=new s(this);this.setModel(n.createDeviceModel(),"device");this.setModel(n.createFLPModel(),"FLP");e.prototype.init.apply(this,arguments);o.addModel(this.getModel());this.getRouter().initialize()},getCurrentUser:function(){return o.getCurrentUser()},destroy:function(){this._oErrorHandler.destroy();e.prototype.destroy.apply(this,arguments)},getContentDensityClass:function(){if(this._sContentDensityClass===undefined){if(document.body.classList.contains("sapUiSizeCozy")||document.body.classList.contains("sapUiSizeCompact")){this._sContentDensityClass=""}else if(!t.support.touch){this._sContentDensityClass="sapUiSizeCompact"}else{this._sContentDensityClass="sapUiSizeCozy"}}return this._sContentDensityClass}})})},"com/mjzsoft/QuestionnaireBuilder/conf/env.js":function(){sap.ui.define(["sap/ui/model/json/JSONModel","sap/base/Log"],function(e,t){"use strict";var n=window.location.href,i=n.includes("hana.ondemand.com/")?true:false,o=jQuery.sap.storage(jQuery.sap.storage.Type.local),s=function(){if(i){try{var n=jQuery.sap.storage(jQuery.sap.storage.Type.session);var o=jQuery.sap.getModulePath("com.mjzsoft.QuestionnaireBuilder","/conf/token.json");var s=new e(o);s.attachRequestCompleted(null,function(){var e=s.getData();var t={accessToken:e.accessToken,refreshToken:e.refreshToken,tokenType:e.tokenType,expireAt:(new Date).getTime()+e.expiryDuration};n.put("CurrentToken",JSON.stringify(t))})}catch(e){t.error(e)}}};var r;if(i){r="http://localhost"}else{r=window.location.href;r=r.substring(0,r.indexOf("?"));r=r.substring(0,r.lastIndexOf("/"))}o.put("JwtServerUrl",r+"/");o.put("JwtUserEndpoint","api/user/me");s();return{isDebugModeActivated:function(){return i}}})},"com/mjzsoft/QuestionnaireBuilder/controller/App.controller.js":function(){sap.ui.define(["com/mjzsoft/QuestionnaireBuilder/controller/BaseController","sap/ui/model/json/JSONModel"],function(e,t){"use strict";return e.extend("com.mjzsoft.QuestionnaireBuilder.controller.App",{onInit:function(){var e=this.getView().getBusyIndicatorDelay();var t=this._initViewModel();this.setModel(t,"appView");var n=function(){t.setProperty("/busy",false);t.setProperty("/delay",e)};this.getOwnerComponent().getModel().metadataLoaded().then(n);this.getOwnerComponent().getModel().attachMetadataFailed(n);this.getView().addStyleClass(this.getOwnerComponent().getContentDensityClass())},_initViewModel:function(){return new t({busy:true,flexBoxDirection:"Row",datesChanged:false,delay:0,layout:"OneColumn",previousLayout:"",editMode:false,actionButtonsInfo:{midColumn:{fullScreen:false}}})}})})},"com/mjzsoft/QuestionnaireBuilder/controller/BaseController.js":function(){sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/routing/History","com/mjzsoft/QuestionnaireBuilder/js/Validator"],function(e,t,n){"use strict";var i={"sap.m.Input":"value","sap.m.Select":"selectedKey","sap.m.CheckBox":"selected","sap.m.DatePicker":"dateValue","sap.m.DateTimePicker":"value","sap.m.TextArea":"value","sap.m.Switch":"state"};return e.extend("com.mjzsoft.QuestionnaireBuilder.controller.BaseController",{getRouter:function(){return this.getOwnerComponent().getRouter()},getModel:function(e){return this.getView().getModel(e)},getAppViewModel:function(){return this.getModel("appView")},setModel:function(e,t){return this.getView().setModel(e,t)},getResourceBundle:function(){return this.getOwnerComponent().getModel("i18n").getResourceBundle()},onNavBack:function(){var e=t.getInstance().getPreviousHash(),n=sap.ushell.Container.getService("CrossApplicationNavigation");if(e!==undefined||!n.isInitialNavigation()){history.go(-1)}else{this.getRouter().navTo("master",{},true)}},bindOnChangeToInputs:function(e,t){var n=t?t.getControlsByFieldGroupId(e):this.getView().getControlsByFieldGroupId(e);if(n){for(var i=0;i<n.length;i++){if(typeof n[i].attachChange==="function"){n[i].attachChange(this.onInputChange,this)}}}},onInputChange:function(e){if(e){var t=e.getSource(),n=t.getBindingContext();if(n!==null){var o=function(e){var t=e.substring(1),n=e.charAt(0).toUpperCase(),i="get"+n+t;return i},s=t.getMetadata().getName(),r=n.getModel(),a=t.getBinding(i[s]).getPath(),l=a&&a.startsWith("/")?a.substring(1):a,d=n.getPath()+"/"+l,u=o(i[s]),c=t[u]();if(t.getBindingContext()){if(s==="sap.m.DatePicker"){if(c){r.setProperty(d,new Date(c))}else{r.setProperty(d,null)}}else if(s==="sap.m.DateTimePicker"){if(c){r.setProperty(d,new Date(t.getDateValue()))}else{r.setProperty(d,null)}}else{r.setProperty(d,c)}}}this._oValidator.validate(t)}},getFieldValueByType:function(e){var t=function(e){var t=e.substring(1),n=e.charAt(0).toUpperCase(),i="get"+n+t;return i},n=e.getMetadata().getName(),o=t(i[n]),s=e[o]();return s},initiateValidator:function(){this._oValidator=new n},resetAllValueStates:function(){if(!this._oValidator){this._oValidator=new n}this._oValidator.removeAllMessages()},getValidator:function(){if(!this._oValidator){this._oValidator=new n}return this._oValidator},objectCopier:function(e,t){for(var n in t){if(t[n]!==undefined){if(typeof t[n]==="object"&&!(t[n]instanceof Date)){if(!e[n]){e[n]={}}this.objectCopier(e[n],t[n])}else{if(typeof t[n]==="string"&&t[n].length>0){e[n]=t[n]}else if(typeof t[n]==="string"){delete e[n]}else if(t[n]!==undefined||t[n]!==null){e[n]=t[n]}else{delete e[n]}}}}},getBatchObject:function(e,t){var n=jQuery.extend({},e);delete n.__metadata;if(t==="Form"){delete n.Icon;delete n.Questions;delete n.Surveys;delete n.IconSrc}else if(t==="Question"){delete n.Answers;delete n.SourceConditions;delete n.TargetConditions;delete n.Form;delete n.Options;delete n.Qtype}else if(t==="Option"){delete n.Answers;delete n.Question}return n}})})},"com/mjzsoft/QuestionnaireBuilder/controller/Detail.controller.js":function(){sap.ui.define(["./BaseController","../utils/Utils","../model/formatter","sap/ui/model/json/JSONModel","sap/m/MessageToast","sap/m/MessageBox","sap/ui/model/Sorter","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,t,n,i,o,s,r,a,l){"use strict";return e.extend("com.mjzsoft.QuestionnaireBuilder.controller.Detail",{formatter:n,_sCurrentSearchQuery:"",_oScrollContainer:null,_sObjectId:null,onInit:function(){this.setModel(this._initViewModel(),"detailView");this.getRouter().getRoute("object").attachPatternMatched(this._onObjectMatched,this);this.getRouter().getRoute("object").attachBeforeMatched(this._onBeforeMatched,this);this.initiateValidator();this.getValidator().removeAllMessages();this._resetDataSets();var e=sap.ui.getCore().getEventBus();e.subscribe("_questionCountChange",this._questionCountChange,this);e.subscribe("_refreshDetail","objectId",this._refreshDetail,this);e.subscribe("_refreshDetailSelection","questionId",this._refreshDetailSelection,this);e.subscribe("_deselectDetailSelection","objectDetailClose",this._deselectDetailSelection,this);this.getOwnerComponent().getModel().metadataLoaded().then(this._onMetadataLoaded.bind(this))},onAfterRendering:function(){var e=this.byId("formPage");this._oScrollContainer=this.byId(e.getId()+"-page-vertSB")},onExit:function(){var e=sap.ui.getCore().getEventBus();e.unsubscribe("_questionCountChange",this._questionCountChange,this);e.unsubscribe("_refreshDetail","objectId",this._refreshDetail,this);e.unsubscribe("_refreshDetailSelection","objectId",this._refreshDetailSelection,this);e.unsubscribe("_deselectDetailSelection","objectDetailClose",this._deselectDetailSelection,this)},onBeforeRebindTable:function(e){var t=e.getParameter("bindingParams");if(this._sObjectId){var n=this._getInitialFilter();t.filters.push(n)}t.sorter.push(new r("Sequence",false))},onPressEdit:function(e){this.getValidator().removeAllMessages();this.getModel("detailView").setProperty("/editMode",true);this.getModel("appView").setProperty("/editMode",true);this.getAppViewModel().setProperty("/layout","TwoColumnsMidExpanded")},onPressCancel:function(e){var n=this.getModel("detailView").getProperty("/changed");if(n||this._aDeletedQuestions.length>0||this._aUpdatedQuestionIds.length>0){var i=this.getResourceBundle();t.showDialog(this,i.getText("TitDialogCancel"),i.getText("TxtDialogCancel"),this.onCancelDialog.bind(this),true,undefined,i.getText("BtnNo"),i.getText("BtnYes"))}else{this.onCancelDialog()}},onCancelDialog:function(){o.show(this.getResourceBundle().getText("MsgToastCanceled"));this.getModel("detailView").setProperty("/editMode",false);this.getModel("appView").setProperty("/editMode",false);this.getView().unbindElement();this._rebindView();var e=this.getView().byId("tableQuestions");for(var t=0;t<this._aDeletedItems;t++){e.addItem(this._aDeletedItems[t])}this._resetDataSets();this.getModel("detailView").setProperty("/selectedItemId","")},onPressSaveEdit:function(e){var n=this.getModel("detailView").getProperty("/changed");if(n||this._aDeletedQuestions.length>0||this._aUpdatedQuestionIds.length>0){var i=this.getResourceBundle();t.showDialog(this,i.getText("saveMsg"),i.getText("saveBtnMsg"),this.onSaveDialog.bind(this),true,undefined,i.getText("BtnNo"),i.getText("BtnYes"))}else{this.getModel("detailView").setProperty("/editMode",false);this.getModel("appView").setProperty("/editMode",false)}},onSearch:function(e){var t=["Question"];this._sCurrentSearchQuery=e.getParameter("query");this.getView().byId("tableQuestions").setBusy(true);this._onSearchinTable(this._sCurrentSearchQuery,t)},onSearchLiveChange:function(e){var t=["Question"];if(e.getParameters().newValue.length===0){this._sCurrentSearchQuery="";this._onSearchinTable(this._sCurrentSearchQuery,t)}},onCreateBtnPress:function(e){this._resetAppViewModel("ThreeColumnsEndExpanded");this.getRouter().navTo("createObject",{objectId:this._sObjectId});this.getModel("detailView").setProperty("/selectedItemId","")},onDeleteBtnPress:function(e){var t=this.getView().byId("tableQuestions"),n=t.getSelectedContexts();if(n.length===0&&t.getItems().length>0){s.error(this.getResourceBundle().getText("atLeastSellectOneItemToAction"),{icon:s.Icon.ERROR,title:this.getResourceBundle().getText("errorHeader"),actions:[s.Action.OK]});return}else if(t.getItems().length>0){var i=t.getModel("QuestionsJsonModel"),o=t.getSelectedItems();o.forEach(function(e){var n=e.getBindingContext("QuestionsJsonModel").getObject();if(n.Id<0){var o=i.getData().QuestionSet;for(var s=0;s<o.length;s++){if(n.Id===o[s].Id){o.splice(s,1)}}t.getBinding("items").refresh()}else{this._aDeletedQuestions.push(n)}this._aDeletedItems.push(e);t.removeItem(e)}.bind(this))}},onTableItemPress:function(e){if(!this.getView().getModel("appView").getProperty("/editMode")){var t=e.getParameter("listItem");if(t&&t.getProperty("type")==="Navigation"){var n=t.getBindingContext("QuestionsJsonModel");var i=this.getView().byId("tableQuestions");var o=i.getModel("QuestionsJsonModel").getObject(n.getPath());this._navFromDetailToObjectDetail(o.Id);this.getModel("detailView").setProperty("/selectedItemId",o.Id)}}},onSaveDialog:function(){this.getModel("detailView").setProperty("/editMode",false);this.getModel("appView").setProperty("/editMode",false);if(this._sObjectId){this.updateQuestions()}},toggleFullScreen:function(){var e=this.getModel("detailView").getProperty("/fullscreen");this.getModel("detailView").setProperty("/fullscreen",!e);if(e){this.getAppViewModel().setProperty("/fullscreen",false);this.getAppViewModel().setProperty("/layout",this.getAppViewModel().getProperty("/previousLayout"))}else{this.getAppViewModel().setProperty("/previousLayout",this.getAppViewModel().getProperty("/layout"));this.getAppViewModel().setProperty("/layout","MidColumnFullScreen");this.getAppViewModel().setProperty("/fullscreen",true)}},onCloseDetailPress:function(){var e=this.getModel("detailView");if(e.getProperty("/editMode")){var n=e.getProperty("/changed");if(n||this._aDeletedQuestions.length>0||this._aUpdatedQuestionIds.length>0){var i=this.getResourceBundle();t.showDialog(this,i.getText("TitDialogClose"),i.getText("closeViewInEditMode"),this.onCloseView.bind(this),true,undefined,"","")}else{this.onCloseView()}}else{sap.ui.getCore().getEventBus().publish("_deselectMasterSelection","detailClose",{});e.setProperty("/fullscreen",false);this.getRouter().navTo("master")}},tableUpBtnPress:function(e){this.getModel("detailView").setProperty("/changed",true);var t=this.getView().byId("tableQuestions");var n=e.getSource().getBindingContext("QuestionsJsonModel").getObject();var i=-1;for(var o=0;o<t.getItems().length;o++){if(t.getItems()[o].getBindingContext("QuestionsJsonModel").getObject().Id===n.Id){i=o;break}}var s=i-1;if(s===-1){s=t.getItems().length-1}var r=t.getItems()[s].getBindingContext("QuestionsJsonModel").getObject();var a=n.Sequence;n.Sequence=r.Sequence;r.Sequence=a;if(!this._aUpdatedQuestionIds.includes(n.Id)){this._aUpdatedQuestionIds.push(n.Id)}if(!this._aUpdatedQuestionIds.includes(r.Id)){this._aUpdatedQuestionIds.push(r.Id)}t.getBinding("items").refresh(true)},tableDownBtnPress:function(e){this.getModel("detailView").setProperty("/changed",true);var t=this.getView().byId("tableQuestions");var n=e.getSource().getBindingContext("QuestionsJsonModel").getObject();var i=-1;for(var o=0;o<t.getItems().length;o++){if(t.getItems()[o].getBindingContext("QuestionsJsonModel").getObject().Id===n.Id){i=o;break}}var s=i+1;if(s>=t.getItems().length){s=0}var r=t.getItems()[s].getBindingContext("QuestionsJsonModel").getObject();var a=n.Sequence;n.Sequence=r.Sequence;r.Sequence=a;if(!this._aUpdatedQuestionIds.includes(n.Id)){this._aUpdatedQuestionIds.push(n.Id)}if(!this._aUpdatedQuestionIds.includes(r.Id)){this._aUpdatedQuestionIds.push(r.Id)}t.getBinding("items").refresh(true)},_initViewModel:function(){return new i({busy:false,tableBusy:false,delay:0,editMode:false,selectedItemId:""})},updateQuestions:function(){var e=this.getView().byId("tableQuestions").getModel("QuestionsJsonModel"),t=e.getData().QuestionSet.filter(function(e){return e.FormId===this._sObjectId}.bind(this));this.iNumberOfDoneRequests=t.length;if(this.iNumberOfDoneRequests>0){var n=[],i=this.getModel(),s="mjzsoftemail"+(new Date).getTime();i.setUseBatch(true);i.setDeferredGroups([s]);this._aDeletedQuestions.forEach(function(e){var t=this.getBatchObject(e,"Question");var d="/"+i.createKey("QuestionSet",t);t.Deleted=true;n.push(t.Id);this._updateRelatedItem(d,t,s,this._resetDataSets());this.getModel().read("/OptionSet",{filters:[new a("QuestionId",l.EQ,t.Id)],sorters:[new r("Sequence",false)],success:function(e,n){e.results.forEach(function(e){d="/"+i.createKey("OptionSet",e);e.Deleted=true;this._updateRelatedItem(d,t,s,this._resetDataSets())}.bind(this))}.bind(this),error:function(e){o.show(this.getResourceBundle().getText("errorHeader"))}})}.bind(this));t.forEach(function(e){var t=this.getBatchObject(e,"Question");if(t.Id<0){this.iNumberOfDoneRequests--;delete t.Id;i.create("/QuestionSet",t,{success:function(e,n){t.Id=e.Id;this.getModel("detailView").setProperty("/busy",false)}.bind(this),error:function(e){o.show(this.getAppViewModel().getProperty("/errorCreationMessage"));this.getModel("detailView").setProperty("/busy",false)}.bind(this)})}else if(!n.includes(t.Id)&&this._aUpdatedQuestionIds.includes(t.Id)){var r="/"+i.createKey("QuestionSet",t);this._updateRelatedItem(r,t,s,this._resetDataSets())}}.bind(this));i.submitChanges({groupId:s,success:function(){this._requestQuestions();sap.ui.getCore().getEventBus().publish("_formChange",{formId:this._sObjectId})}.bind(this)})}else{this._resetDataSets()}},onCloseView:function(){this.getModel("appView").setProperty("/editMode",false);sap.ui.getCore().getEventBus().publish("_deselectMasterSelection","detailClose",{});this.getModel("detailView").setProperty("/fullscreen",false);this.getRouter().navTo("master")},_updateRelatedItem:function(e,t,n,i){var o=this.getModel(),s="mjzsoftaddu"+(new Date).getTime()*(1+Math.random());o.update(e,t,{groupId:n,changeSetId:s,success:function(e,t){this.iNumberOfDoneRequests--;if(typeof i==="function"){i(e,t)}}.bind(this),error:function(e){this.iNumberOfDoneRequests--;if(typeof i==="function"){i(e)}}.bind(this)})},_onMetadataLoaded:function(){var e=this.getView().getBusyIndicatorDelay(),t=this.getModel("detailView");t.setProperty("/delay",0);t.setProperty("/busy",true);t.setProperty("/delay",e)},_navFromDetailToObjectDetail:function(e){this._resetAppViewModel("ThreeColumnsEndExpanded");this.getRouter().navTo("objectDetail",{objectId:this._sObjectId,Id:e});this.getModel("detailView").setProperty("/selectedItemId",e)},_onBeforeMatched:function(){if(this.getView()){this.getView().unbindElement();this.getView().unbindObject();this.getView().setBindingContext(null)}this.getAppViewModel().setProperty("/title","")},_onObjectMatched:function(e){if(!this.getOwnerComponent().getCurrentUser()||!this.getOwnerComponent().getCurrentUser().admin){this.getRouter().navTo("notAllowed",{},true);this.getModel("appView").setProperty("/layout","OneColumn")}else{this._sObjectId=parseInt(e.getParameter("arguments").objectId,10);this.getModel("detailView").setProperty("/fullscreen",false);this.getModel("detailView").setProperty("/editMode",false);this.getAppViewModel().setProperty("/layout","TwoColumnsMidExpanded");this.getAppViewModel().setProperty("/datesChanged",false);this._rebindView();sap.ui.getCore().getEventBus().publish("_refreshMasterSelection","formId",{formId:this._sObjectId})}},_onSearchinTable:function(e,t){var n=this.getView().byId("tableQuestions");n.getBinding("items").filter(new a({filters:[this._getInitialFilter(),this._getSearchFilter(e,t)],and:true}),sap.ui.model.FilterType.Application);n.setBusy(false)},_getInitialFilter:function(){return new a({filters:[new a("FormId",l.EQ,this._sObjectId),new a("Deleted",l.EQ,false)],and:true})},_getSearchFilter:function(e,t){var n=[];for(var i=0;i<t.length;i++){n.push(new a(t[i],l.Contains,e))}return new a({filters:n,and:false})},_rebindView:function(){this.getModel("detailView").setProperty("/busy",true);this.getModel().metadataLoaded().then(function(){this._sObjectPath="/"+this.getModel().createKey("FormSet",{Id:this._sObjectId});this._bindView(this._sObjectPath)}.bind(this))},_questionCountChange:function(e,t,n){this.getModel("detailView").setProperty("/selectedItemId",n.questionId);this._requestQuestions()},_requestQuestions:function(){this.getAppViewModel().setProperty("/tableBusy",true);this.getModel().read("/QuestionSet",{urlParameters:{$expand:"Qtype"},filters:[this._getInitialFilter()],sorters:[new r("Sequence",false)],success:function(e,t){var n=new i;n.setData({QuestionSet:e.results});this.setModel(n,"QuestionsJsonModel");this.getView().byId("smartTableQuestions").rebindTable();if(this._sCurrentSearchQuery.length>0){this._onSearchinTable(this._sCurrentSearchQuery,["Question"])}this.getAppViewModel().setProperty("/tableBusy",false)}.bind(this),error:function(e){o.show(this.getAppViewModel().getProperty("/errorHeader"));this.getAppViewModel().setProperty("/tableBusy",false)}.bind(this)})},_refreshDetail:function(e,t,n){this._sObjectId=n.objectId;this.getModel().metadataLoaded().then(function(){this._sObjectPath=this.getModel().createKey("FormSet",{Id:this._sObjectId});this._bindView("/"+this._sObjectPath)}.bind(this));sap.ui.getCore().getEventBus().unsubscribe("_refreshDetail","objectId",this._refreshDetail,this)},_refreshDetailSelection:function(e,t,n){this.getModel("detailView").setProperty("/selectedItemId",n.questionId);var i=this.getView().byId("tableQuestions");var o=i.getItems();if(o.length===0){i.attachEventOnce("updateFinished",function(){var e=i.getItems();this._checkItemInit(e,n.questionId)}.bind(this))}else{this._checkItemInit(o,n.questionId)}sap.ui.getCore().getEventBus().unsubscribe("_refreshDetailSelection","questionId",this._refreshDetailSelection,this)},_checkItemInit:function(e,t){var n=e.find(function(e){var n=e.getBindingContext("QuestionsJsonModel").sPath;var i=this.getView().getModel("QuestionsJsonModel").getProperty(n);return i.Id===t}.bind(this));if(n){jQuery.sap.delayedCall(0,null,function(){if(this._oScrollContainer){var e=n.$().offset();this._oScrollContainer.setScrollPosition(e.top)}}.bind(this))}else{this._resetAppViewModel("TwoColumnsMidExpanded")}},_deselectDetailSelection:function(){this.getModel("detailView").setProperty("/selectedItemId","")},_bindView:function(e){this.getAppViewModel().setProperty("/flexBoxDirection","Column");this.getModel("detailView").setProperty("/busy",false);this.getView().bindElement({path:e,parameters:{$expand:"Icon"},events:{change:this._onBindingChange.bind(this),dataRequested:function(){this.getModel("detailView").setProperty("/busy",true)}.bind(this),dataReceived:function(){this.getModel("detailView").setProperty("/busy",false)}.bind(this)}})},_onBindingChange:function(){var e=this.getView(),t=e.getElementBinding();if(!t.getBoundContext()){this.getRouter().getTargets().display("detailObjectNotFound");return}var n=e.getModel().getObject(t.getPath());this._sObjectId=n.Id;this._requestQuestions()},_resetDataSets:function(){this.getModel("detailView").setProperty("/changed",false);this._aDeletedQuestions=[];this._aUpdatedQuestionIds=[];this._aDeletedItems=[]},_setViewBusy:function(e){if(e){this.getModel("detailView").setProperty("/busy",true);sap.ui.core.BusyIndicator.show()}else{this.getModel("detailView").setProperty("/busy",false);sap.ui.core.BusyIndicator.hide()}},_resetAppViewModel:function(e){this.getAppViewModel().setProperty("/layout",e);this.getAppViewModel().setProperty("/flexBoxDirection","Column")},onEditFormBtnPress:function(e){if(!this._oCreateFormDialog){this._oCreateFormDialog=sap.ui.xmlfragment("com.mjzsoft.QuestionnaireBuilder.view.fragment.AddForm",this);this.getView().addDependent(this._oCreateFormDialog)}var t=this.getView().getModel().getProperty(this._sObjectPath,null,true);var n=this.getBatchObject(t,"Form");n.IconSrc=t.Icon.Source;var o=new i;o.setData(n);this._oCreateFormDialog.setModel(o,"oFragViewModel");this._oCreateFormDialog.getModel("appView").setProperty("/CreateEditSurveyTitle",this.getResourceBundle().getText("EditSurveyTitle"));this._oCreateFormDialog.getModel("appView").setProperty("/viewIcon",false);this._oCreateFormDialog.open()},onCancelForm:function(){this.getAppViewModel().setProperty("/datesChanged",false);if(this._oCreateFormDialog){if(this._oCreateFormDialog.isOpen()){this._oCreateFormDialog.close()}}},onSaveForm:function(e){this.getAppViewModel().setProperty("/datesChanged",false);var t=sap.ui.core.format.DateFormat.getDateTimeInstance(),n=sap.ui.getCore().byId("startDateTime").getValue(),i=sap.ui.getCore().byId("endDateTime").getValue(),s=t.parse(n),r=t.parse(i),a=this.getModel(),l=e.getSource().getBindingContext().sPath,d="mjzsoftadd"+(new Date).getTime();var u=this._oCreateFormDialog.getModel("oFragViewModel").getData();u=this.getBatchObject(u,"Form");u.ValidFrom=s;u.ValidTo=r;a.setUseBatch(true);a.setDeferredGroups([d]);this._setViewBusy(false);a.update(l,u,{groupId:d,success:function(){o.show(this.getResourceBundle().getText("successUpdateMessage"));this._setViewBusy(false);this._oCreateFormDialog.close();sap.ui.getCore().getEventBus().publish("_formChange",{formId:this._sObjectId})}.bind(this),error:function(e){o.show(this.getResourceBundle().getText("MsgToastError"));this._setViewBusy(false);this._oCreateFormDialog.close()}.bind(this)});a.submitChanges({groupId:d})},onAfterCloseDialog:function(){if(this._oCreateFormDialog){this._oCreateFormDialog.destroy();this._oCreateFormDialog=null}},onStartDateChange:function(e){this.getAppViewModel().setProperty("/datesChanged",true);this.getValidator().validate(sap.ui.getCore().byId("startDateTime"));this.createFormInputsValidation()},onEndDateChange:function(e){this.getAppViewModel().setProperty("/datesChanged",true);this.createFormInputsValidation()},onSwitchChange:function(e){var t=e.getSource().getBindingContext();var n=t.getModel("oFragViewModel");var i=t.getPath()+"/Universal";n.setProperty(i,e.getSource().getState())},createFormInputsValidation:function(){var e=sap.ui.getCore().byId("startDateTime"),t=sap.ui.getCore().byId("endDateTime"),n=sap.ui.getCore().byId("titleId").getValue();if(n.length===0||e.getValue().length===0||e.getValueState()==="Error"||t.getValue().length===0||t.getValueState()==="Error"){sap.ui.getCore().byId("SaveBtnId").setEnabled(false)}else{sap.ui.getCore().byId("SaveBtnId").setEnabled(true)}},onCreateFormTitleLiveChange:function(e){this.createFormInputsValidation()}})})},"com/mjzsoft/QuestionnaireBuilder/controller/DetailObjectNotFound.controller.js":function(){sap.ui.define(["./BaseController"],function(e){"use strict";return e.extend("com.mjzsoft.QuestionnaireBuilder.controller.DetailObjectNotFound",{})})},"com/mjzsoft/QuestionnaireBuilder/controller/DetailObjectNotFound.js":function(){sap.ui.define(["./BaseController"],function(e){"use strict";return e.extend("com.mjzsoft.QuestionnaireBuilder.controller.DetailObjectNotFound",{})})},"com/mjzsoft/QuestionnaireBuilder/controller/ErrorHandler.js":function(){sap.ui.define(["sap/ui/base/Object","sap/m/MessageBox","../js/XML2JSON"],function(e,t,n){"use strict";return e.extend("com.mjzsoft.QuestionnaireBuilder.controller.ErrorHandler",{constructor:function(e){this._oResourceBundle=e.getModel("i18n").getResourceBundle();this._oComponent=e;this._oModel=e.getModel();this._bMessageOpen=false;this._sErrorText=this._oResourceBundle.getText("errorText");this._oModel.attachMetadataFailed(function(e){var t=e.getParameters();this._showServiceError(t.response)},this);this._oModel.attachRequestFailed(function(e){var t=e.getParameters();if(t.response.statusCode!=="404"||t.response.statusCode===404&&t.response.responseText.indexOf("Cannot POST")===0){this._showServiceError(t.response)}},this)},_showServiceError:function(e){if(this._bMessageOpen){return}try{var i=JSON.parse(e.responseText);try{var o=i.error.innererror.errordetails,s=e.statusText+" ("+e.statusCode+") <br/>";for(var r=0;r<o.length;r++){s+="<br/> Code("+o[r].code+") : "+o[r].message}if(o.length===0){s+=i.error.message.value}var a=i.error.innererror.Error_Resolution;if(a&&a.SAP_Transaction){s+="<br/>"+a.SAP_Transaction}}catch(t){s=e.statusText+" ("+e.statusCode+") <br/>"+i.error.message.value}}catch(t){var l=new n.X2JS;i=l.xml_str2json(e.responseText);try{s=e.statusText+" ("+e.statusCode+") \n\n"+i.error.message.__text;s+="<br/><br/>"+i.error.innererror.Error_Resolution.SAP_Transaction}catch(t){s=e.statusText+" ("+e.statusCode+") \n\n"+e.responseText}}this._bMessageOpen=true;var d=parseInt(e.statusCode,10);if(d<500&&d>=400){t.error(this._oResourceBundle.getText("error400TypeResponse"),{id:"serviceErrorMessageBox",details:s?s:e,icon:sap.m.MessageBox.Icon.WARNING,styleClass:this._oComponent.getContentDensityClass(),actions:[t.Action.CLOSE],onClose:function(){this._bMessageOpen=false}.bind(this)})}else{t.error(this._oResourceBundle.getText("errorResponse"),{id:"serviceErrorMessageBox",details:s?s:e,icon:sap.m.MessageBox.Icon.WARNING,styleClass:this._oComponent.getContentDensityClass(),actions:[t.Action.CLOSE],onClose:function(){this._bMessageOpen=false}.bind(this)})}}})})},"com/mjzsoft/QuestionnaireBuilder/controller/Master.controller.js":function(){sap.ui.define(["./BaseController","../utils/Utils","../model/formatter","sap/ui/model/json/JSONModel","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/Device","sap/m/MessageToast","../model/individualFormatter"],function(e,t,n,i,o,s,r,a){"use strict";return e.extend("com.mjzsoft.QuestionnaireBuilder.controller.Master",{formatter:n,onInit:function(){this.setModel(this._initViewModel(),"masterView");this.initiateValidator();var e=sap.ui.getCore().getEventBus();e.subscribe("_formChange",this._onFormChange,this);e.subscribe("_refreshMasterSelection","formId",this._refreshMasterSelection,this);e.subscribe("_deselectMasterSelection","detailClose",this._deselectMasterSelection,this);this.getRouter().getRoute("master").attachMatched(this._onMasterMatched,this)},onAfterRendering:function(e){this.bindOnChangeToInputs("fieldGroupItem");this.getValidator().removeAllMessages()},onExit:function(){var e=sap.ui.getCore().getEventBus();e.unsubscribe("_refreshMasterSelection","formId",this._refreshMasterSelection,this);e.unsubscribe("_deselectMasterSelection","detailClose",this._deselectMasterSelection,this)},_initViewModel:function(){return new i({delay:0,masterCounterTitle:"...",showNoDataMessage:false,groupBy:"None",busy:false,allResources:"",enableDelete:false,selectedItem:null})},_onMasterMatched:function(e){if(!this.getOwnerComponent().getCurrentUser()||!this.getOwnerComponent().getCurrentUser().admin){this.getRouter().navTo("notAllowed",{},true);this.getModel("appView").setProperty("/layout","OneColumn")}else{var t=this.getAppViewModel();t.setProperty("/flexBoxDirection","Row");t.setProperty("/layout","OneColumn");t.setProperty("/datesChanged",false);this._deselectMasterSelection()}},_onFormChange:function(e,t,n){var i=this.getView().byId("flexboxId");i.getBinding("items").attachEventOnce("dataReceived",function(){var e=i.getItems();this._setSelectedItem(e,n.formId)}.bind(this));i.getBinding("items").refresh();sap.ui.getCore().getEventBus().unsubscribe("_refreshMasterSelection","formId",this._refreshMasterSelection,this)},_refreshMasterSelection:function(e,t,n){var i=this.getView().byId("flexboxId");var o=i.getItems();if(o.length===0){i.getBinding("items").attachEventOnce("dataReceived",function(){o=i.getItems();this._setSelectedItem(o,n.formId)}.bind(this))}else{this._setSelectedItem(o,n.formId)}sap.ui.getCore().getEventBus().unsubscribe("_refreshMasterSelection","formId",this._refreshMasterSelection,this)},_setSelectedItem:function(e,t){var n=e.find(function(e){var n=e.getBindingContext().sPath;var i=this.getView().getModel().getProperty(n);return i.Id===t}.bind(this));if(n){this._selectMasterSelection(n)}else{var i=this.getAppViewModel();i.setProperty("/flexBoxDirection","Row");i.setProperty("/layout","OneColumn");i.setProperty("/datesChanged",false)}},_deselectMasterSelection:function(){var e=this.getView().byId("flexboxId");var t=e.getItems();t.forEach(function(e){e.removeStyleClass("mjzsoftSelectedTileItem")});var n=this.getModel("masterView");n.setProperty("/enableDelete",false);n.setProperty("/selectedItem",null)},_selectMasterSelection:function(e){e.addStyleClass("mjzsoftSelectedTileItem");this._scrollToSelectedTile(e);var t=this.getModel("masterView");t.setProperty("/enableDelete",true);t.setProperty("/selectedItem",e)},_scrollToSelectedTile:function(e){var t=this.getView().byId("masterScrollContainer");setTimeout(function(e,t){try{e.scrollToElement(t)}catch(e){}}.bind(this,t,e),10)},_showDetail:function(e){var t=!r.system.phone;var n=this.getAppViewModel();n.setProperty("/layout","TwoColumnsMidExpanded");this.getRouter().navTo("object",{objectId:e.getBindingContext().getProperty("Id")},t)},_applyFilterSearch:function(e){this.getRouter().navTo("master",{},true);var t=[];if(e&&e.length>0){t=e}var n=this.getView().byId("flexboxId");n.getBinding("items").filter(t)},_applyFilterSearchIcons:function(e){var t=[];if(e&&e.length>0){t=e}var n=sap.ui.getCore().byId("iconDialog");n.getBinding("items").filter(t)},onFormsReceived:function(e){var t=e.getSource(),n=this.getModel("masterView");n.setProperty("/masterCounterTitle",this.getResourceBundle().getText("TxtNumberResources",[t.getLength()]));if(t.getLength()===0){n.setProperty("/showNoDataMessage",true)}else{n.setProperty("/showNoDataMessage",false)}},onSearch:function(e){if(e.getParameters().refreshButtonPressed){this.onRefresh();return}var t=[];var n=e.getParameter("query");if(n){t.push(new o("Name",s.Contains,n))}this._applyFilterSearch(t)},onSearchLiveChange:function(e){if(e.getParameters().newValue.length===0){this.onSearch(e)}},onRefresh:function(){var e=this.getView().byId("flexboxId");e.getBinding("items").refresh()},onPressItem:function(e){if(this.getView().getModel("appView").getProperty("/editMode")){a.show(this.getResourceBundle().getText("MsgEditStateOn"))}else{var t=!r.system.phone;var n=e.getSource();var i=n.getBindingContext().sPath;this._deselectMasterSelection();this._selectMasterSelection(n);var o=this.getAppViewModel();o.setProperty("/flexBoxDirection","Column");o.setProperty("/layout","TwoColumnsMidExpanded");var s=this.getModel().getProperty(i);this.getRouter().navTo("object",{objectId:s.Id},t)}},onCreateFromBtnPress:function(e){if(!this._oCreateFormDialog){this._oCreateFormDialog=sap.ui.xmlfragment("com.mjzsoft.QuestionnaireBuilder.view.fragment.AddForm",this);this.getView().addDependent(this._oCreateFormDialog)}var t=new i;t.setData({IconId:"IC1",IconSrc:"sap-icon://building"});this._oCreateFormDialog.setModel(t,"oFragViewModel");sap.ui.getCore().byId("SaveBtnId").setEnabled(false);this._oCreateFormDialog.getModel("appView").setProperty("/viewIcon",true);this._oCreateFormDialog.getModel("appView").setProperty("/CreateEditSurveyTitle",this.getResourceBundle().getText("CreateNewSurveyTitle"));this._oCreateFormDialog.open()},onDeleteFromBtnPress:function(e){var n=this.getModel("masterView");var i=n.getProperty("/selectedItem");if(i){var o=this.getModel().getProperty(i.getBindingContext().sPath);var s=this.getResourceBundle();t.showDialog(this,s.getText("masterTitDeleteForm"),s.getText("masterSureDeleteForm",[o.Name]),this.onDeleteForm.bind(this),true,undefined,s.getText("BtnNo"),s.getText("BtnYes"))}},onDeleteForm:function(){var e=this.getModel("masterView");var t=e.getProperty("/selectedItem");if(t){var n=this.getModel();var i=t.getBindingContext().sPath;var o=n.getProperty(i);var s="mjzsoft_update_"+(new Date).getTime();n.setDeferredGroups([s]);o.Deleted=true;o=this.getBatchObject(o,"Form");n.update(i,o,{groupId:s});n.submitChanges({groupId:s,success:function(){n.setDeferredGroups([]);a.show(this.getResourceBundle().getText("MsgSuccessDelete"));this.getView().byId("flexboxId").getBinding("items").refresh(true);var t=this.getAppViewModel();t.setProperty("/flexBoxDirection","Row");t.setProperty("/layout","OneColumn");e.setProperty("/enableDelete",false)}.bind(this),error:function(){n.setDeferredGroups([])}})}},onCancelForm:function(){this.getAppViewModel().setProperty("/datesChanged",false);if(this._oCreateFormDialog&&this._oCreateFormDialog.isOpen()){this._oCreateFormDialog.close()}},onSaveForm:function(e){var t=this.getAppViewModel();t.setProperty("/datesChanged",false);this.getModel("masterView").setProperty("/busy",true);var n=sap.ui.core.format.DateFormat.getDateTimeInstance();var i=this._oCreateFormDialog.getModel("oFragViewModel").getData();i=this.getBatchObject(i,"Form");i.ValidFrom=n.parse(sap.ui.getCore().byId("startDateTime").getValue());i.ValidTo=n.parse(sap.ui.getCore().byId("endDateTime").getValue());var o=this.getModel();o.setUseBatch(true);o.create("/FormSet",i,{success:function(e,n){this.getModel("masterView").setProperty("/busy",false);a.show(this.getResourceBundle().getText("MsgToastSuccess"));this._oCreateFormDialog.close();t.setProperty("/flexBoxDirection","Column");t.setProperty("/layout","TwoColumnsMidExpanded");this.getRouter().navTo("object",{objectId:e.Id});var i=this.getView().byId("flexboxId");i.getBinding("items").attachEventOnce("dataReceived",function(){var t=i.getItems();this._setSelectedItem(t,e.Id)}.bind(this));this.onRefresh()}.bind(this),error:function(e){this.getModel("masterView").setProperty("/busy",false);a.show(this.getResourceBundle().getText("MsgToastError"));this._oCreateFormDialog.close()}.bind(this)})},onAfterCloseDialog:function(){if(this._oCreateFormDialog){this._oCreateFormDialog.destroy();this._oCreateFormDialog=null}},onStartDateChange:function(e){this.getAppViewModel().setProperty("/datesChanged",true);this.getValidator().validate(sap.ui.getCore().byId("startDateTime"));this.createFormInputsValidation()},onEndDateChange:function(e){this.getAppViewModel().setProperty("/datesChanged",true);this.createFormInputsValidation()},onSwitchChange:function(e){var t=e.getSource().getBindingContext();var n=t.getModel();var i=t.getPath()+"/Universal";n.setProperty(i,e.getSource().getState())},createFormInputsValidation:function(){var e=sap.ui.getCore().byId("startDateTime"),t=sap.ui.getCore().byId("endDateTime"),n=sap.ui.getCore().byId("titleId").getValue();if(n.length===0||e.getValue().length===0||e.getValueState()==="Error"||t.getValue().length===0||t.getValueState()==="Error"){sap.ui.getCore().byId("SaveBtnId").setEnabled(false)}else{sap.ui.getCore().byId("SaveBtnId").setEnabled(true)}},onCreateFormTitleLiveChange:function(e){this.createFormInputsValidation()},onIconPress:function(e){if(!this._IconSelectorDialog){this._IconSelectorDialog=sap.ui.xmlfragment("com.mjzsoft.QuestionnaireBuilder.view.fragment.DialogIconSelector",this);this.getView().addDependent(this._IconSelectorDialog);this._IconSelectorDialog.setModel(this.getView().getModel())}this._IconSelectorDialog.open()},handleCloseIcon:function(e){var t=e.getParameter("selectedContexts");if(t.length>0){this._oCreateFormDialog.getModel("oFragViewModel").setProperty("/IconSrc",t[0].getObject().Source);this._oCreateFormDialog.getModel("oFragViewModel").setProperty("/IconId",t[0].getObject().Id)}},onRefreshIcons:function(){var e=this.getView().byId("flexboxId");e.getBinding("items").refresh()},handleSearchIcon:function(e){if(e.getParameters().refreshButtonPressed){this.onRefreshIcons();return}var t=[];var n=e.getParameter("value");if(n){t.push(new o("Name",s.Contains,n))}this._applyFilterSearchIcons(t)},liveSearchIcon:function(e){if(e.getParameter("value").length===0){this.handleSearchIcon(e)}}})})},"com/mjzsoft/QuestionnaireBuilder/controller/NotAllowed.controller.js":function(){sap.ui.define(["./BaseController"],function(e){"use strict";return e.extend("com.mjzsoft.QuestionnaireBuilder.controller.NotAllowed",{onInit:function(){if(this.getOwnerComponent().getCurrentUser()!==null&&this.getOwnerComponent().getCurrentUser().admin){this.getRouter().navTo("master",{},true)}},onLinkPressed:function(){var e=sap.ushell.Container.getService("CrossApplicationNavigation");e.toExternal({target:{shellHash:"#Shell-home"}})}})})},"com/mjzsoft/QuestionnaireBuilder/controller/NotFound.controller.js":function(){sap.ui.define(["./BaseController"],function(e){"use strict";return e.extend("com.mjzsoft.QuestionnaireBuilder.controller.NotFound",{onInit:function(){this.getRouter().getTarget("notFound").attachDisplay(this._onNotFoundDisplayed,this)},_onNotFoundDisplayed:function(){this.getModel("appView").setProperty("/layout","OneColumn")}})})},"com/mjzsoft/QuestionnaireBuilder/controller/ObjectDetail.controller.js":function(){sap.ui.define(["./BaseController","../utils/Utils","../model/formatter","sap/ui/model/json/JSONModel","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/m/MessageToast","sap/m/MessageBox","sap/ui/core/Fragment","../model/JsonModelManager"],function(e,t,n,i,o,s,r,a,l,d){"use strict";return e.extend("com.mjzsoft.QuestionnaireBuilder.controller.ObjectDetail",{formatter:n,onInit:function(){var e=this._initViewModel();this.setModel(e,"objectDetailView");this.getRouter().getRoute("objectDetail").attachBeforeMatched(this._onBeforeMatched,this);this.getRouter().getRoute("objectDetail").attachPatternMatched(this._onObjectMatched,this);this.getRouter().getRoute("createObject").attachBeforeMatched(this._onBeforeMatched,this);this.getRouter().getRoute("createObject").attachPatternMatched(this._onCreateObjectMatched,this);this.initiateValidator();this._oValidator=this.getValidator();this._oValidator.removeAllMessages();this._iNextId=-1;this._oOptionsManager=new d("ObjectOptionsModel","OptionSet",this.getOptionsComparator);this._oOptionsManager.createModel(this)},onAfterRendering:function(e){this.bindOnChangeToInputs("fieldGroupItem")},onPressCloseObjectPage:function(e){sap.ui.getCore().getEventBus().publish("_deselectDetailSelection","objectDetailClose",{});if(this.getView().getModel("objectDetailView").getProperty("/editMode")){var n=this.getModel().hasPendingChanges();var i=this.getResourceBundle();var o=this._oOptionsManager.getDeletedItems(),s=this._oOptionsManager.getUpdatedItems(),r=this._oOptionsManager.getCreatedItems();if(n||o.length>0||s.length>0||r.length>0){t.showDialog(this,i.getText("TitDialogClose"),i.getText("closeViewInEditMode"),this.onCloseView.bind(this),true,undefined,"","")}else{this.onCloseView()}}else{this._navFromDetailObjectToDetail()}},onPressEdit:function(e){this._oValidator=this.getValidator();this._oValidator.removeAllMessages();var t=this.getView().getModel("objectDetailView");t.setProperty("/editMode",true);this.getModel("appView").setProperty("/editMode",true);t.setProperty("/createMode",false);var n=this.getView().byId("questionTypeSelectId");if(n.getSelectedKey()==="QT3"||n.getSelectedKey()==="QT4"||n.getSelectedKey()==="QT7"){t.setProperty("/tableEditMode",true)}else{t.setProperty("/tableEditMode",false)}},onPressSaveEdit:function(e){var n=this.getModel().hasPendingChanges();var i=this.getResourceBundle();var o=this._oOptionsManager.getDeletedItems(),s=this._oOptionsManager.getUpdatedItems(),r=this._oOptionsManager.getCreatedItems();if(n||o.length>0||s.length>0||r.length>0){if(this._oValidator.validate(this.byId("objectDetailFormId"))&&this._oValidator.validate(this.byId("tableAnswers"))){if(this.checkAnswers()){if(this._checkQuestionRequirements()){t.showDialog(this,i.getText("saveMsg"),i.getText("saveBtnMsg"),this.onSaveDialog.bind(this),true,undefined,i.getText("BtnNo"),i.getText("BtnYes"))}else{a.show(i.getText("atleastTwoPossibleAnswersError"),{icon:a.Icon.ERROR,title:i.getText("errorHeader"),actions:[a.Action.OK],onClose:function(e){}})}}else{a.show(i.getText("MsgToastOptionsEmpty"),{icon:a.Icon.ERROR,title:i.getText("errorHeader"),actions:[a.Action.OK],onClose:function(e){}})}}}else{var l=this.getView().getModel("objectDetailView");l.setProperty("/editMode",false);this.getModel("appView").setProperty("/editMode",false);l.setProperty("/tableEditMode",false);var d=this.getView().byId("tableAnswers");d.removeSelections()}},onPressCancel:function(e){var n=this.getResourceBundle();var i=this.getModel().hasPendingChanges();var o=this._oOptionsManager.getDeletedItems(),s=this._oOptionsManager.getUpdatedItems(),r=this._oOptionsManager.getCreatedItems();if(this.getView().getModel("objectDetailView").getProperty("/showAdd")===true){if(i||o.length>0||s.length>0||r.length>0){t.showDialog(this,n.getText("TitDialogCancel"),n.getText("TxtDialogCancel"),this.onCancelNewItem.bind(this),true,undefined,"","")}else{this.onCancelNewItem()}}else{if(i||o.length>0||s.length>0||r.length>0){t.showDialog(this,n.getText("TitDialogCancel"),n.getText("TxtDialogCancel"),this.onCancelItemEdit.bind(this),true,undefined,n.getText("BtnNo"),n.getText("BtnYes"))}else{this.onCancelItemEdit()}}},onQuestionTypeSelectChange:function(e){var t=e.getSource();if(t.getSelectedKey()==="QT4"||t.getSelectedKey()==="QT3"||t.getSelectedKey()==="QT7"){this.getView().getModel("objectDetailView").setProperty("/tableEditMode",true);this.getView().getModel("objectDetailView").setProperty("/questionWithOptions",true)}else{this.getView().getModel("objectDetailView").setProperty("/tableEditMode",false);this.getView().getModel("objectDetailView").setProperty("/questionWithOptions",false);var n=this.getView().byId("tableAnswers");var i=n.getItems();if(i.length>0){var o=[];for(var s=0;s<i.length;s++){var r=i[s].getBindingContext("ObjectOptionsModel").getObject();if(r.Id>0){r.Deleted=true;r=this.getBatchObject(r,"Option");this._oOptionsManager.updateEntry(r)}else{o.push(r)}}this._oOptionsManager.deleteItemsFromModel(this,o)}}if(t.getSelectedKey()==="QT1"||t.getSelectedKey()==="QT2"){this.getView().getModel("objectDetailView").setProperty("/isMandatoryVisible",false)}else{this.getView().getModel("objectDetailView").setProperty("/isMandatoryVisible",true)}},tableAddBtnPress:function(e){var t=this.getView().byId("tableAnswers");var n=this.getView().getBindingContext();var i=this._sId?this._sId:-1;if(n){i=n.getObject().Id}var o=1;if(t.getItems().length>0){o=Math.max.apply(Math,t.getItems().map(function(e){return e.getBindingContext("ObjectOptionsModel").getObject().Sequence}));o++}this._oOptionsManager.addToMiddlewareJsonModel(this,[{Id:this.getNextId(),QuestionId:i,Sequence:o,Deleted:false,Answer:"",DefaultAnswer:false,Value:1}])},tableDelBtnPress:function(e){var t=this.getView().byId("tableAnswers"),n=t.getSelectedContexts("ObjectOptionsModel");if(n.length===0&&t.getItems().length>0){a.error(this.getResourceBundle().getText("atLeastSellectOneItemToAction"),{icon:a.Icon.ERROR,title:this.getResourceBundle().getText("errorHeader"),actions:[a.Action.OK]});return}else if(t.getItems().length>0){var i=this.getModel(this._oOptionsManager.getModelName());var o=[];for(var s=0;s<n.length;s++){var r=i.getProperty(n[s].getPath());if(r.Id>0){r.Deleted=true;r=this.getBatchObject(r,"Option");this._oOptionsManager.updateEntry(r)}else{o.push(r)}}this._oOptionsManager.deleteItemsFromModel(this,o);t.getBinding("items").refresh(true);t.removeSelections()}},onOptionAnswerChange:function(e){var t=e.getSource().getBindingContext("ObjectOptionsModel"),n=jQuery.extend({},t.getObject());var i=t.getModel("ObjectOptionsModel");i.setProperty(t.getPath()+"/Answer",n.Answer);this._oOptionsManager.updateEntry(n)},onOptionDefaultChange:function(e){var t=e.getSource().getSelected();var n=e.getSource().getBindingContext("ObjectOptionsModel"),i=jQuery.extend({},n.getObject());i.DefaultAnswer=t;var o=n.getModel("ObjectOptionsModel");o.setProperty(n.getPath()+"/DefaultAnswer",t);this._oOptionsManager.updateEntry(i)},tableUpBtnPress:function(e){var t=this.getView().byId("tableAnswers");var n=e.getSource().getBindingContext("ObjectOptionsModel").getObject();var i=-1;for(var o=0;o<t.getItems().length;o++){if(t.getItems()[o].getBindingContext("ObjectOptionsModel").getObject().Id===n.Id){i=o;break}}var s=i-1;if(s===-1){s=t.getItems().length-1}var r=t.getItems()[s].getBindingContext("ObjectOptionsModel").getObject();var a=n.Sequence;n.Sequence=r.Sequence;r.Sequence=a;n=this.getBatchObject(n,"Option");r=this.getBatchObject(r,"Option");this._oOptionsManager.updateEntry(n);this._oOptionsManager.updateEntry(r);t.getBinding("items").refresh(true)},tableDownBtnPress:function(e){var t=this.getView().byId("tableAnswers");var n=e.getSource().getBindingContext("ObjectOptionsModel").getObject();var i=-1;for(var o=0;o<t.getItems().length;o++){if(t.getItems()[o].getBindingContext("ObjectOptionsModel").getObject().Id===n.Id){i=o;break}}var s=i+1;if(s>=t.getItems().length){s=0}var r=t.getItems()[s].getBindingContext("ObjectOptionsModel").getObject();var a=n.Sequence;n.Sequence=r.Sequence;r.Sequence=a;n=this.getBatchObject(n,"Option");r=this.getBatchObject(r,"Option");this._oOptionsManager.updateEntry(n);this._oOptionsManager.updateEntry(r);t.getBinding("items").refresh(true)},_onBeforeMatched:function(){if(this.getView()){this.getView().unbindElement();this.getView().unbindObject();this.getView().setBindingContext(null);var e=this.getView().byId("tableAnswers");e.destroyItems()}this.getView().getModel("objectDetailView").setProperty("/title","")},_onObjectMatched:function(e){if(!this.getOwnerComponent().getCurrentUser()||!this.getOwnerComponent().getCurrentUser().admin){this.getRouter().navTo("notAllowed",{},true);this.getModel("appView").setProperty("/layout","OneColumn")}else{this._sId=parseInt(e.getParameter("arguments").Id,10);this._sFormId=parseInt(e.getParameter("arguments").objectId,10);var t=this.getView().getModel("objectDetailView");t.setProperty("/editMode",false);t.setProperty("/createMode",false);t.setProperty("/tableEditMode",false);sap.ui.getCore().getEventBus().publish("_refreshDetail","objectId",{objectId:this._sFormId});sap.ui.getCore().getEventBus().publish("_refreshDetailSelection","questionId",{questionId:this._sId});sap.ui.getCore().getEventBus().publish("_refreshMasterSelection","formId",{formId:this._sFormId});this.getModel("appView").setProperty("/layout","ThreeColumnsEndExpanded");this._refreshDetailObjects()}},_onCreateObjectMatched:function(e){this._sObjectId=null;this._sFormId=parseInt(e.getParameter("arguments").objectId,10);var t=this.getView().getModel("objectDetailView");t.setProperty("/busy",true);t.setProperty("/editMode",true);t.setProperty("/createMode",true);t.setProperty("/isMandatoryVisible",false);this.getModel("appView").setProperty("/editMode",true);t.setProperty("/tableEditMode",false);t.setProperty("/questionWithOptions",false);t.setProperty("/showAdd",true);t.setProperty("/title",this.getResourceBundle().getText("createViewTitle"));sap.ui.getCore().getEventBus().publish("_refreshDetail","objectId",{objectId:this._sFormId});sap.ui.getCore().getEventBus().publish("_refreshMasterSelection","formId",{formId:this._sFormId});this.getModel("appView").setProperty("/layout","ThreeColumnsEndExpanded");this.getModel().metadataLoaded().then(function(){this.getModel().read("/QuestionSet",{filters:[new o("FormId",s.EQ,this._sFormId)],sorters:[new sap.ui.model.Sorter("Sequence",false)],success:function(e,t){var n=Math.max.apply(Math,e.results.map(function(e){return e.Sequence}));if(n<1){n=0}this.resetCreatedOContext("QuestionSet");this._oContext=this.getModel().createEntry("QuestionSet",{properties:{Id:-1,QtypeId:"QT1",FormId:this._sFormId,Sequence:n+1,RandomWeight:1,Mandatory:false,Deleted:false}});this.getView().setBindingContext(this._oContext);this.getView().getModel("objectDetailView").setProperty("/busy",false);this._oOptionsManager.updateData(this,this._getOptionFilters())}.bind(this),error:function(e){r.show(this.getResourceBundle().getText("errorHeader"))}.bind(this)})}.bind(this))},_initViewModel:function(){return new i({title:"",editMode:false,busy:false})},_refreshDetailObjects:function(){if(this._sId){this.getModel().metadataLoaded().then(function(){this._sObjectId=this._sId;var e=this.getView().getModel("objectDetailView");e.setProperty("/sObjectId",this._sObjectId);e.setProperty("/EditMode",true);e.setProperty("/showAdd",false);e.setProperty("/title",this.getResourceBundle().getText("detailViewTitle"));this._sObjectPath=this.getModel().createKey("QuestionSet",{Id:this._sId});this._bindView("/"+this._sObjectPath);this.resetCreatedOContext("QuestionSet");this._oOptionsManager.updateData(this,this._getOptionFilters())}.bind(this))}else{return}},_bindView:function(e){this.getView().getModel("objectDetailView").setProperty("/busy",false);this.getView().bindElement({path:e,parameteres:{$expand:"Form,Form/Icon"},events:{change:this._onBindingChange.bind(this),dataRequested:function(){this.getView().getModel("objectDetailView").setProperty("/busy",true)}.bind(this),dataReceived:function(){this.getView().getModel("objectDetailView").setProperty("/busy",false)}.bind(this)}})},_onBindingChange:function(){var e=this.getView(),t=e.getElementBinding();if(!t.getBoundContext()){this.getRouter().getTargets().display("detailObjectNotFound");return}var n=t.getPath();var i=e.getModel().getObject(n);this._sObjectId=i.Id;if(i.QtypeId==="QT3"||i.QtypeId==="QT4"||i.QtypeId==="QT7"){e.getModel("objectDetailView").setProperty("/questionWithOptions",true)}else{e.getModel("objectDetailView").setProperty("/questionWithOptions",false)}if(i.QtypeId==="QT1"||i.QtypeId==="QT2"){this.getModel("objectDetailView").setProperty("/isMandatoryVisible",false)}else{this.getModel("objectDetailView").setProperty("/isMandatoryVisible",true)}var o=this.getView().byId("tableAnswers");o.getBinding("items").refresh(true)},_refreshViews:function(){sap.ui.getCore().getEventBus().publish("_questionCountChange",{questionId:this._sObjectId});sap.ui.getCore().getEventBus().publish("_formChange",{formId:this._sFormId});this.getRouter().navTo("objectDetail",{objectId:this._sFormId,Id:this._sObjectId},true)},resetCreatedOContext:function(e,t){var n=this.getModel(),i;i=t?t:{};i.refreshAfterChange=false;if(this._oContext!==null){n.deleteCreatedEntry(this._oContext);this._oContext=null}n.setDeferredGroups(["changes"])},checkAnswers:function(){var e=this.getView().byId("tableAnswers");var t=e.getItems();var n=true;for(var i=0;i<t.length;i++){var o=t[i].getBindingContext("ObjectOptionsModel").getObject();if(o.Answer.length===0){n=false;break}}return n},_saveChangedObject:function(){var e=this.getModel(),t="mjzsoftadd"+(new Date).getTime();this.getView().getModel("objectDetailView").setProperty("/busy",true);e.setUseBatch(true);e.setDeferredGroups([t]);this.createOptionOdataRequests(t);if(this.getModel().hasPendingChanges()){var n=this.getView().getBindingContext().getObject();n=this.getBatchObject(n,"Question");var i=this.getView().getElementBinding().getPath();e.update(i,n,{success:function(){r.show(this.getResourceBundle().getText("successUpdateMessage"));this.getView().getModel("objectDetailView").setProperty("/busy",false);e.setDeferredGroups(["changes"]);this._refreshViews()}.bind(this),error:function(e){r.show(this.getResourceBundle().getText("errorUpdateMessage"));this.getView().getModel("objectDetailView").setProperty("/busy",false)}.bind(this)})}e.submitChanges({groupId:t,success:function(){r.show(this.getResourceBundle().getText("successUpdateMessage"));this.getView().getModel("objectDetailView").setProperty("/busy",false);e.setDeferredGroups(["changes"]);this._refreshViews()}.bind(this),error:function(e){r.show(this.getResourceBundle().getText("errorUpdateMessage"));this.getView().getModel("objectDetailView").setProperty("/busy",false)}.bind(this)})},_saveNewObject:function(){var e=this._oContext.getObject();e=this.getBatchObject(e,"Question");for(var t in e){if(e[t]===undefined){e[t]=""}}e.QtypeId=this.getView().byId("questionTypeSelectId").getSelectedKey();e.FormId=this._sFormId;var n=this.getModel(),i="mjzsoftadd"+(new Date).getTime();this.getView().getModel("objectDetailView").setProperty("/busy",true);n.setUseBatch(true);n.setDeferredGroups([i]);n.create("/QuestionSet",e,{success:function(e,t){this._sObjectId=e.Id;var o=this.createOptionOdataRequests(i,this._sObjectId);if(o.changesExist){n.submitChanges({groupId:i,success:function(){r.show(this.getResourceBundle().getText("successUpdateMessage"));this.getView().getModel("objectDetailView").setProperty("/busy",false);n.setDeferredGroups(["changes"]);this._refreshViews()}.bind(this),error:function(e){r.show(this.getResourceBundle().getText("errorCreationMessage"));this.getView().getModel("objectDetailView").setProperty("/busy",false)}.bind(this)})}else{r.show(this.getResourceBundle().getText("successUpdateMessage"));this.getView().getModel("objectDetailView").setProperty("/busy",false);n.setDeferredGroups(["changes"]);this._refreshViews()}}.bind(this),error:function(e){r.show(this.getResourceBundle().getText("errorCreationMessage"));this.getView().getModel("objectDetailView").setProperty("/busy",false)}.bind(this)})},_navFromDetailObjectToDetail:function(){var e=this.getView().getModel("objectDetailView");e.setProperty("/showAdd",false);e.setProperty("/busy",false);sap.ui.core.BusyIndicator.hide();this.getView().unbindElement();this.getModel("appView").setProperty("/layout","TwoColumnsMidExpanded");this.getRouter().navTo("object",{objectId:this._sFormId})},getNextId:function(){return this._iNextId--},_getOptionFilters:function(){var e=this.getView().getBindingContext();var t=0;if(e){t=this.getView().getModel().getProperty(e.getPath()).Id}if(t===0){var n=window.location.href;var i=n.split("/");var r=i[i.length-1];if(!isNaN(r)){t=parseInt(r,10)}}return new o({filters:[new o("QuestionId",s.EQ,t),new o("Deleted",s.EQ,false)],and:true})},getOptionsComparator:function(e,t){if(e.Id===t.Id){return true}return false},createOptionOdataRequests:function(e,t){var n="/OptionSet";var i=this.getView().getModel();var o=this._oOptionsManager.getDeletedItems(),s=this._oOptionsManager.getUpdatedItems(),r=this._oOptionsManager.getCreatedItems();i.setDeferredGroups([e]);for(var a=0;a<r.length;a++){var l=r[a];l.QuestionId=t?t:l.QuestionId;l=this.getBatchObject(l,"Option");i.create(n,l,{groupId:e})}for(var d=0;d<o.length;d++){var u=o[d];var c=i.createKey(n,{Id:u.Id});i.remove(c,{groupId:e})}for(var g=0;g<s.length;g++){var h=s[g];h=this.getBatchObject(h,"Option");var p=i.createKey(n,{Id:h.Id});i.update(p,h,{groupId:e})}return{groupId:e,changesExist:r!==0||s!==0||o!==0}},_getInitialFilter:function(){return new o({filters:[new o("QuestionId",s.EQ,this._sObjectId),new o("Deleted",s.EQ,false)],and:true})},_checkQuestionRequirements:function(){if(this.getView().getBindingContext()){var e=this.getView().getBindingContext().getObject(),t=e.QtypeId;if(t==="QT3"||t==="QT4"||t==="QT7"){var n=this.getView().byId("tableAnswers");var i=n.getItems();if(i.length<2){return false}else{return true}}else{return true}}else{return false}},onCloseView:function(){this.getModel("appView").setProperty("/editMode",false);this._navFromDetailObjectToDetail()},onCancelNewItem:function(){r.show(this.getResourceBundle().getText("MsgToastCanceled"));this.getModel("appView").setProperty("/editMode",false);this._navFromDetailObjectToDetail()},onCancelItemEdit:function(){r.show(this.getResourceBundle().getText("MsgToastCanceled"));var e=this.getView().getModel("objectDetailView");e.setProperty("/editMode",false);this.getModel("appView").setProperty("/editMode",false);e.setProperty("/tableEditMode",false);this.getView().getModel().resetChanges();this.getView().unbindElement();this._refreshDetailObjects()},onSaveDialog:function(){var e=this.getView().getModel("objectDetailView");e.setProperty("/editMode",false);this.getModel("appView").setProperty("/editMode",false);e.setProperty("/tableEditMode",false);if(this._sObjectId){this._saveChangedObject()}else{this._saveNewObject()}var t=this.getView().byId("tableAnswers");t.removeSelections()},onRegexValueHelpPressed:function(e){if(!this._oRegexDialog){l.load({name:"com.mjzsoft.QuestionnaireBuilder.view.fragment.DialogRegexSelector",controller:this}).then(function(e){this._oRegexDialog=e;this._oRegexDialog.setModel(this.getView().getModel());this.getView().addDependent(this._oRegexDialog);this._oRegexDialog.open()}.bind(this))}else{this._oRegexDialog.open()}},onRegexDialogLiveSearch:function(e){if(e.getParameter("value").length===0){this.onRegexDialogSearch(e)}},onRegexDialogSearch:function(e){var t=e.getParameter("value");var n=new o("Name",s.Contains,t);var i=e.getParameter("itemsBinding");i.filter([n])},onRegexDialogClose:function(e){var t=e.getParameter("selectedContexts");if(t&&t.length){var n=t[0].getObject(),i=this.getModel(),o=this.getView().getBindingContext().getPath();i.setProperty(o+"/Regex",n.Expression)}e.getSource().getBinding("items").filter([])}})})},"com/mjzsoft/QuestionnaireBuilder/i18n/i18n.properties":"# This is the resource bundle for Questionnaire Builder\n\n#XTIT: Application name\nappTitle=Questionnaire builder\n\n#YDES: Application description\nappDescription= \"\"\n\n#XTIT: second page title\ndetailTitle=Survey questions\n\n#XTIT: save dialog title\nsaveMsg=Save\n\n#XTIT: cancel dialog title\nTitDialogCancel=Cancel\n\n#XTIT: cancel dialog title\nTitDialogClose=Close\n\n#XTIT: delete dialog title\nTitDialogDelete=Delete\n\n#XTIT: cancel dialog title\nTxtDialogCancel=Are you sure you want to cancel ?\n\n#XTIT: answers table title\ntableAnswerTitle=Possible Answers\n\n#XTIT: Title of Error dialog\nerrorHeader=Error\n\n#XTOL: Button up tooltip\nUpTooltip=Up\n\n#XTOL: Button down tooltip\nDownTooltip=Down\n\n#XTOL: Button add form tooltip\nAddFormTooltip=Add a new survey\n\n#XTOL: Button delete form tooltip\nDeleteFormTooltip=Delete selected survey\n\n#XTOL: Tooltip for the search field\nworklistSearchTooltip=Enter a Form name or a part of it.\n\n#XCOL: reorder column\ntableReorderColumnTitle=Reorder\n\n#XBUT: Button 'no' text\nBtnNo=No\n\n#XBUT: Button 'yes' text\nBtnYes=Yes\n\n#XBUT: Button 'close' text\nBtnClose=Close\n\n#XBUT: Button 'save' text\nBtnSave=Save\n\n#XBUT: Button 'ok' text\nBtnOk=Ok\n\n#XBUT: Button 'cancel' text\nBtnCancel=Cancel\n\n#XBUT: Button 'edit' text\nBtnEdit=Edit\n\n#XMSG: save click message\nsaveBtnMsg=Are you sure about saving the changes?\n\n#XMSG: close in edit mode\ncloseViewInEditMode=All changes will gone. Are you sure?\n\n#XMSG: saved message\nMsgToastSaved=Saved \n\n#XFLD: icon label\nIcon=Icon\n\n#XFLD: question type form label\nQuestionType=Question type\n\n#XFLD: question form label\nQuestion=Question\n\n#XFLD: mandatory form label\nMandatory=Mandatory\n\n#XFLD: label used in the tiles\nQuestions=Questions\n\n#XFLD: add label text\nAddLabel=Add\n\n#XFLD: delete label text\nDeleteLabel=Delete\n\n#XFLD: edit label text\nEditLabel=Edit\n\n#XMSG: canceled message\nMsgToastCanceled=Canceled \n\n#XMSG: succcess create message\nMsgToastSuccess=Item was successfully created\n\n#XMSG: error message\nMsgToastError=Something went wrong\n\n#XMSG: sucess update message\nMsgToastUpdate=Updated successfully\n\n#XMSG: error while update message\nMsgToastUpdateError=Updating went wrong\n\n#XMSG: action canceled message\nMsgToastActionCanceled=Action Canceled\n\n#XMSG: items deleted message\nMsgToastIemsDeleted=Items deleted\n\n#XMSG: option validation failure\nMsgToastOptionsEmpty=Please set aswer for each option\n\n#XMSG: validation error title\natleastTwoPossibleAnswersError=Error: Please create at least 2 possible answers for the selected question type!\n\n#XMSG: error message, user has no rights to visit app\nMsgErrorNotAllowVisitApp=You are not allowed to visit this application\n\n#XFLD: valid from label\nValidFrom=Valid from\n\n#XFLD: valid to label\nValidTo=Valid to\n\n#XFLD: Label for Question's Name property\nName=Title\n\n#XFLD: date picker placeholder\nstartDatePlaceHolder=Enter start date and time ...\n\n#XFLD: date input placeholder\nendDatePlaceHolder=Enter end date and time ...\n\n#YTXT: failed start date validation text\nstartDateValidation=The start date time can be from today 12:00 AM or later and it must be less than the end date time.\n\n#YTXT: failed end date validation text\nendDateValidation=The end date must be greater than start date.\n\n#YTXT: want to change to other view in edit mode\nMsgEditStateOn=You are just by editing the data. Please save or cancel the changes first.\n\n#XFLD: Label for public state of form\nstatePublic=public\n\n#XFLD: Label for private state of form\nstatePrivate=private\n\n#~~~ Master View ~~~~~~~~~~~~~~~~~~~~~~~~~~\n\n#XTIT: Master view title with placeholder for the number of items\nmasterTitle=Surveys\n\n#XTIT: Icon selection dialog title\niconSelectionTitle=Select icon\n\n#XTIT: create survey dialog title\nCreateNewSurveyTitle=Create a new survey\n\n#XTIT: edit survey dialog title\nEditSurveyTitle=Edit survey\n\n#XTOL: Tooltip for the search field\nmasterSearchTooltip=Enter an Form name or a part of it.\n\n#XTOL: message strip surveys count\nTxtNumberResources={0} surveys are available to manage\n\n#XBLI: text for a list with no data\nmasterListNoDataText=No Survey is currently available\n\n#XBLI: text for a create hint\nmasterListCreateHint=Create some new surveys!\n\n#XBLI: text for a list with no data with filter or search\nmasterListNoDataWithFilterOrSearchText=No matching Survey found\n\n#XSEL: Option to sort the master list by Name\nmasterSort1=Sort By <Name>\n\n#YMSG: no icons text\nnoIconsText=No icons found\n\n#XTIT: delete form title\nmasterTitDeleteForm=Delete form\n\n#XMSG: sure to delete\nmasterSureDeleteForm=Are you sure you want to delete \"{0}\" form?\n\n#XMSG: succcess create message\nMsgSuccessDelete=Item was successfully deleted\n\n#~~~ Detail View ~~~~~~~~~~~~~~~~~~~~~~~~~~\n\n#XTIT: detail view title\ndetailViewTitle=Question\n\n#XTIT: when the object is updated  \nsuccessUpdateMessage=The item has been updated successfully. \n\n#XTIT: when the object is not created  \nerrorCreationMessage=The item failed to create. \n\n#XTIT: when the object is not update  \nerrorUpdateMessage=The item failed to update. \n\n#XBLI: text for selecting items for delete \natLeastSellectOneItemToAction=Please select at least one item to perform the operation.\n\n#XTIT: title of the table\ntableTitle=Questions \n\n#XTOL: Tooltip text for close column button\ncloseColumn=Close\n\n#XTOL: mandatory message info\nisMandatoryQuestion=This question is mandatory for interviewees. \n\n#XTOL: mandatory message info\nisNotMandatoryQuestion=This question is optional for interviewees. \n\n#XCOL: ID cloumnn\ntableIdColumnTitle=Id\n\n#XCOL: type column\ntableQuestionTypeColumnTitle=Type\n\n#XCOL: question column\ntableQuestionColumnTitle=Question\n\n#XCOL: 'mandatory' column\ntableMandatoryColumnTitle=Mandatory\n\n#~~~ Object Detail View ~~~~~~~~~~~~~~~~~~~\n\n#XTIT: Object detail view title in creation mode\ncreateViewTitle=Create question\n\n#XCOL: answer column\ntableAnswerColumnTitle=Answer\n\n#XCOL: default answer column\ntableDefaultAnswerColumnTitle=Default answer\n\n#XCOL: radom weight column\ntableRandomWeightColumnTitle=Random weight\n\n#XTIT: Title of regex dialog \nregexDialogTitle=List of predefined Regular Expressions\n\n#XTIT: When no regular expression exist \nnoRegexExist=No regular expression exist \n\n#XTIT: Title of regex\nRegex=Regular expression\n\n#~~~ Not Found View ~~~~~~~~~~~~~~~~~~~~~~~\n\n#XTIT: Not found view title\nnotFoundTitle=Not Found\n\n#YMSG: The FormSet not found text is displayed when there is no FormSet with this id\nnoObjectFoundText=This Form is not available\n\n#YMSG: The not found text is displayed when there was an error loading the resource (404 error)\nnotFoundText=The requested resource was not found\n\n#~~~ Not Allowed View ~~~~~~~~~~~~~~~~~~~~~~~\n\n#XTIT: Not found view title\nnotAdminTitle=Not admin\n\n#YMSG: The FormSet not found text is displayed when there is no FormSet with this id\nnoAdminText=You are not allowed to visit this application\n\n#YMSG: The not found text is displayed when there was an error loading the resource (404 error)\nbackToMain=Back to main view\n\n#~~~ Not Available View ~~~~~~~~~~~~~~~~~~~~~~~\n\n#XTIT: Master view title\nnotAvailableViewTitle=Form\n\n#~~~ Error Handling ~~~~~~~~~~~~~~~~~~~~~~~\n\n#XTIT: Header for error message box \nerror400TypeResponse=Bad request\n\n#XTIT: Header for error message box \nerrorResponse=Connection problems with the server\n\n#YMSG: Error dialog description\nerrorText=Sorry, a technical error occurred! Please try again later.","com/mjzsoft/QuestionnaireBuilder/i18n/i18n_de.properties":"# This is the resource bundle for Questionnaire Builder\n\n#XTIT: Application name\nappTitle=Fragenbogen-Builder\n\n#YDES: Application description\nappDescription= \"\"\n\n#XTIT: second page title\ndetailTitle=Umfrage\n\n#XTIT: save dialog title\nsaveMsg=Speichern\n\n#XTIT: cancel dialog title\nTitDialogCancel=Abbrechen\n\n#XTIT: cancel dialog title\nTitDialogClose=Schlie\\u00dfen\n\n#XTIT: delete dialog title\nTitDialogDelete=L\\u00f6schen\n\n#XTIT: cancel dialog title\nTxtDialogCancel=Wollen Sie wirklich abbrechen?\n\n#XTIT: answers table title\ntableAnswerTitle=M\\u00f6gliche Antworten\n\n#XTIT: Title of Error dialog\nerrorHeader=Fehler\n\n#XTOL: Button up tooltip\nUpTooltip=Nach oben\n\n#XTOL: Button down tooltip\nDownTooltip=Nach unten\n\n#XTOL: Button add form tooltip\nAddFormTooltip=Hinzuf\\u00fcgen zu Umfrage\n\n#XTOL: Button delete form tooltip\nDeleteFormTooltip=Ausgew\\u00e4hlte Umfrage l\\u00f6schen\n\n#XTOL: Tooltip for the search field\nworklistSearchTooltip=F\\u00fcgen Sie den Namen oder ein Teil der Umfrage\n\n#XCOL: reorder column\ntableReorderColumnTitle=Umsortieren\n\n#XBUT: Button 'no' text\nBtnNo=Nein\n\n#XBUT: Button 'yes' text\nBtnYes=Ja\n\n#XBUT: Button 'close' text\nBtnClose=Schlie\\u00dfen\n\n#XBUT: Button 'save' text\nBtnSave=Speichern\n\n#XBUT: Button 'ok' text\nBtnOk=Ok\n\n#XBUT: Button 'cancel' text\nBtnCancel=Abbrechen\n\n#XBUT: Button 'edit' text\nBtnEdit=Editieren\n\n#XMSG: save click message\nsaveBtnMsg=Wollen Sie die \\u00c4nderungen wirklich speichern?\n\n#XMSG: close in edit mode\ncloseViewInEditMode=Alle \\u00c4nderungen gehen verloren. Sind Sie sicher?\n\n#XMSG: saved message\nMsgToastSaved=Gespeichert\n\n#XFLD: icon label\nIcon=Icon\n\n#XFLD: question type form label\nQuestionType=Typ der Frage\n\n#XFLD: question form label\nQuestion=Frage\n\n#XFLD: mandatory form label\nMandatory=Pflicht\n\n#XFLD: label used in the tiles\nQuestions=Fragen\n\n#XFLD: add label text\nAddLabel=Hinzuf\\u00fcgen\n\n#XFLD: delete label text\nDeleteLabel=L\\u00f6schen\n\n#XFLD: edit label text\nEditLabel=Editieren\n\n#XMSG: canceled message\nMsgToastCanceled=Abgebrochen\n\n#XMSG: succcess create message\nMsgToastSuccess=Erfolgreich erstellt\n\n#XMSG: error message\nMsgToastError=Etwas ging schief\n\n#XMSG: sucess update message\nMsgToastUpdate=Erfolgreich aktualisiert\n\n#XMSG: error while update message\nMsgToastUpdateError=Etwas ging schief\n\n#XMSG: action canceled message\nMsgToastActionCanceled=Abgebrochen\n\n#XMSG: items deleted message\nMsgToastIemsDeleted=Elemente gel\\u00f6scht\n\n#XMSG: option validation failure\nMsgToastOptionsEmpty=Setzen Sie bitte eine Antwort f\\u00fcr jede Option\n\n#XMSG: validation error title\natleastTwoPossibleAnswersError=Fehler: Bitte erstellen Sie mindestens 2 m\\u00f6gliche Antworten f\\u00fcr den ausgew\\u00e4hlten Fragentyp!\n\n#XMSG: error message, user has no rights to visit app\nMsgErrorNotAllowVisitApp=Sie haben keine Rechte um dieses App zu sehen\n\n#XFLD: valid from label\nValidFrom=G\\u00fcltig von\n\n#XFLD: valid to label\nValidTo=G\\u00fcltig bis\n\n#XFLD: Label for Question's Name property\nName=Titel\n\n#XFLD: date picker placeholder\nstartDatePlaceHolder=Geben Sie Startdatum und -zeit ...\n\n#XFLD: date input placeholder\nendDatePlaceHolder=geben Sie enddatum und -zeit ...\n\n#YTXT: failed start date validation text\nstartDateValidation=Das Startdatum kann heute beginnen und soll kleiner sein als Enddatum.\n\n#YTXT: failed end date validation text\nendDateValidation=Das Enddatum muss gr\\u00f6\\u00dfer sein als Startdatum.\n\n#YTXT: want to change to other view in edit mode\nMsgEditStateOn=Sie sind gerade beim \\u00c4ndern von Daten. Bitte speichern Sie die \\u00e4nderungen oder brechen die Bearbeitung ab.\n\n#XFLD: Label for public state of form\nstatePublic=\\u00f6ffentlich\n\n#XFLD: Label for private state of form\nstatePrivate=privat\n\n#~~~ Master View ~~~~~~~~~~~~~~~~~~~~~~~~~~\n\n#XTIT: Master view title with placeholder for the number of items\nmasterTitle=Umfragen\n\n#XTIT: Icon selection dialog title\niconSelectionTitle=Icon ausw\\u00e4hlen\n\n#XTIT: create survey dialog title\nCreateNewSurveyTitle=Eine neue Umfrage ersellen\n\n#XTIT: edit survey dialog title\nEditSurveyTitle=Umfrage editieren\n\n#XTOL: Tooltip for the search field\nmasterSearchTooltip=Geben Sie den Namen der Umfrage oder dessen Teil.\n\n#XTOL: message strip surveys count\nTxtNumberResources={0} Umfragen sind verf\\u00fcgbar zur Verwaltung\n\n#XBLI: text for a list with no data\nmasterListNoDataText=Keine Umfragen derzeit verf\\u00fcgbar\n\n#XBLI: text for a create hint\nmasterListCreateHint=Erstellen Sie neue Umfragen!\n\n#XBLI: text for a list with no data with filter or search\nmasterListNoDataWithFilterOrSearchText=Keine passenden Umfragen gefunden\n\n#XSEL: Option to sort the master list by Name\nmasterSort1=Sortieren bei <Name>\n\n#YMSG: no icons text\nnoIconsText=Keine Icons gefunden\n\n#XTIT: delete form title\nmasterTitDeleteForm=Umfrage l\\u00f6schen\n\n#XMSG: sure to delete\nmasterSureDeleteForm=Wollen Sie wirklich die \"{0}\" Umfrage l\\u00f6schen?\n\n#XMSG: succcess create message\nMsgSuccessDelete=Element wurde erfolgreich gel\\u00f6scht\n\n#~~~ Detail View ~~~~~~~~~~~~~~~~~~~~~~~~~~\n\n#XTIT: detail view title\ndetailViewTitle=Frage\n\n#XTIT: when the object is updated  \nsuccessUpdateMessage=Element wurde erfolgreich aktualisiert.\n\n#XTIT: when the object is not created  \nerrorCreationMessage=Element konnte nicht erstellt werden.\n\n#XTIT: when the object is not update  \nerrorUpdateMessage=Element konnte nicht aktualisiert werden\n\n#XBLI: text for selecting items for delete \natLeastSellectOneItemToAction=Bitte w\\u00e4hlen Sie mindestens ein Element um den Vorgang die auszuf\\u00fchren\n\n#XTIT: title of the table\ntableTitle=Fragen\n\n#XTOL: Tooltip text for close column button\ncloseColumn=Schlie\\u00dfen\n\n#XTOL: mandatory message info\nisMandatoryQuestion=Diese Frage ist pflicht f\\u00fcr die Umfragen.\n\n#XTOL: mandatory message info\nisNotMandatoryQuestion=Diese Frage ist optional f\\u00fcr die Umfragen.\n\n#XCOL: ID cloumnn\ntableIdColumnTitle=Id\n\n#XCOL: type column\ntableQuestionTypeColumnTitle=Typ\n\n#XCOL: question column\ntableQuestionColumnTitle=Frage\n\n#XCOL: 'mandatory' column\ntableMandatoryColumnTitle=Pflicht\n\n#~~~ Object Detail View ~~~~~~~~~~~~~~~~~~~\n\n#XTIT: Object detail view title in creation mode\ncreateViewTitle=Frage erstellen\n\n#XCOL: answer column\ntableAnswerColumnTitle=Antwort\n\n#XCOL: default answer column\ntableDefaultAnswerColumnTitle=Standartantwort\n\n#XCOL: radom weight column\ntableRandomWeightColumnTitle=Zuf\\u00e4lliges Gewicht\n\n#XTIT: Title of regex dialog \nregexDialogTitle=Liste der vordefinierten regul\\u00e4ren Ausdr\\u00fccke\n\n#XTIT: When no regular expression exist \nnoRegexExist=Es gibt keinen regul\\u00e4ren Ausdruck \n\n#XTIT: Title of regex\nRegex=Regul\\u00e4ren Ausdruck\n\n#~~~ Not Found View ~~~~~~~~~~~~~~~~~~~~~~~\n\n#XTIT: Not found view title\nnotFoundTitle=Nicht gefunden\n\n#YMSG: The FormSet not found text is displayed when there is no FormSet with this id\nnoObjectFoundText=Diese Umfrage ist nicht verf\\u00fcgbar\n\n#YMSG: The not found text is displayed when there was an error loading the resource (404 error)\nnotFoundText=Die angeforderte Ressource wurde nicht gefunden\n\n#~~~ Not Allowed View ~~~~~~~~~~~~~~~~~~~~~~~\n\n#XTIT: Not found view title\nnotAdminTitle=Kein Admin\n\n#YMSG: The FormSet not found text is displayed when there is no FormSet with this id\nnoAdminText=Sie sind nicht berechtigt diese Seite zu besuchen\n\n#YMSG: The not found text is displayed when there was an error loading the resource (404 error)\nbackToMain=Zur\\u00fcck zur Hauptseite\n\n#~~~ Not Available View ~~~~~~~~~~~~~~~~~~~~~~~\n\n#XTIT: Master view title\nnotAvailableViewTitle=Umfrage\n\n#~~~ Error Handling ~~~~~~~~~~~~~~~~~~~~~~~\n\n#XTIT: Header for error message box \nerror400TypeResponse=Ung\\u00fcltige Anforderung\n\n#XTIT: Header for error message box \nerrorResponse=Verbindungsprobleme mit dem Server\n\n#YMSG: Error dialog description\nerrorText=Entschuldigung, ein technischer Fehler ist aufgeteten. Bitte versuchen Sie sp\\u00e4ter erneut.","com/mjzsoft/QuestionnaireBuilder/i18n/i18n_en.properties":"# This is the resource bundle for Questionnaire Builder\n\n#XTIT: Application name\nappTitle=Questionnaire builder\n\n#YDES: Application description\nappDescription= \"\"\n\n#XTIT: second page title\ndetailTitle=Survey questions\n\n#XTIT: save dialog title\nsaveMsg=Save\n\n#XTIT: cancel dialog title\nTitDialogCancel=Cancel\n\n#XTIT: cancel dialog title\nTitDialogClose=Close\n\n#XTIT: delete dialog title\nTitDialogDelete=Delete\n\n#XTIT: cancel dialog title\nTxtDialogCancel=Are you sure you want to cancel ?\n\n#XTIT: answers table title\ntableAnswerTitle=Possible Answers\n\n#XTIT: Title of Error dialog\nerrorHeader=Error\n\n#XTOL: Button up tooltip\nUpTooltip=Up\n\n#XTOL: Button down tooltip\nDownTooltip=Down\n\n#XTOL: Button add form tooltip\nAddFormTooltip=Add a new survey\n\n#XTOL: Button delete form tooltip\nDeleteFormTooltip=Delete selected survey\n\n#XTOL: Tooltip for the search field\nworklistSearchTooltip=Enter a Form name or a part of it.\n\n#XCOL: reorder column\ntableReorderColumnTitle=Reorder\n\n#XBUT: Button 'no' text\nBtnNo=No\n\n#XBUT: Button 'yes' text\nBtnYes=Yes\n\n#XBUT: Button 'close' text\nBtnClose=Close\n\n#XBUT: Button 'save' text\nBtnSave=Save\n\n#XBUT: Button 'ok' text\nBtnOk=Ok\n\n#XBUT: Button 'cancel' text\nBtnCancel=Cancel\n\n#XBUT: Button 'edit' text\nBtnEdit=Edit\n\n#XMSG: save click message\nsaveBtnMsg=Are you sure about saving the changes?\n\n#XMSG: close in edit mode\ncloseViewInEditMode=All changes will gone. Are you sure?\n\n#XMSG: saved message\nMsgToastSaved=Saved \n\n#XFLD: icon label\nIcon=Icon\n\n#XFLD: question type form label\nQuestionType=Question type\n\n#XFLD: question form label\nQuestion=Question\n\n#XFLD: mandatory form label\nMandatory=Mandatory\n\n#XFLD: label used in the tiles\nQuestions=Questions\n\n#XFLD: add label text\nAddLabel=Add\n\n#XFLD: delete label text\nDeleteLabel=Delete\n\n#XFLD: edit label text\nEditLabel=Edit\n\n#XMSG: canceled message\nMsgToastCanceled=Canceled \n\n#XMSG: succcess create message\nMsgToastSuccess=Item was successfully created\n\n#XMSG: error message\nMsgToastError=Something went wrong\n\n#XMSG: sucess update message\nMsgToastUpdate=Updated successfully\n\n#XMSG: error while update message\nMsgToastUpdateError=Updating went wrong\n\n#XMSG: action canceled message\nMsgToastActionCanceled=Action Canceled\n\n#XMSG: items deleted message\nMsgToastIemsDeleted=Items deleted\n\n#XMSG: option validation failure\nMsgToastOptionsEmpty=Please set aswer for each option\n\n#XMSG: validation error title\natleastTwoPossibleAnswersError=Error: Please create at least 2 possible answers for the selected question type!\n\n#XMSG: error message, user has no rights to visit app\nMsgErrorNotAllowVisitApp=You are not allowed to visit this application\n\n#XFLD: valid from label\nValidFrom=Valid from\n\n#XFLD: valid to label\nValidTo=Valid to\n\n#XFLD: Label for Question's Name property\nName=Title\n\n#XFLD: date picker placeholder\nstartDatePlaceHolder=Enter start date and time ...\n\n#XFLD: date input placeholder\nendDatePlaceHolder=Enter end date and time ...\n\n#YTXT: failed start date validation text\nstartDateValidation=The start date time can be from today 12:00 AM or later and it must be less than the end date time.\n\n#YTXT: failed end date validation text\nendDateValidation=The end date must be greater than start date.\n\n#YTXT: want to change to other view in edit mode\nMsgEditStateOn=You are just by editing the data. Please save or cancel the changes first.\n\n#XFLD: Label for public state of form\nstatePublic=public\n\n#XFLD: Label for private state of form\nstatePrivate=private\n\n#~~~ Master View ~~~~~~~~~~~~~~~~~~~~~~~~~~\n\n#XTIT: Master view title with placeholder for the number of items\nmasterTitle=Surveys\n\n#XTIT: Icon selection dialog title\niconSelectionTitle=Select icon\n\n#XTIT: create survey dialog title\nCreateNewSurveyTitle=Create a new survey\n\n#XTIT: edit survey dialog title\nEditSurveyTitle=Edit survey\n\n#XTOL: Tooltip for the search field\nmasterSearchTooltip=Enter an Form name or a part of it.\n\n#XTOL: message strip surveys count\nTxtNumberResources={0} surveys are available to manage\n\n#XBLI: text for a list with no data\nmasterListNoDataText=No Survey is currently available\n\n#XBLI: text for a create hint\nmasterListCreateHint=Create some new surveys!\n\n#XBLI: text for a list with no data with filter or search\nmasterListNoDataWithFilterOrSearchText=No matching Survey found\n\n#XSEL: Option to sort the master list by Name\nmasterSort1=Sort By <Name>\n\n#YMSG: no icons text\nnoIconsText=No icons found\n\n#XTIT: delete form title\nmasterTitDeleteForm=Delete form\n\n#XMSG: sure to delete\nmasterSureDeleteForm=Are you sure you want to delete \"{0}\" form?\n\n#XMSG: succcess create message\nMsgSuccessDelete=Item was successfully deleted\n\n#~~~ Detail View ~~~~~~~~~~~~~~~~~~~~~~~~~~\n\n#XTIT: detail view title\ndetailViewTitle=Question\n\n#XTIT: when the object is updated  \nsuccessUpdateMessage=The item has been updated successfully. \n\n#XTIT: when the object is not created  \nerrorCreationMessage=The item failed to create. \n\n#XTIT: when the object is not update  \nerrorUpdateMessage=The item failed to update. \n\n#XBLI: text for selecting items for delete \natLeastSellectOneItemToAction=Please select at least one item to perform the operation.\n\n#XTIT: title of the table\ntableTitle=Questions \n\n#XTOL: Tooltip text for close column button\ncloseColumn=Close\n\n#XTOL: mandatory message info\nisMandatoryQuestion=This question is mandatory for interviewees. \n\n#XTOL: mandatory message info\nisNotMandatoryQuestion=This question is optional for interviewees. \n\n#XCOL: ID cloumnn\ntableIdColumnTitle=Id\n\n#XCOL: type column\ntableQuestionTypeColumnTitle=Type\n\n#XCOL: question column\ntableQuestionColumnTitle=Question\n\n#XCOL: 'mandatory' column\ntableMandatoryColumnTitle=Mandatory\n\n#~~~ Object Detail View ~~~~~~~~~~~~~~~~~~~\n\n#XTIT: Object detail view title in creation mode\ncreateViewTitle=Create question\n\n#XCOL: answer column\ntableAnswerColumnTitle=Answer\n\n#XCOL: default answer column\ntableDefaultAnswerColumnTitle=Default answer\n\n#XCOL: radom weight column\ntableRandomWeightColumnTitle=Random weight\n\n#XTIT: Title of regex dialog \nregexDialogTitle=List of predefined Regular Expressions\n\n#XTIT: When no regular expression exist \nnoRegexExist=No regular expression exist \n\n#XTIT: Title of regex\nRegex=Regular expression\n\n#~~~ Not Found View ~~~~~~~~~~~~~~~~~~~~~~~\n\n#XTIT: Not found view title\nnotFoundTitle=Not Found\n\n#YMSG: The FormSet not found text is displayed when there is no FormSet with this id\nnoObjectFoundText=This Form is not available\n\n#YMSG: The not found text is displayed when there was an error loading the resource (404 error)\nnotFoundText=The requested resource was not found\n\n#~~~ Not Allowed View ~~~~~~~~~~~~~~~~~~~~~~~\n\n#XTIT: Not found view title\nnotAdminTitle=Not admin\n\n#YMSG: The FormSet not found text is displayed when there is no FormSet with this id\nnoAdminText=You are not allowed to visit this application\n\n#YMSG: The not found text is displayed when there was an error loading the resource (404 error)\nbackToMain=Back to main view\n\n#~~~ Not Available View ~~~~~~~~~~~~~~~~~~~~~~~\n\n#XTIT: Master view title\nnotAvailableViewTitle=Form\n\n#~~~ Error Handling ~~~~~~~~~~~~~~~~~~~~~~~\n\n#XTIT: Header for error message box \nerror400TypeResponse=Bad request\n\n#XTIT: Header for error message box \nerrorResponse=Connection problems with the server\n\n#YMSG: Error dialog description\nerrorText=Sorry, a technical error occurred! Please try again later.","com/mjzsoft/QuestionnaireBuilder/js/Validator.js":function(){sap.ui.define(["sap/ui/core/message/Message","sap/ui/core/MessageType"],function(e,t){"use strict";var n=function(){this._isValid=true;this._isValidationPerformed=false;this._aMessages=[];this._oMessageProcessor=new sap.ui.core.message.ControlMessageProcessor;this._oMessageManager=sap.ui.getCore().getMessageManager()};n.prototype.isValid=function(){return this._isValidationPerformed&&this._isValid};n.prototype.validate=function(e){this._isValid=true;this._validate(e);return this.isValid()};n.prototype._validate=function(n){this._removeMessagesOf(n);var i=["items","content","form","formContainers","formElements","fields","cells"],o=null,s=null,r=["value","selectedKey","text","dateValue"],a=false,l,d,u,c;if(n instanceof sap.ui.core.Control||n instanceof sap.ui.layout.form.FormContainer||n instanceof sap.ui.layout.form.FormElement){if(n.getVisible()){for(u=0;u<r.length;u+=1){if(n.getBinding(r[u])){if(n.getBinding(r[u]).getType()){try{s=n.getBinding(r[u]);l=n.getProperty(r[u]);d=s.getType().parseValue(l,s.sInternalType);n.getBinding(r[u]).getType().validateValue(d)}catch(i){this._isValid=false;var g=typeof n.getValueStateText==="function"?n.getValueStateText():undefined,h=new e({message:typeof g==="string"&&g.trim().length>0?g:i.message,type:t.Error,target:"/"+n.getId()+"/"+r[u],processor:this._oMessageProcessor});this._aMessages[n.getId()]=h;this._oMessageManager.addMessages(h)}a=true}else if(n instanceof sap.m.InputBase&&n.getRequired()){l=n.getProperty(r[u]);if(!l||typeof l==="string"&&l.trim().length===0){this._isValid=false;s=n.getBinding(r[u]);g=typeof n.getValueStateText==="function"?n.getValueStateText():null;h=new e({message:g,type:t.Error,target:"/"+n.getId()+"/"+r[u],processor:this._oMessageProcessor});this._aMessages[n.getId()]=h;this._oMessageManager.addMessages(h)}a=true}}}if(!a){for(u=0;u<i.length;u+=1){o=n.getAggregation(i[u]);if(o){if(o instanceof Array){for(c=0;c<o.length;c+=1){this._validate(o[c])}}else{this._validate(o)}}}}}}this._isValidationPerformed=true};n.prototype._removeMessagesOf=function(e){if(this._aMessages[e.getId()]){sap.ui.getCore().getMessageManager().removeMessages([this._aMessages[e.getId()]]);if(typeof e.setValueState==="function"){e.setValueState(sap.ui.core.ValueState.None)}delete this._aMessages[e.getId()]}};n.prototype.removeAllMessages=function(){sap.ui.getCore().getMessageManager().removeAllMessages();for(var e in this._aMessages){if(e&&this._aMessages[e]){sap.ui.getCore().getMessageManager().removeMessages(this._aMessages[e]);var t=sap.ui.getCore().byId(e);if(t&&typeof t.setValueState==="function"){t.setValueState(sap.ui.core.ValueState.None)}}}this._aMessages=[]};return n})},"com/mjzsoft/QuestionnaireBuilder/js/XML2JSON.js":function(){sap.ui.define([],function(){"use strict";return{X2JS:function(e){
/*
			 Copyright 2011-2013 Abdulla Abdurakhmanov
			 Original sources are available at https://code.google.com/p/x2js/
			
			 Licensed under the Apache License, Version 2.0 (the "License");
			 you may not use this file except in compliance with the License.
			 You may obtain a copy of the License at
			
			 http://www.apache.org/licenses/LICENSE-2.0
			
			 Unless required by applicable law or agreed to in writing, software
			 distributed under the License is distributed on an "AS IS" BASIS,
			 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
			 See the License for the specific language governing permissions and
			 limitations under the License.
			 */
var t="1.2.0";e=e||{};n();o();function n(){if(e.escapeMode===undefined){e.escapeMode=true}e.attributePrefix=e.attributePrefix||"_";e.arrayAccessForm=e.arrayAccessForm||"none";e.emptyNodeForm=e.emptyNodeForm||"text";if(e.enableToStringFunc===undefined){e.enableToStringFunc=true}e.arrayAccessFormPaths=e.arrayAccessFormPaths||[];if(e.skipEmptyTextNodesForObj===undefined){e.skipEmptyTextNodesForObj=true}if(e.stripWhitespaces===undefined){e.stripWhitespaces=true}e.datetimeAccessFormPaths=e.datetimeAccessFormPaths||[];if(e.useDoubleQuotes===undefined){e.useDoubleQuotes=false}e.xmlElementsFilter=e.xmlElementsFilter||[];e.jsonPropertiesFilter=e.jsonPropertiesFilter||[];if(e.keepCData===undefined){e.keepCData=false}}var i={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};function o(){}function s(e){var t=e.localName;if(t==null){t=e.baseName}if(t==null||t==""){t=e.nodeName}return t}function r(e){return e.prefix}function a(e){if(typeof e=="string"){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}else{return e}}function l(e){return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'").replace(/&amp;/g,"&")}function d(e,t,n,i){var o=0;for(;o<e.length;o++){var s=e[o];if(typeof s==="string"){if(s==i){break}}else if(s instanceof RegExp){if(s.test(i)){break}}else if(typeof s==="function"){if(s(t,n,i)){break}}}return o!=e.length}function u(t,n,i){switch(e.arrayAccessForm){case"property":if(!(t[n]instanceof Array)){t[n+"_asArray"]=[t[n]]}else{t[n+"_asArray"]=t[n]}break}if(!(t[n]instanceof Array)&&e.arrayAccessFormPaths.length>0){if(d(e.arrayAccessFormPaths,t,n,i)){t[n]=[t[n]]}}}function c(e){var t=e.split(/[-T:+Z]/g);var n=new Date(t[0],t[1]-1,t[2]);var i=t[5].split(".");n.setHours(t[3],t[4],i[0]);if(i.length>1){n.setMilliseconds(i[1])}if(t[6]&&t[7]){var o=t[6]*60+Number(t[7]);var s=/\d\d-\d\d:\d\d$/.test(e)?"-":"+";o=0+(s=="-"?-1*o:o);n.setMinutes(n.getMinutes()-o-n.getTimezoneOffset())}else if(e.indexOf("Z",e.length-1)!==-1){n=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()))}return n}function g(t,n,i){if(e.datetimeAccessFormPaths.length>0){var o=i.split(".#")[0];if(d(e.datetimeAccessFormPaths,t,n,o)){return c(t)}else{return t}}else{return t}}function h(t,n,o,s){if(n==i.ELEMENT_NODE&&e.xmlElementsFilter.length>0){return d(e.xmlElementsFilter,t,o,s)}else{return true}}function p(t,n){if(t.nodeType==i.DOCUMENT_NODE){var o={};var a=t.childNodes;for(var l=0;l<a.length;l++){var d=a.item(l);if(d.nodeType==i.ELEMENT_NODE){var c=s(d);o[c]=p(d,c)}}return o}else if(t.nodeType==i.ELEMENT_NODE){var o={};o.__cnt=0;var a=t.childNodes;for(var l=0;l<a.length;l++){var d=a.item(l);var c=s(d);if(d.nodeType!=i.COMMENT_NODE){var m=n+"."+c;if(h(o,d.nodeType,c,m)){o.__cnt++;if(o[c]==null){o[c]=p(d,m);u(o,c,m)}else{if(o[c]!=null){if(!(o[c]instanceof Array)){o[c]=[o[c]];u(o,c,m)}}o[c][o[c].length]=p(d,m)}}}}for(var f=0;f<t.attributes.length;f++){var b=t.attributes.item(f);o.__cnt++;o[e.attributePrefix+b.name]=b.value}var w=r(t);if(w!=null&&w!=""){o.__cnt++;o.__prefix=w}if(o["#text"]!=null){o.__text=o["#text"];if(o.__text instanceof Array){o.__text=o.__text.join("\n")}if(e.stripWhitespaces){o.__text=o.__text.trim()}delete o["#text"];if(e.arrayAccessForm=="property"){delete o["#text_asArray"]}o.__text=g(o.__text,c,n+"."+c)}if(o["#cdata-section"]!=null){o.__cdata=o["#cdata-section"];delete o["#cdata-section"];if(e.arrayAccessForm=="property"){delete o["#cdata-section_asArray"]}}if(o.__cnt==0&&e.emptyNodeForm=="text"){o=""}else if(o.__cnt==1&&o.__text!=null){o=o.__text}else if(o.__cnt==1&&o.__cdata!=null&&!e.keepCData){o=o.__cdata}else if(o.__cnt>1&&o.__text!=null&&e.skipEmptyTextNodesForObj){if(e.stripWhitespaces&&o.__text==""||o.__text.trim()==""){delete o.__text}}delete o.__cnt;if(e.enableToStringFunc&&(o.__text!=null||o.__cdata!=null)){o.toString=function(){return(this.__text!=null?this.__text:"")+(this.__cdata!=null?this.__cdata:"")}}return o}else if(t.nodeType==i.TEXT_NODE||t.nodeType==i.CDATA_SECTION_NODE){return t.nodeValue}}function m(t,n,i,o){var s="<"+(t!=null&&t.__prefix!=null?t.__prefix+":":"")+n;if(i!=null){for(var r=0;r<i.length;r++){var l=i[r];var d=t[l];if(e.escapeMode){d=a(d)}s+=" "+l.substr(e.attributePrefix.length)+"=";if(e.useDoubleQuotes){s+='"'+d+'"'}else{s+="'"+d+"'"}}}if(o){s+="/>"}else{s+=">"}return s}function f(e,t){return"</"+(e.__prefix!=null?e.__prefix+":":"")+t+">"}function b(e,t){return e.indexOf(t,e.length-t.length)!==-1}function w(t,n){if(e.arrayAccessForm=="property"&&b(n.toString(),"_asArray")||n.toString().indexOf(e.attributePrefix)==0||n.toString().indexOf("__")==0||t[n]instanceof Function){return true}else{return false}}function T(e){var t=0;if(e instanceof Object){for(var n in e){if(w(e,n)){continue}t++}}return t}function y(t,n,i){return e.jsonPropertiesFilter.length==0||i==""||d(e.jsonPropertiesFilter,t,n,i)}function M(t){var n=[];if(t instanceof Object){for(var i in t){if(i.toString().indexOf("__")==-1&&i.toString().indexOf(e.attributePrefix)==0){n.push(i)}}}return n}function v(t){var n="";if(t.__cdata!=null){n+="<![CDATA["+t.__cdata+"]]>"}if(t.__text!=null){if(e.escapeMode){n+=a(t.__text)}else{n+=t.__text}}return n}function I(t){var n="";if(t instanceof Object){n+=v(t)}else if(t!=null){if(e.escapeMode){n+=a(t)}else{n+=t}}return n}function C(e,t){if(e===""){return t}else{return e+"."+t}}function D(e,t,n,i){var o="";if(e.length==0){o+=m(e,t,n,true)}else{for(var s=0;s<e.length;s++){o+=m(e[s],t,M(e[s]),false);o+=x(e[s],C(i,t));o+=f(e[s],t)}}return o}function x(e,t){var n="";var i=T(e);if(i>0){for(var o in e){if(w(e,o)||t!=""&&!y(e,o,C(t,o))){continue}var s=e[o];var r=M(s);if(s==null||s==undefined){n+=m(s,o,r,true)}else if(s instanceof Object){if(s instanceof Array){n+=D(s,o,r,t)}else if(s instanceof Date){n+=m(s,o,r,false);n+=s.toISOString();n+=f(s,o)}else{var a=T(s);if(a>0||s.__text!=null||s.__cdata!=null){n+=m(s,o,r,false);n+=x(s,C(t,o));n+=f(s,o)}else{n+=m(s,o,r,true)}}}else{n+=m(s,o,r,false);n+=I(s);n+=f(s,o)}}}n+=I(e);return n}this.parseXmlString=function(e){var t=window.ActiveXObject||"ActiveXObject"in window;if(e===undefined){return null}var n;if(window.DOMParser){var i=new window.DOMParser;var o=null;if(!t){try{o=i.parseFromString("INVALID","text/xml").getElementsByTagName("parsererror")[0].namespaceURI}catch(e){o=null}}try{n=i.parseFromString(e,"text/xml");if(o!=null&&n.getElementsByTagNameNS(o,"parsererror").length>0){n=null}}catch(e){n=null}}else{if(e.indexOf("<?")==0){e=e.substr(e.indexOf("?>")+2)}n=new ActiveXObject("Microsoft.XMLDOM");n.async="false";n.loadXML(e)}return n};this.asArray=function(e){if(e===undefined||e==null){return[]}else{if(e instanceof Array){return e}else{return[e]}}};this.toXmlDateTime=function(e){if(e instanceof Date){return e.toISOString()}else{if(typeof e==="number"){return new Date(e).toISOString()}else{return null}}};this.asDateTime=function(e){if(typeof e=="string"){return c(e)}else{return e}};this.xml2json=function(e){return p(e)};this.xml_str2json=function(e){var t=this.parseXmlString(e);if(t!=null){return this.xml2json(t)}else{return null}};this.json2xml_str=function(e){return x(e,"")};this.json2xml=function(e){var t=this.json2xml_str(e);return this.parseXmlString(t)};this.getVersion=function(){return t}}}})},"com/mjzsoft/QuestionnaireBuilder/js/jwtAuthApp.js":function(){sap.ui.define([],function(){"use strict";var e=null,t=[],n=jQuery.sap.storage(jQuery.sap.storage.Type.session),i=jQuery.sap.storage(jQuery.sap.storage.Type.local),o=function(t,n,o,s,r){var a=e;sap.ui.core.BusyIndicator.show(1e3);jQuery.ajax({type:t,contentType:"application/json; charset=utf-8",pathInfo:null,data:t==="POST"?JSON.stringify(o):o,url:i.get("JwtServerUrl")+n,headers:{Authorization:a},cache:false,async:false,success:function(e,t,n){sap.ui.core.BusyIndicator.hide();if(typeof s==="function"){s(e,t,n)}},error:function(e,t,n){sap.ui.core.BusyIndicator.hide();if(typeof r==="function"){r(e,t,n)}}})},s=function(e,t,n,i){o("GET",e,t,n,i)},r=function(){var e=n.get("CurrentToken");return e!==null?JSON.parse(e):null},a=function(n){var i=t[n];i.setHeaders({Authorization:e})},l=function(){for(var e in t){a(e)}},d=function(e){var n=t[e];n.setHeaders({Authorization:null})},u=function(){var t=r();if(t!==null&&t.expireAt>(new Date).getTime()){var i=t.tokenType+t.accessToken;if(i!==e){e=i}}else{n.clear();e=null}l()};u();sap.ui.getCore().getEventBus().subscribe("JWT","jwtChanged",u,this);var c={hasSession:function(t){var i=r();if(i!==null&&i.expireAt>(new Date).getTime()){e=i.tokenType+i.accessToken;if(typeof t==="function"){t(true)}return true}else{n.clear();e=null;if(typeof t==="function"){t(false)}return false}},addModel:function(e,n){t[n]=e;a(n)},removeModel:function(e){if(t[e]!==undefined){d(e);delete t[e]}},getCurrentUser:function(){var e=null;if(this.hasSession()){var t=n.get("CurrentUser");if(t===null){s(i.get("JwtUserEndpoint"),null,function(t,i,o){n.put("CurrentUser",JSON.stringify(t));e=t})}else{e=JSON.parse(t)}}return e}};return c})},"com/mjzsoft/QuestionnaireBuilder/manifest.json":'{"_version":"1.12.0","sap.app":{"id":"com.mjzsoft.QuestionnaireBuilder","type":"application","i18n":"i18n/i18n.properties","title":"{{appTitle}}","description":"{{appDescription}}","applicationVersion":{"version":"1.0.0"},"resources":"resources.json","dataSources":{"mainService":{"uri":"../../odata.svc/","type":"OData","settings":{"odataVersion":"2.0","localUri":"localService/metadata.xml"}}},"sourceTemplate":{"id":"sap.ui.ui5-template-plugin.2masterdetail","version":"1.71.6"}},"sap.ui":{"technology":"UI5","icons":{"icon":"sap-icon://detail-view","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"rootView":{"viewName":"com.mjzsoft.QuestionnaireBuilder.view.App","type":"XML","async":true,"id":"app"},"dependencies":{"minUI5Version":"1.71.0","libs":{"sap.collaboration":{},"sap.f":{},"sap.m":{},"sap.ui.core":{},"sap.ushell":{},"sap.ui.comp":{},"sap.ui.table":{},"sap.ui.unified":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"com.mjzsoft.QuestionnaireBuilder.i18n.i18n"}},"":{"dataSource":"mainService","preload":true}},"resources":{"css":[{"uri":"css/style.css"}]},"routing":{"config":{"routerClass":"sap.f.routing.Router","viewType":"XML","viewPath":"com.mjzsoft.QuestionnaireBuilder.view","controlId":"layout","controlAggregation":"beginColumnPages","bypassed":{"target":"notFound"},"async":true},"routes":[{"pattern":"","name":"master","target":"master"},{"pattern":"NotAllowed","name":"notAllowed","target":"notAllowed"},{"pattern":"FormSet/{objectId}","name":"object","target":["master","object"]},{"pattern":"FormSet/{objectId}/ObjectDetail/{Id}","name":"objectDetail","target":["master","object","objectDetail"]},{"pattern":"FormSet/{objectId}/CreateObject","name":"createObject","target":["master","object","objectDetail"]}],"targets":{"master":{"viewName":"Master","viewLevel":1,"viewId":"master"},"object":{"viewName":"Detail","viewId":"detail","viewLevel":1,"controlAggregation":"midColumnPages"},"detailObjectNotFound":{"viewName":"DetailObjectNotFound","viewId":"detailObjectNotFound","controlAggregation":"midColumnPages"},"notFound":{"viewName":"NotFound","viewId":"notFound"},"notAllowed":{"viewName":"NotAllowed","viewId":"notAllowed"},"objectDetail":{"viewType":"XML","viewName":"ObjectDetail","controlAggregation":"endColumnPages"}}}}}',"com/mjzsoft/QuestionnaireBuilder/model/JsonModelManager.js":function(){sap.ui.define(["sap/ui/base/Object","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/json/JSONModel"],function(e,t,n,i){"use strict";return e.extend("com.mjzsoft.QuestionnaireBuilder.model.JsonModelManager",{sModelName:"",sModelPath:"",constructor:function(e,t,n){this.sModelName=e;this.sModelPath=t;this._aMiddlewareChangeLog={};this._aMiddlewareChangeLog[e]={aDeletedItems:[],aUpdatedItems:[],aCreatedItems:[],fnComparator:n}},createModel:function(e){this._aOriginalData=[];var t={};var n=new i(t);t[this.sModelPath]=[];this._aOriginalData[this.sModelName]=jQuery.extend(true,[],t[this.sModelPath]);e.getView().setModel(n,this.sModelName)},getModelName:function(){return this.sModelName},_setData:function(e,t){var n={};n[this.sModelPath]=t;this._aOriginalData[this.sModelName]=jQuery.extend(true,[],n);e.getView().getModel(this.sModelName).setData(n)},updateData:function(e,t,n){if(n){this.resetChanges(e);this._setData(e,[])}else{var i=[];if(t){if(Array.isArray(t)){i=t}else{i.push(t)}}var o=e.getView().getModel();var s="/"+this.sModelPath;o.read(s,{filters:i,success:function(t,n){this.resetChanges(e);this._setData(e,t.results)}.bind(this)})}},resetChanges:function(e){e.getView().getModel(this.sModelName).setData(this._aOriginalData[this.sModelName]);this._aMiddlewareChangeLog[this.sModelName]={aDeletedItems:[],aUpdatedItems:[],aCreatedItems:[],fnComparator:this._aMiddlewareChangeLog[this.sModelName].fnComparator}},addToMiddlewareJsonModel:function(e,t){var n=e.getView().getModel(this.sModelName).getData();if(n[this.sModelPath].length>0){n[this.sModelPath]=n[this.sModelPath].concat(t)}else{n[this.sModelPath]=t}this._updateMiddlewareLog(this.sModelName,"Create",t);e.getView().getModel(this.sModelName).setData(n);e.getView().getModel(this.sModelName).refresh(true)},updateEntry:function(e){if(parseInt(e.Id,10)>0){this._updateMiddlewareLog(this.sModelName,"Update",[e])}},deleteFromJsonModel:function(e,t){var n=t.getSelectedContexts();var i=[];for(var o=0;o<n.length;o++){var s=n[o].getObject();i.push(s)}var r=jQuery.extend(true,[],this._getCurrentElemets(e));for(var a=0;a<i.length;a++){var l=i[a];for(var d=0;d<r.length;d++){var u=r[d];if(this._aMiddlewareChangeLog[this.sModelName].fnComparator(l,u)===true){r.splice(d,1);this._updateMiddlewareLog(this.sModelName,"Delete",[l]);break}}}t.removeSelections();var c={};c[this.sModelPath]=r;e.getView().getModel(this.sModelName).setData(c);e.getView().getModel(this.sModelName).refresh(true)},deleteItemsFromModel:function(e,t){var n=jQuery.extend(true,[],this._getCurrentElemets(e));for(var i=0;i<t.length;i++){var o=t[i];for(var s=0;s<n.length;s++){var r=n[s];if(this._aMiddlewareChangeLog[this.sModelName].fnComparator(o,r)===true){n.splice(s,1);this._updateMiddlewareLog(this.sModelName,"Delete",[o]);break}}}var a={};a[this.sModelPath]=n;e.getView().getModel(this.sModelName).setData(a);e.getView().getModel(this.sModelName).refresh(true)},_updateMiddlewareLog:function(e,t,n){var i=this._aMiddlewareChangeLog[e].aDeletedItems,o=this._aMiddlewareChangeLog[e].aUpdatedItems,s=this._aMiddlewareChangeLog[e].aCreatedItems,r=this._aMiddlewareChangeLog[e].fnComparator;for(var a=0;a<n.length;a++){var l=this._removeObjFromArray(n[a],s,r),d=this._removeObjFromArray(n[a],o,r),u=this._removeObjFromArray(n[a],i,r);if(t==="Delete"){if(l){continue}else{i.push(n[a])}}else if(t==="Update"){if(l){s.push(n[a])}else{o.push(n[a])}}else if(t==="Create"){if(d||u){o.push(n[a])}else{s.push(n[a])}}}},_removeObjFromArray:function(e,t,n){for(var i=0;i<t.length;i++){if(typeof n==="function"){if(n(e,t[i])===true){t.splice(i,1);return true}}}return false},_getCurrentElemets:function(e){var t=e.getView().getModel(this.sModelName).getData();return t[this.sModelPath]},getDeletedItems:function(){return this._aMiddlewareChangeLog[this.sModelName].aDeletedItems},getUpdatedItems:function(){return this._aMiddlewareChangeLog[this.sModelName].aUpdatedItems},getCreatedItems:function(){return this._aMiddlewareChangeLog[this.sModelName].aCreatedItems}})})},"com/mjzsoft/QuestionnaireBuilder/model/formatter.js":function(){sap.ui.define([],function(){"use strict";return{currencyValue:function(e){if(!e){return""}return parseFloat(e).toFixed(2)},tableModeDetailView:function(e){if(e==="1"||e===1||e==="true"||e===true){return"MultiSelect"}else{return"SingleSelectMaster"}},tableColumnType:function(e){if(e==="1"||e===1||e==="true"||e===true){return"Inactive"}else{return"Navigation"}},tableModeObjectDetailView:function(e){if(e==="1"||e===1||e==="true"||e===true){return"MultiSelect"}else{return"SingleSelectMaster"}},getQuestionIcon:function(e){switch(e){case"QT1":return"sap-icon://favorite";case"QT2":return"sap-icon://complete";case"QT3":return"sap-icon://menu";case"QT4":return"sap-icon://multi-select";case"QT5":return"sap-icon://question-mark";case"QT6":return"sap-icon://request";case"QT7":return"sap-icon://drop-down-list";default:return null}},getMandatoryIcon:function(e){if(e==="1"||e===1||e==="true"||e===true){return"sap-icon://overlay"}else{return"sap-icon://circle-task"}},getMandatoryTooltip:function(e){var t=this.getView().getModel("i18n").getResourceBundle();if(e==="1"||e===1||e==="true"||e===true){return t.getText("isMandatoryQuestion")}else{return t.getText("isNotMandatoryQuestion")}},getMandatoryIconColor:function(e){if(e==="1"||e===1||e==="true"||e===true){return"Negative"}else{return"Default"}},checkStartDate:function(e,t,n){var i=new Date;i.setHours(0,0,0,0);if(n===true&&(e>t||e<i)){return"Error"}else{return"None"}},checkEndDate:function(e,t,n){if(n===true&&e>t){return"Error"}else{return"None"}},booleanValue:function(e){if(e==="1"||e===1||e==="true"||e===true){return true}else{return false}},notEmptyValidation:function(e){if(e&&e.length>0){return"None"}else{return"Error"}},isMandatoryVisible:function(e){return e!=="QT1"&&e!=="QT2"}}},false)},"com/mjzsoft/QuestionnaireBuilder/model/individualFormatter.js":function(){sap.ui.define(["sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,t){"use strict";return{formQuestionsCounter:function(n){var i=this.getParent();var o=i.getBindingContext().getPath()+"/Questions";var s=i.getModel().bindList(o,null,null,[new e({path:"Deleted",operator:t.EQ,value1:false})]);return s.getLength()}}},true)},"com/mjzsoft/QuestionnaireBuilder/model/models.js":function(){sap.ui.define(["sap/ui/model/json/JSONModel","sap/ui/Device"],function(e,t){"use strict";return{createDeviceModel:function(){var n=new e(t);n.setDefaultBindingMode("OneWay");return n},createFLPModel:function(){var t=jQuery.sap.getObject("sap.ushell.Container.getUser"),n=t?t().isJamActive():false,i=new e({isShareInJamActive:n});i.setDefaultBindingMode("OneWay");return i}}})},"com/mjzsoft/QuestionnaireBuilder/utils/Utils.js":function(){sap.ui.define(["sap/m/Dialog","sap/m/Text","sap/m/Button","sap/ui/core/ValueState"],function(e,t,n,i){"use strict";return{showDialog:function(o,s,r,a,l,d,u,c){var g=new e({title:s,type:sap.m.DialogType.Message,state:l?i.Warning:i.Success,content:new t({text:r}),buttons:[new n({text:l?o.getResourceBundle().getText("BtnYes"):c,width:l?"45%":"30%",press:function(){g.close();if(a===undefined){return}else{a()}},type:l?sap.m.ButtonType.Accept:sap.m.ButtonType.Default}),new n({text:l?o.getResourceBundle().getText("BtnNo"):u,width:l?"45%":"30%",press:function(){g.close();if(d===undefined){return}else{d()}},type:l?sap.m.ButtonType.Reject:sap.m.ButtonType.Default})],afterClose:function(){g.destroy()}});g.open();return g}}})},"com/mjzsoft/QuestionnaireBuilder/view/App.view.xml":'<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE xml><mvc:View controllerName="com.mjzsoft.QuestionnaireBuilder.controller.App" displayBlock="true" height="100%" xmlns="sap.m" xmlns:f="sap.f"\n\txmlns:mvc="sap.ui.core.mvc"><App id="app" busy="{appView>/busy}" busyIndicatorDelay="{appView>/delay}"><f:FlexibleColumnLayout id="layout" layout="{appView>/layout}" backgroundDesign="Translucent"/></App></mvc:View>',"com/mjzsoft/QuestionnaireBuilder/view/Detail.view.xml":'<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE xml><mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:semantic="sap.f.semantic"\n\txmlns:smartTable="sap.ui.comp.smarttable" controllerName="com.mjzsoft.QuestionnaireBuilder.controller.Detail"><semantic:SemanticPage id="formPage" busy="{detailView>/busy}" busyIndicatorDelay="{detailView>/delay}" toggleHeaderOnTitleClick="false"\n\t\tclass="sapUiNoContentPadding" showFooter="true" headerPinnable="false"><semantic:titleHeading><VBox><HBox><core:Icon src="{path: \'Icon/Source\'}" size="2.5em" tooltip="{i18n>Icon}" class="sapUiSmallMarginEnd" color="Default"/><VBox alignItems="Start" alignContent="SpaceAround"><Title text="{Name}" level="H2"/><ObjectStatus text="{= (${Universal} ? ${i18n>statePublic} : ${i18n>statePrivate}) }" state="{= (${Universal} ? \'Success\' : \'Warning\') }"/></VBox></HBox><ToolbarSpacer/><HBox><Label text="{i18n>ValidFrom}:" design="Bold"/><Label text="{ path:\'ValidFrom\', type: \'sap.ui.model.type.DateTime\', formatOptions: { style: \'medium\' } }" class="sapUiTinyMarginBegin"/></HBox><HBox><Label text="{i18n>ValidTo}:" design="Bold"/><Label text="{ path:\'ValidTo\', type: \'sap.ui.model.type.DateTime\', formatOptions: { style: \'medium\' } }" class="sapUiTinyMarginBegin"/></HBox><items/></VBox></semantic:titleHeading><semantic:titleCustomIconActions><Button icon="sap-icon://edit-outside" tooltip="{i18n>EditLabel}" visible="{= ${detailView>/editMode} }" press="onEditFormBtnPress"\n\t\t\t\tclass="sapUiContentPadding"/><OverflowToolbarButton icon="{= (${detailView>/fullscreen} ? \'sap-icon://exit-full-screen\' : \'sap-icon://full-screen\' ) }"\n\t\t\t\tenabled="{= ((!${detailView>/editMode} &amp;&amp; !${appView>/editMode}) || ${detailView>/fullscreen} )}" press="toggleFullScreen"/><OverflowToolbarButton icon="sap-icon://decline" press="onCloseDetailPress"\n\t\t\t\tenabled="{= !${detailView>/editMode} &amp;&amp; !${appView>/editMode} }"/></semantic:titleCustomIconActions><semantic:content><smartTable:SmartTable id="smartTableQuestions" entitySet="QuestionSet" tableBindingPath="QuestionsJsonModel&gt;/QuestionSet"\n\t\t\t\theader="{i18n>tableTitle}" showRowCount="true" tableType="ResponsiveTable" showFullScreenButton="false" useExportToExcel="false"\n\t\t\t\tuseVariantManagement="false" enableAutoBinding="true" beforeRebindTable="onBeforeRebindTable" class="mjzsoftStickySmartTable"\n\t\t\t\tplaceToolbarInTable="true" ignoredFields="Deleted,QtypeId,FormId,Sequence"><smartTable:customToolbar><OverflowToolbar design="Transparent"><ToolbarSpacer/><SearchField tooltip="{i18n>worklistSearchTooltip}" search="onSearch" liveChange="onSearchLiveChange" width="auto"/><Button icon="sap-icon://add" type="Transparent" tooltip="{i18n>AddLabel}"\n\t\t\t\t\t\t\tenabled="{= !${detailView>/editMode} &amp;&amp; !${appView>/editMode} }" press="onCreateBtnPress"/><Button icon="sap-icon://delete" type="Transparent" tooltip="{i18n>DeleteLabel}" enabled="{= ${detailView>/editMode} }"\n\t\t\t\t\t\t\tpress="onDeleteBtnPress"/></OverflowToolbar></smartTable:customToolbar><Table id="tableQuestions" width="auto" mode="{ path: \'detailView>/editMode\', formatter:\'.formatter.tableModeDetailView\' }"\n\t\t\t\t\tbusyIndicatorDelay="0" busy="{detailView>/tableBusy}" growing="true" growingThreshold="20" growingScrollToLoad="true"\n\t\t\t\t\tnoDataText="{detailView>/table0NoDataText}" updateFinished="onUpdateFinished" selectionChange="onTableItemPress" alternateRowColors="true"\n\t\t\t\t\tsticky="ColumnHeaders,HeaderToolbar"><columns><Column visible="false"><customData><core:CustomData key="p13nData"\n\t\t\t\t\t\t\t\t\tvalue="{\'columnKey\': \'Id\', \'leadingProperty\': \'Id\', \'filterProperty\': \'Id\', \'columnIndex\':\'0\'}"/></customData><Text text="{i18n>tableIdColumnTitle}"/></Column><Column hAlign="Center"><customData><core:CustomData key="p13nData" value="{\'columnKey\': \'QuestionIcon\', \'columnIndex\':\'1\'}"/></customData><Text text="{i18n>tableQuestionTypeColumnTitle}"/></Column><Column width="50%"><customData><core:CustomData key="p13nData"\n\t\t\t\t\t\t\t\t\tvalue="{\'columnKey\': \'Question\', \'leadingProperty\': \'Question\', \'filterProperty\': \'Question\', \'columnIndex\':\'2\'}"/></customData><Text text="{i18n>tableQuestionColumnTitle}"/></Column><Column hAlign="Center"><customData><core:CustomData key="p13nData"\n\t\t\t\t\t\t\t\t\tvalue="{\'columnKey\': \'Mandatory\', \'leadingProperty\': \'Mandatory\', \'filterProperty\': \'Mandatory\', \'columnIndex\':\'3\'}"/></customData><Text text="{i18n>tableMandatoryColumnTitle}"/></Column><Column hAlign="Center"><customData><core:CustomData key="p13nData" value="{\'columnKey\': \'Reorder\', \'columnIndex\':\'4\'}"/></customData><Text text="{i18n>tableReorderColumnTitle}"/></Column><Column visible="false"><customData><core:CustomData key="p13nData"\n\t\t\t\t\t\t\t\t\tvalue="{\'columnKey\': \'RandomWeight\', \'leadingProperty\': \'RandomWeight\', \'filterProperty\': \'RandomWeight\', \'columnIndex\':\'5\', \'scale\': \'1\', \'precision\':\'2\' }"/></customData><Text text="{i18n>tableRandomWeightColumnTitle}"/></Column></columns><items><ColumnListItem type="{ path: \'detailView>/editMode\', formatter:\'.formatter.tableColumnType\' }"\n\t\t\t\t\t\t\tselected="{= (${detailView>/selectedItemId} === ${QuestionsJsonModel>Id}) }" press="onTableItemPress"><cells><Text text="{QuestionsJsonModel>Id}"/><core:Icon src="{path: \'QuestionsJsonModel>QtypeId\', formatter: \'.formatter.getQuestionIcon\'}" size="1em"\n\t\t\t\t\t\t\t\t\ttooltip="{path: \'QuestionsJsonModel>Qtype/Name\'}"/><Text text="{QuestionsJsonModel>Question}"/><core:Icon src="{path: \'QuestionsJsonModel>Mandatory\', formatter: \'.formatter.getMandatoryIcon\'}" size="1em"\n\t\t\t\t\t\t\t\t\tvisible="{ path: \'QuestionsJsonModel>QtypeId\', formatter: \'.formatter.isMandatoryVisible\' }"\n\t\t\t\t\t\t\t\t\tcolor="{path: \'QuestionsJsonModel>Mandatory\', formatter: \'.formatter.getMandatoryIconColor\'}"\n\t\t\t\t\t\t\t\t\ttooltip="{path: \'QuestionsJsonModel>Mandatory\', formatter: \'.formatter.getMandatoryTooltip\'}"/><VBox><Button icon="sap-icon://arrow-top" type="Transparent" tooltip="{i18n>UpTooltip}" enabled="{= ${detailView>/editMode} }"\n\t\t\t\t\t\t\t\t\t\tpress="tableUpBtnPress"/><Button icon="sap-icon://arrow-bottom" type="Transparent" tooltip="{i18n>DownTooltip}" enabled="{= ${detailView>/editMode} }"\n\t\t\t\t\t\t\t\t\t\tpress="tableDownBtnPress"/></VBox><Text text="{QuestionsJsonModel>RandomWeight}"/></cells></ColumnListItem></items></Table></smartTable:SmartTable></semantic:content><semantic:footerCustomActions><Button icon="sap-icon://add" type="Transparent" tooltip="{i18n>AddLabel}" visible="{= !${detailView>/editMode} }"\n\t\t\t\tenabled="{= !${detailView>/editMode} &amp;&amp; !${appView>/editMode} }" press="onCreateBtnPress"/><Button icon="sap-icon://edit" tooltip="{i18n>BtnEdit}" visible="{= !${detailView>/editMode} }" enabled="{= !${appView>/editMode} }"\n\t\t\t\tpress="onPressEdit"/><Button icon="sap-icon://save" tooltip="{i18n>BtnSave}" visible="{= ${detailView>/editMode} }" press="onPressSaveEdit"/><Button icon="sap-icon://sys-cancel" tooltip="{i18n>BtnCancel}" visible="{= ${detailView>/editMode} }" press="onPressCancel"/></semantic:footerCustomActions></semantic:SemanticPage></mvc:View>',"com/mjzsoft/QuestionnaireBuilder/view/DetailObjectNotFound.view.xml":'<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE xml><mvc:View controllerName="com.mjzsoft.QuestionnaireBuilder.controller.DetailObjectNotFound" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m"><MessagePage id="page" title="{i18n>detailTitle}" text="{i18n>noObjectFoundText}" icon="sap-icon://product" description=""/></mvc:View>',"com/mjzsoft/QuestionnaireBuilder/view/Master.view.xml":'<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE xml><mvc:View controllerName="com.mjzsoft.QuestionnaireBuilder.controller.Master" xmlns="sap.m" xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core"><Page title="{i18n>masterTitle}" enableScrolling="false" floatingFooter="true" class="sapUiNoContentPadding"><content><VBox height="100%" width="100%"><MessageStrip busy="{masterView>/busy}" type="Information" showIcon="true" customIcon="sap-icon://survey"\n\t\t\t\t\ttext="{parts:[\'masterView>/masterCounterTitle\']}" class="mjzsoftMessageInfo"/><SearchField id="searchField" tooltip="{i18n>masterSearchTooltip}" search=".onSearch" liveChange="onSearchLiveChange"\n\t\t\t\t\tclass="mjzsoftSearchNoPadding"/><ScrollContainer id="masterScrollContainer" height="100%" vertical="true" visible="{= !${masterView>/showNoDataMessage} }"\n\t\t\t\t\tclass="sapUiResponsiveContentPadding"><FlexBox id="flexboxId" busy="{masterView>/busy}" justifyContent="Center" alignItems="Center" wrap="Wrap"\n\t\t\t\t\t\tclass="sapUiTinyMarginLeft sapUiTinyMarginTop sapUiLargeMarginBottom" direction="{appView>/flexBoxDirection}"\n\t\t\t\t\t\titems="{ path: \'/FormSet\', parameters: {expand: \'Questions,Icon\'}, sorter: { path: \'Name\', descending: false }, filters: [ {path : \'Deleted\', operator : \'EQ\', value1 : false}], events: { dataReceived: \'.onFormsReceived\' } }"><GenericTile header="{path:\'Name\'}" headerImage="{Icon/Source}"\n\t\t\t\t\t\t\ttooltip="{path: \'Name\'} &#xD;{=${Questions}.length } {path: \'i18n>Questions\'}" press="onPressItem"\n\t\t\t\t\t\t\tclass="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout"><TileContent unit="{i18n>Questions}" footerColor="Critical"><content><NumericContent value="{ path:\'Questions\', formatter:\'com.mjzsoft.QuestionnaireBuilder.model.individualFormatter.formQuestionsCounter\' }"\n\t\t\t\t\t\t\t\t\t\twithMargin="false"/></content></TileContent></GenericTile></FlexBox></ScrollContainer><VBox width="100%" height="100%" alignItems="Center" direction="Column" justifyContent="Center" visible="{masterView>/showNoDataMessage}"><core:Icon src="sap-icon://product" size="6rem" color="Critical" tooltip="{i18n>masterListCreateHint}"/><Title text="{i18n>masterListNoDataText}" titleStyle="H1" level="H1"/><Text text="{i18n>masterListCreateHint}"/></VBox></VBox></content><footer><OverflowToolbar><Button icon="sap-icon://add" type="Transparent" tooltip="{i18n>AddFormTooltip}" enabled="{= !${appView>/editMode} }"\n\t\t\t\t\tpress="onCreateFromBtnPress"/><ToolbarSpacer/><Button icon="sap-icon://delete" type="Transparent" tooltip="{i18n>DeleteFormTooltip}"\n\t\t\t\t\tenabled="{= ${masterView>/enableDelete} &amp;&amp; !${appView>/editMode} }" press="onDeleteFromBtnPress"/></OverflowToolbar></footer></Page></mvc:View>',"com/mjzsoft/QuestionnaireBuilder/view/NotAllowed.view.xml":'<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE xml><mvc:View controllerName="com.mjzsoft.QuestionnaireBuilder.controller.NotAllowed" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m"><MessagePage id="page" title="{i18n>notAdminTitle}" text="{i18n>noAdminText}" icon="sap-icon://product" description=""><customDescription><Link id="link" text="{i18n>backToMain}" press="onLinkPressed"/></customDescription></MessagePage></mvc:View>',"com/mjzsoft/QuestionnaireBuilder/view/NotFound.view.xml":'<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE xml><mvc:View controllerName="com.mjzsoft.QuestionnaireBuilder.controller.NotFound" xmlns="sap.m" xmlns:mvc="sap.ui.core.mvc"><MessagePage id="page" title="{i18n>notFoundTitle}" text="{i18n>notFoundText}" icon="sap-icon://document"/></mvc:View>',"com/mjzsoft/QuestionnaireBuilder/view/ObjectDetail.view.xml":'<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE xml><mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:semantic="sap.f.semantic" xmlns:form="sap.ui.layout.form"\n\tcontrollerName="com.mjzsoft.QuestionnaireBuilder.controller.ObjectDetail"><semantic:SemanticPage showFooter="true" busy="{objectDetailView>/busy}" busyIndicatorDelay="{objectDetailView>/delay}"\n\t\tclass="sapUiNoContentPadding"><semantic:titleHeading><HBox><core:Icon src="{path: \'QtypeId\', formatter: \'.formatter.getQuestionIcon\'}" size="1em" tooltip="{i18n>Icon}" class="sapUiSmallMarginEnd"\n\t\t\t\t\tcolor="Default"/><Title text="{objectDetailView>/title}"/></HBox></semantic:titleHeading><semantic:closeAction><semantic:CloseAction press="onPressCloseObjectPage"/></semantic:closeAction><semantic:content><VBox class="sapUiNoMarginTop" visible="{objectDetailView>/EditMode}"><form:Form id="objectDetailFormId" editable="true" busy="{objectDetailView>/busy}"><form:layout><form:ResponsiveGridLayout labelSpanXL="3" labelSpanL="3" labelSpanM="3" labelSpanS="12" adjustLabelSpan="false" emptySpanXL="4"\n\t\t\t\t\t\t\temptySpanL="4" emptySpanM="4" emptySpanS="0" columnsXL="1" columnsL="1" columnsM="1" singleContainerFullSize="false"/></form:layout><form:formContainers><form:FormContainer><form:formElements><form:FormElement label="{i18n>QuestionType}"><form:fields><Select id="questionTypeSelectId" items="{path:\'/QtypeSet\'}" selectedKey="{ path: \'QtypeId\'}" enabled="{= ${objectDetailView>/createMode} }"\n\t\t\t\t\t\t\t\t\t\t\tfieldGroupIds="fieldGroupItem" change="onQuestionTypeSelectChange"><items><core:Item text="{Name}" key="{Id}"/></items></Select></form:fields></form:FormElement><form:FormElement label="{i18n>Mandatory}" visible="{= ${objectDetailView>/isMandatoryVisible} }"><form:fields><Switch state="{ path:\'Mandatory\', formatter:\'.formatter.booleanValue\'}" enabled="{= ${objectDetailView>/editMode} }"\n\t\t\t\t\t\t\t\t\t\t\tfieldGroupIds="fieldGroupItem"><layoutData><FlexItemData growFactor="1"/></layoutData></Switch></form:fields></form:FormElement><form:FormElement label="{i18n>Question}"><form:fields><TextArea value="{path: \'Question\', type : \'sap.ui.model.type.String\', constraints: {minLength:5, search: \'^(?!.*?([\\\\?])\\\\1{1}).*\' }}"\n\t\t\t\t\t\t\t\t\t\t\trows="5" required="true" enabled="{= ${objectDetailView>/editMode}}" fieldGroupIds="fieldGroupItem" liveChange="onInputLiveChange" cols="40"\n\t\t\t\t\t\t\t\t\t\t\tgrowingMaxLines="3" width="100%"/></form:fields></form:FormElement><form:FormElement label="{i18n>Regex}" visible="{= (${QtypeId} === \'QT5\') }"><form:fields><Input id="regexInput" value="{path: \'Regex\', type : \'sap.ui.model.type.String\', constraints: { search: \'\' }}" required="false"\n\t\t\t\t\t\t\t\t\t\t\tenabled="{= ${objectDetailView>/editMode}}" fieldGroupIds="fieldGroupItem" width="100%" showValueHelp="true"\n\t\t\t\t\t\t\t\t\t\t\tshowTableSuggestionValueHelp="false" valueHelpRequest="onRegexValueHelpPressed"/></form:fields></form:FormElement></form:formElements></form:FormContainer></form:formContainers></form:Form><Panel width="auto" expandable="true" expanded="true" visible="{= ${objectDetailView>/questionWithOptions} }"><headerToolbar><Toolbar><Title text="{i18n>tableAnswerTitle}"/><ToolbarSpacer/></Toolbar></headerToolbar><content><Toolbar width="100%"><content><ToolbarSpacer/><Button icon="sap-icon://add" type="Transparent" tooltip="{i18n>AddLabel}" enabled="{= ${objectDetailView>/tableEditMode} }"\n\t\t\t\t\t\t\t\t\tpress="tableAddBtnPress"/><Button icon="sap-icon://delete" type="Transparent" tooltip="{i18n>DeleteLabel}" enabled="{= ${objectDetailView>/tableEditMode} }"\n\t\t\t\t\t\t\t\t\tpress="tableDelBtnPress"/></content></Toolbar><VBox class="sapUiTableCnt"><Table id="tableAnswers" mode="{ path: \'objectDetailView>/tableEditMode\', formatter:\'.formatter.tableModeObjectDetailView\' }"\n\t\t\t\t\t\t\t\tbusyIndicatorDelay="0"\n\t\t\t\t\t\t\t\titems="{ path: \'ObjectOptionsModel>/OptionSet\', filters: [ {path : \'Deleted\', operator : \'EQ\', value1 : false}], sorter : { path : \'Sequence\' } }"><columns><Column width="50%"><header><Label text="{i18n>tableAnswerColumnTitle}"/></header></Column><Column width="20%" hAlign="Center"><header><Label text="{i18n>tableDefaultAnswerColumnTitle}"/></header></Column><Column width="20%" hAlign="Center"><header><Label text="{i18n>tableReorderColumnTitle}"/></header></Column></columns><items><ColumnListItem type="Inactive"><cells><Input value="{path: \'ObjectOptionsModel>Answer\'}"\n\t\t\t\t\t\t\t\t\t\t\t\tvalueState="{path: \'ObjectOptionsModel>Answer\', formatter:\'.formatter.notEmptyValidation\'}" enabled="{= ${objectDetailView>/editMode} }"\n\t\t\t\t\t\t\t\t\t\t\t\tchange=".onOptionAnswerChange"/><CheckBox selected="{path:\'ObjectOptionsModel>DefaultAnswer\', formatter:\'.formatter.booleanValue\'}"\n\t\t\t\t\t\t\t\t\t\t\t\tenabled="{= ${objectDetailView>/editMode} }" select=".onOptionDefaultChange"/><HBox width="100%" alignItems="Center" justifyContent="Center"><Button icon="sap-icon://arrow-top" type="Transparent" tooltip="{i18n>UpTooltip}" enabled="{= ${objectDetailView>/editMode} }"\n\t\t\t\t\t\t\t\t\t\t\t\t\tpress="tableUpBtnPress"/><Button icon="sap-icon://arrow-bottom" type="Transparent" tooltip="{i18n>DownTooltip}" enabled="{= ${objectDetailView>/editMode} }"\n\t\t\t\t\t\t\t\t\t\t\t\t\tpress="tableDownBtnPress"/></HBox></cells></ColumnListItem></items></Table></VBox></content></Panel></VBox></semantic:content><semantic:footerCustomActions><Button icon="sap-icon://edit" tooltip="{i18n>BtnEdit}" visible="{= !${objectDetailView>/editMode} }" press="onPressEdit"/><Button icon="sap-icon://save" tooltip="{i18n>BtnSave}" visible="{= ${objectDetailView>/editMode} }" press="onPressSaveEdit"/><Button icon="sap-icon://sys-cancel" tooltip="{i18n>BtnCancel}" visible="{= ${objectDetailView>/editMode} }" press="onPressCancel"/></semantic:footerCustomActions></semantic:SemanticPage></mvc:View>',"com/mjzsoft/QuestionnaireBuilder/view/ViewSettingsDialog.fragment.xml":'<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE xml><core:FragmentDefinition xmlns:core="sap.ui.core" xmlns="sap.m"><ViewSettingsDialog id="viewSettingsDialog" confirm=".onConfirmViewSettingsDialog"><sortItems><ViewSettingsItem text="{i18n>masterSort1}" key="Name" selected="true"/></sortItems></ViewSettingsDialog></core:FragmentDefinition>',"com/mjzsoft/QuestionnaireBuilder/view/fragment/AddForm.fragment.xml":'<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE xml><core:FragmentDefinition id="AddForm" xmlns="sap.m" xmlns:f="sap.ui.layout.form" xmlns:core="sap.ui.core"><Dialog title="{appView>/CreateEditSurveyTitle}" afterClose="onAfterCloseDialog" draggable="true"><content><VBox class="sapUiSmallMargin"><f:Form editable="true" busy="{oViewModel>/busy}"><f:layout><f:ResponsiveGridLayout labelSpanXL="3" labelSpanL="3" labelSpanM="3" labelSpanS="12" adjustLabelSpan="false" emptySpanXL="4" emptySpanL="4"\n\t\t\t\t\t\t\temptySpanM="4" emptySpanS="0" columnsXL="1" columnsL="1" columnsM="1" singleContainerFullSize="false"/></f:layout><f:formContainers><f:FormContainer><f:formElements><f:FormElement label="{i18n>Name}"><f:fields><Input id="titleId" value="{path: \'oFragViewModel>/Name\', type : \'sap.ui.model.type.String\' , constraints:{minLength : 1} }" enabled="true"\n\t\t\t\t\t\t\t\t\t\t\tfieldGroupIds="fieldGroupItem" liveChange="onCreateFormTitleLiveChange"/></f:fields></f:FormElement><f:FormElement><f:label><Label text="{i18n>Icon}" width="100%" textAlign="Begin" textDirection="Inherit"/></f:label><f:fields><core:Icon src="{oFragViewModel>/IconSrc}" size="80px" tooltip="{i18n>Icon}" press="onIconPress"/></f:fields></f:FormElement><f:FormElement label="{i18n>ValidFrom}"><f:fields><DateTimePicker id="startDateTime" placeholder="{i18n>startDatePlaceHolder}" change="onStartDateChange"\n\t\t\t\t\t\t\t\t\t\t\tvalue="{path: \'oFragViewModel>/ValidFrom\', type: \'sap.ui.model.type.DateTime\'}" valueStateText="{i18n>startDateValidation}"\n\t\t\t\t\t\t\t\t\t\t\tvalueState="{parts: [{path: \'oFragViewModel>/ValidFrom\'}, {path: \'oFragViewModel>/ValidTo\'}, {path: \'appView>/datesChanged\'}], formatter: \'.formatter.checkStartDate\'}"/><DateTimePicker id="endDateTime" placeholder="{i18n>endDatePlaceHolder}" change="onEndDateChange"\n\t\t\t\t\t\t\t\t\t\t\tvalue="{path: \'oFragViewModel>/ValidTo\', type: \'sap.ui.model.type.DateTime\'}" valueStateText="{i18n>endDateValidation}"\n\t\t\t\t\t\t\t\t\t\t\tvalueState="{parts: [{path: \'oFragViewModel>/ValidFrom\'}, {path: \'oFragViewModel>/ValidTo\'}, {path: \'appView>/datesChanged\'}], formatter: \'.formatter.checkEndDate\'}"/></f:fields></f:FormElement><f:FormElement label="{i18n>statePublic}"><f:fields><Switch state="{oFragViewModel>/Universal}" /></f:fields></f:FormElement></f:formElements></f:FormContainer></f:formContainers></f:Form></VBox></content><beginButton><Button id="SaveBtnId" type="Emphasized" text="{i18n>BtnSave}" press="onSaveForm"/></beginButton><endButton><Button text="{i18n>BtnClose}" press="onCancelForm"/></endButton></Dialog></core:FragmentDefinition>',"com/mjzsoft/QuestionnaireBuilder/view/fragment/DialogIconSelector.fragment.xml":'<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE xml><core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:form="sap.ui.layout.form"><SelectDialog id="iconDialog" title="{i18n>iconSelectionTitle}" items="{path: \'/IconSet\'}" search="handleSearchIcon"\n\t\tnoDataText="{i18n>noIconsText}" liveChange="liveSearchIcon" confirm="handleCloseIcon" draggable="true"><StandardListItem title="{Name}" icon="{Source}" iconDensityAware="false" iconInset="false" type="Active"/></SelectDialog></core:FragmentDefinition>',"com/mjzsoft/QuestionnaireBuilder/view/fragment/DialogRegexSelector.fragment.xml":'<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE xml><core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><SelectDialog noDataText="{i18n>noRegexExist}" title="{i18n>regexDialogTitle}" liveChange=".onRegexDialogLiveSearch" draggable="true"\n\t\tsearch=".onRegexDialogSearch" confirm=".onRegexDialogClose" cancel=".onRegexDialogClose" items="{ path: \'/RegexSet\' }"><StandardListItem title="{Name}" description="{Expression}" icon="sap-icon://bbyd-active-sales" iconDensityAware="false" iconInset="false"\n\t\t\ttype="Active"/></SelectDialog></core:FragmentDefinition>'}});