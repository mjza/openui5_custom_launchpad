sap.ui.define(["sap/ui/core/message/Message","sap/ui/core/MessageType"],function(e,s){"use strict";var t=function(){this._isValid=true;this._isValidationPerformed=false;this._aMessages=[];this._oMessageProcessor=new sap.ui.core.message.ControlMessageProcessor;this._oMessageManager=sap.ui.getCore().getMessageManager()};t.prototype.isValid=function(){return this._isValidationPerformed&&this._isValid};t.prototype.validate=function(e){this._isValid=true;this._validate(e);return this.isValid()};t.prototype._validate=function(t){this._removeMessagesOf(t);var a=["items","content","form","formContainers","formElements","fields","cells"],i=null,r=null,o=["value","selectedKey","text","dateValue"],g=false,n,l,f,u;if(t instanceof sap.ui.core.Control||t instanceof sap.ui.layout.form.FormContainer||t instanceof sap.ui.layout.form.FormElement){if(t.getVisible()){for(f=0;f<o.length;f+=1){if(t.getBinding(o[f])){if(t.getBinding(o[f]).getType()){try{r=t.getBinding(o[f]);n=t.getProperty(o[f]);l=r.getType().parseValue(n,r.sInternalType);t.getBinding(o[f]).getType().validateValue(l)}catch(a){this._isValid=false;var d=typeof t.getValueStateText==="function"?t.getValueStateText():undefined,p=new e({message:typeof d==="string"&&d.trim().length>0?d:a.message,type:s.Error,target:"/"+t.getId()+"/"+o[f],processor:this._oMessageProcessor});this._aMessages[t.getId()]=p;this._oMessageManager.addMessages(p)}g=true}else if(t instanceof sap.m.InputBase&&t.getRequired()){n=t.getProperty(o[f]);if(!n||typeof n==="string"&&n.trim().length===0){this._isValid=false;r=t.getBinding(o[f]);d=typeof t.getValueStateText==="function"?t.getValueStateText():null;p=new e({message:d,type:s.Error,target:"/"+t.getId()+"/"+o[f],processor:this._oMessageProcessor});this._aMessages[t.getId()]=p;this._oMessageManager.addMessages(p)}g=true}}}if(!g){for(f=0;f<a.length;f+=1){i=t.getAggregation(a[f]);if(i){if(i instanceof Array){for(u=0;u<i.length;u+=1){this._validate(i[u])}}else{this._validate(i)}}}}}}this._isValidationPerformed=true};t.prototype._removeMessagesOf=function(e){if(this._aMessages[e.getId()]){sap.ui.getCore().getMessageManager().removeMessages([this._aMessages[e.getId()]]);if(typeof e.setValueState==="function"){e.setValueState(sap.ui.core.ValueState.None)}delete this._aMessages[e.getId()]}};t.prototype.removeAllMessages=function(){sap.ui.getCore().getMessageManager().removeAllMessages();for(var e in this._aMessages){if(e&&this._aMessages[e]){sap.ui.getCore().getMessageManager().removeMessages(this._aMessages[e]);var s=sap.ui.getCore().byId(e);if(s&&typeof s.setValueState==="function"){s.setValueState(sap.ui.core.ValueState.None)}}}this._aMessages=[]};return t});