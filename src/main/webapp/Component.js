sap.ui.define(["sap/ui/core/UIComponent","sap/ui/Device","com/mjzsoft/Mjzsoft0Launchpad/model/models","com/mjzsoft/Mjzsoft0Launchpad/js/jwtAuth","com/mjzsoft/Mjzsoft0Launchpad/conf/env"],function(t,e,s,i,n){"use strict";return t.extend("com.mjzsoft.Mjzsoft0Launchpad.Component",{metadata:{manifest:"json"},init:function(){t.prototype.init.apply(this,arguments);this.getRouter().initialize();this.setModel(s.createDeviceModel(),"device");this.setModel(s.createLanguageModel(),"languages");if(this._checkEmailConfirmation()&&this._checkPasswordReset()){var e=this.getTargets();i.hasSession(function(t){if(!t){e.display("TargetLogin");return}this.getModel().setHeaders({Authorization:i.getJwt()});e.display("TargetHome")}.bind(this))}},_checkEmailConfirmation:function(){var t=""+window.location.href;var e=/([?&]email-confirmation-token)=([^#&]*)/g;var s=e.exec(t);var n=true;if(s&&s.length>0){var a=s[2];if(a!=="0"){e=/([?&]token)=([^#&]*)/g;s=e.exec(t);if(s&&s.length>0){var o=s[2];var r=this.getTargets();i.confirmEmail(o,function(t,e,s){r.display("TargetSuccess");n=false},function(t,e,s){r.display("TargetError");n=false})}}}return n},_checkPasswordReset:function(){var t=""+window.location.href;var e=/([?&]password-reset-token)=([^#&]*)/g;var s=e.exec(t);var i=true;if(s&&s.length>0){var n=s[2];if(n!=="0"){e=/([?&]token)=([^#&]*)/g;s=e.exec(t);if(s&&s.length>0){var a=this.getTargets();a.display("TargetPasswordReset");i=false}}}return i},destroy:function(){t.prototype.destroy.apply(this,arguments)},getContentDensityClass:function(){if(this._sContentDensityClass===undefined){if(jQuery(document.body).hasClass("sapUiSizeCozy")||jQuery(document.body).hasClass("sapUiSizeCompact")){this._sContentDensityClass=""}else if(!e.support.touch){this._sContentDensityClass="sapUiSizeCompact"}else{this._sContentDensityClass="sapUiSizeCozy"}}return this._sContentDensityClass},getJwtAuth:function(){return i}})});