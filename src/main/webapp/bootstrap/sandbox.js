// Copyright (c) 2009-2017 SAP SE, All Rights Reserved
this.sap=this.sap||{};(function(){"use strict";sap.ushell=sap.ushell||{};function e(e,n,i){var o=n;if(isNaN(n)||n<0){o=0}var a=i;if(!i){a=window}if(e===undefined){return a}var t=e.split(".");if(isNaN(n)){o=t.length}var s=a;try{for(var r=0;r<t.length;r++){if(s[t[r]]){s=s[t[r]]}else if(r<t.length-o){s[t[r]]={};s=s[t[r]]}else{s=undefined;break}}}catch(e){return undefined}return s}function n(e){try{var n=window.location.search,i=new URLSearchParams(n);return i.get(e)}catch(e){return null}}function i(e,n,o){var a=o?JSON.parse(JSON.stringify(n)):n;if(typeof n!=="object"){return}Object.keys(a).forEach(function(n){if(Object.prototype.toString.apply(e[n])==="[object Object]"&&Object.prototype.toString.apply(a[n])==="[object Object]"){i(e[n],a[n],false);return}e[n]=a[n]})}function o(n){var o,a,t,s;function r(e){var n=[],i;if(!e||!e.applications||typeof e.applications!=="object"){return n}for(i in e.applications){if(e.applications.hasOwnProperty(i)&&i!==""){n.push(i)}}return n}function l(e,n,i){var o=e.title||e.additionalInformation.replace("SAPUI5.Component=","").split(".").pop();return{id:"sap_ushell_generated_tile_id_"+n,title:o,size:"1x1",tileType:"sap.ushell.ui.tile.StaticTile",properties:{chipId:"sap_ushell_generated_chip_id",title:o,info:e.description,targetURL:"#"+i}}}o=r(n);if(o.length){a=e("services.LaunchPage.adapter.config",0,n);if(!a.groups){a.groups=[]}s={id:"sap_ushell_generated_group_id",title:"Generated Group",tiles:[]};a.groups.unshift(s);o.forEach(function(e,i){s.tiles.push(l(n.applications[e],i,e))});t=e("services.NavTargetResolution.adapter.config.applications",0,n);i(t,n.applications,true);delete n.applications}return n}function a(e){var n=e.toLowerCase().endsWith(".json")?e:e+".json";jQuery.sap.log.info("Mixing/Overwriting sandbox configuration from "+n+".");var o=jQuery.ajax({url:n,cache:false,dataType:"json",async:false});o.done(function(e){jQuery.sap.log.debug("Evaluating fiori launchpad sandbox config JSON: "+JSON.stringify(e));i(window["sap-ushell-config"]||{},e,true)});o.fail(function(e,i){if(e.statusCode!==404){jQuery.sap.log.error("Failed to load Fiori Launchpad Sandbox configuration from "+n+": status: "+e.status+"; error: "+e.error)}})}function t(){var e,n,i,o;n=window.document.getElementById("sap-ushell-bootstrap");if(!n){e=window.document.getElementsByTagName("script");n=e[e.length-1]}i=n.src;o=i.split("?")[0].split("/").slice(0,-1).join("/")+"/";return o}function s(n){var i=window["sap-ushell-config"],o;if(typeof n==="string"&&n!==""){i.defaultRenderer=n}o=e("services.NavTargetResolution.adapter.config.applications",5,i);if(typeof o==="object"&&i.defaultRenderer!=="fiorisandbox"){delete o[""]}}function r(i){var r=n("sap-ushell-sandbox-config",true),l=n("sap-ushell-sandbox-renderer"),p,u,f,c;sap.ui.require(["sap/ushell/services/Container"],function(d){sap.ui.loader.config({paths:{"sap/ushell/renderers/fiorisandbox":t()+"../renderers/fiorisandbox/"}});var g=n("sap-language"),h="_en";if(g&&g.length>=2){h="_"+g.toLowerCase().substring(0,2)}a(t()+"../sandbox/fioriSandboxConfig"+h+".json");if(r&&r.length>0){for(p=0;p<r.length;p=p+1){a(r[p])}}else{a(t()+"../appconfig/fioriSandboxConfig.json")}s(l);window["sap-ushell-config"]=o(window["sap-ushell-config"]);f=e("renderers.fiori2.componentData.config",0,window["sap-ushell-config"]);if(!f.rootIntent){f.rootIntent="Shell-home"}c=e("services.Ui5ComponentLoader.config",0,window["sap-ushell-config"]);if(!c.hasOwnProperty("amendedLoading")){c.amendedLoading=false}u=e("services.ClientSideTargetResolution.adapter.config",0,window["sap-ushell-config"]);u.applications=e("services.NavTargetResolution.adapter.config.applications",undefined,window["sap-ushell-config"]);sap.ushell.bootstrap("local").done(i)})}window["sap-ui-config"]={"xx-bootTask":r};sap.ushell.__sandbox__=sap.ushell.__sandbox__||{};sap.ushell.__sandbox__._adjustApplicationConfiguration=o;sap.ushell.__sandbox__._applyJsonApplicationConfig=a;sap.ushell.__sandbox__._evaluateCustomRenderer=s;sap.ushell.__sandbox__._bootstrap=r})();